<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<cnt-engagement-accordian-view-dc
  [index]="index"
  [isNin]="isNin"
  [isOpenInitially]="isFirst"
  [engagement]="engagement"
  [engagementLength]="engagementLength"
  [contributorData]="contributorData"
  [actionList]="individualApp ? engagement.overallactionList : actionList"
  [establishment]="establishment"
  [isUnifiedProfile]="isUnifiedProfile"
  [individualApp]="individualApp"
  [enableCardTag]="true"
  [privateSector]="!engagement.ppaIndicator"
  [engagementType]="engagement.engagementType"
  [currentUserRoles]="currentUserRoles"
  [isBackdatedFlag]="engagement.backdatingIndicator"
  (selected)="handleEngagementAction($event)"
></cnt-engagement-accordian-view-dc>

<!-- Templates -->
<ng-template #notTrustedTemplate>
  <cnt-confirm-modal-dc>
    <div card-header>{{ 'CONTRIBUTOR.NOT-REGISTERED-IN-ABSHER' | translate }}</div>
    <div card-body></div>
    <div card-footer>
      <div class="row justify-content-center align-items-center">
        <div class="btn-section">
          <gosi-button-dc id="cancelBtn" type="secondary" (submit)="hideModal()">
            {{ 'CONTRIBUTOR.OK' | translate }}
          </gosi-button-dc>
        </div>
      </div>
    </div>
  </cnt-confirm-modal-dc>
</ng-template>

<ng-template #reactivateTemplate>
  <cnt-confirm-modal-dc>
    <div card-header>{{ 'CONTRIBUTOR.REACTIVATE.ELIGIBILITY-POPUP' | translate }}</div>
    <div card-body></div>
    <div card-footer>
      <div class="row justify-content-center align-items-center">
        <div class="btn-section">
          <gosi-button-dc id="cancelBtn" type="secondary" (submit)="hideModal()">
            {{ 'CONTRIBUTOR.OK' | translate }}
          </gosi-button-dc>
        </div>
      </div>
    </div>
  </cnt-confirm-modal-dc>
</ng-template>


<ng-template #templateCancelContract>
  <div class="custom-modal">
    <gosi-modal-dc>
      <div modalContent>
        <div class="content">
          <div class="">
            <div class="failure-section">
              <div class="row text-center">
                <div class="col-lg-12 image text-center">
                  <img src="assets/images/info blue icon.svg" alt="Failed" />
                </div>
                <div class="col-lg-12 message text-center">
                  <b> {{ 'CONTRIBUTOR.CONTRACT-AUTH.CANCEL-ADD-CONTRACT-MESSAGE' | translate }} </b>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-around mt-5" modalAction>
        <div class="btn-section">
          <gosi-button-dc id="noBtn" type="secondary" (submit)="hideModal()">
            {{ 'CONTRIBUTOR.NO' | translate }}
          </gosi-button-dc>
        </div>
        <div class="btn-section">
          <gosi-button-dc id="yesBtn" type="secondary" (submit)="confirmCancelContract()">
            {{ 'CONTRIBUTOR.YES' | translate }}
          </gosi-button-dc>
        </div>
      </div>
    </gosi-modal-dc>
  </div>
</ng-template>
<ng-template #einspectionPopUpTemplate>
  <cnt-confirm-modal-dc>
    <div card-header></div>
    <div card-body>
      <div>
        <img src="assets/images/info blue icon.svg" alt="Failed" />
      </div>
      <div>
        <b>{{ errMessage }}</b>
      </div>
      <div>
        <li
          *ngFor="let detail of errDetails"
          [ngStyle]="{ 'list-style-type': errDetails.length == '1' ? 'none' : 'disc' }"
        >
          <b>{{ detail }}</b>
        </li>
      </div>
    </div>
    <div card-footer>
      <div class="row justify-content-center align-items-center">
        <div class="btn-section">
          <gosi-button-dc id="cancelBtn" type="secondary" (submit)="hideModal()">
            {{ 'CONTRIBUTOR.OK' | translate }}
          </gosi-button-dc>
        </div>
      </div>
    </div>
  </cnt-confirm-modal-dc>
</ng-template>

<ng-template #draftRequiredTemplate>
  <cnt-draft-required-popup-dc
  [transactionRefNo]="transactionTraceId"
  (keepDraftEvent)="showDraft()"
  (discardEvent)="clearDraft()"
  (onCancel)="hideModal()"
  >  
  </cnt-draft-required-popup-dc>
</ng-template>
