<!-- section 1 establishment licence -->
<div class="row">
  <div class="col-lg-12">
    <div class="section-divider">
      <ng-container *ngIf="establishment?.molEstablishmentIds">
        <est-mol-details-dc
          [molDetails]="establishment?.molEstablishmentIds"
          [molFileStatus]="establishment?.molFileStatus"
        ></est-mol-details-dc>
      </ng-container>
      <div class="row">
        <ng-container *ngIf="establishment?.crn">
          <!-- remove the showCrn  after the 325260 -->
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc id="crnNumber" [control]="establishment?.crn?.number" label="ESTABLISHMENT.CRN-NUMBER">
            </gosi-label-dc>
          </div>
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="crnNumber"
              [control]="establishment?.crn?.issueDate?.gregorian"
              [date]="true"
              label="ESTABLISHMENT.CRN-ISSUE-DATE"
            ></gosi-label-dc>
          </div>
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              [date]="true"
              id="crnExpiryDate"
              [control]="establishment?.crn?.expiryDate?.gregorian"
              label="ESTABLISHMENT.CRN-EXPIRY-DATE"
            ></gosi-label-dc>
          </div>
          <div class="col-sm-12 col-md-4 col-lg-4" *ngIf="isBranch">
            <gosi-label-dc
              id="mainCrnNumber"
              [control]="establishment?.mainCrn?.number"
              label="ESTABLISHMENT.MAIN-CRN-NUMBER"
            >
            </gosi-label-dc>
          </div>
          <gosi-label-dc
            class="col-md-4 col-sm-12"
            id="crnStatus"
            label="{{ 'ESTABLISHMENT.CRN-STATUS-ENG' | bilingualText }}"
            [value]="establishment?.crStatus | bilingualText"
          >
          </gosi-label-dc>
        </ng-container>
      </div>
    </div>
  </div>
  <!-- establishmnet Details -->
  <div class="col-md-12">
    <div class="section-divider">
      <div class="row">
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc id="legalEntity" [control]="establishment?.legalEntity" label="ESTABLISHMENT.LEGAL-ENTITY">
          </gosi-label-dc>
        </div>
        <ng-container *ngIf="isLegalEntityModified">
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="legalEntity"
              [control]="estToValidate?.legalEntity"
              label="ESTABLISHMENT.MODIFIED-LEGAL-ENTITY"
            >
            </gosi-label-dc>
          </div>
        </ng-container>
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            id="establishmentType"
            [control]="establishment?.establishmentType"
            label="ESTABLISHMENT.ESTABLISHMENT-TYPE"
          ></gosi-label-dc>
        </div>
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            id="license"
            [control]="establishment?.license?.number"
            label="ESTABLISHMENT.LICENSE-NUMBER"
          ></gosi-label-dc>
        </div>
        <ng-container *ngIf="isLicenseModified">
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="licenseNumber"
              [control]="estToValidate?.license?.number"
              label="ESTABLISHMENT.MODIFIED-LICENSE-NUMBER"
            >
            </gosi-label-dc>
          </div>
        </ng-container>
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            id="licenseIssuingAuthority"
            [control]="establishment?.license?.issuingAuthorityCode"
            label="ESTABLISHMENT.LICENSE-ISSUING-AUTHORITY"
          ></gosi-label-dc>
        </div>
        <ng-container *ngIf="isLicenseAuthorityModified">
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="licenseIssuingAuthority"
              [control]="estToValidate?.license?.issuingAuthorityCode"
              label="ESTABLISHMENT.MODIFIED-LICENSE-ISSUING-AUTHORITY"
            ></gosi-label-dc>
          </div>
        </ng-container>
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            id="licenseIssueDate"
            [date]="true"
            [control]="establishment?.license?.issueDate?.gregorian"
            label="ESTABLISHMENT.LICENSE-ISSUE-DATE"
          >
          </gosi-label-dc>
        </div>
        <ng-container *ngIf="isLicenseIssueModified">
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="licenseIssueDate"
              [date]="true"
              [control]="estToValidate?.license?.issueDate?.gregorian"
              label="ESTABLISHMENT.MODIFIED-LICENSE-ISSUE-DATE"
            >
            </gosi-label-dc>
          </div>
        </ng-container>
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            id="licenseExpiryDate"
            [date]="true"
            [control]="establishment?.license?.expiryDate?.gregorian"
            label="ESTABLISHMENT.LICENSE-EXPIRY-DATE"
          >
          </gosi-label-dc>
        </div>
        <ng-container *ngIf="isLicenseExpiryModified">
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="licenseExpiryDate"
              [date]="true"
              [control]="estToValidate?.license?.expiryDate?.gregorian"
              label="ESTABLISHMENT.MODIFIED-LICENSE-EXPIRY-DATE"
            >
            </gosi-label-dc>
          </div>
        </ng-container>
        <div class="col-sm-12 col-md-4 col-lg-4" *ngIf="establishment?.proactive">
          <gosi-label-dc
            id="unifiedNationalNumber"
            label="ESTABLISHMENT.UNIFIED-NATIONAL-NO"
            [control]="establishment?.unifiedNationalNumber"
          ></gosi-label-dc>
        </div>
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            id="recruitmentNo"
            [control]="establishment?.recruitmentNo"
            label="ESTABLISHMENT.RECRUITMENT-NO"
          >
          </gosi-label-dc>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-12">
    <div class="section-divider">
      <div class="row">
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            id="arabicName"
            [control]="establishment?.name?.arabic"
            label="ESTABLISHMENT.ESTABLISHMENT-NAME-AR"
          >
          </gosi-label-dc>
        </div>
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            id="englishName"
            [control]="establishment?.name?.english"
            label="ESTABLISHMENT.ESTABLISHMENT-NAME-EN"
          >
          </gosi-label-dc>
        </div>
        <ng-container *ngIf="isEngNameModified">
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="englishName"
              [control]="estToValidate?.name?.english"
              label="ESTABLISHMENT.MODIFIED-ESTABLISHMENT-NAME-AR"
            >
            </gosi-label-dc>
          </div>
        </ng-container>
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            id="establishmentStartDate"
            [date]="true"
            [control]="establishment?.startDate?.gregorian | gosiDate"
            label="ESTABLISHMENT.ESTABLISHMENT-START-DATE"
          ></gosi-label-dc>
        </div>
        <ng-container *ngIf="isStartDateModified">
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="establishmentStartDate"
              [date]="true"
              [control]="estToValidate?.startDate?.gregorian | gosiDate"
              label="ESTABLISHMENT.MODIFIED-START-DATE"
            ></gosi-label-dc>
          </div>
        </ng-container>
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc id="activityType" [control]="establishment?.activityType" label="ESTABLISHMENT.ACTIVITY-TYPE">
          </gosi-label-dc>
        </div>
        <ng-container *ngIf="isTypeModified">
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="activityType"
              [control]="estToValidate?.activityType"
              label="ESTABLISHMENT.MODIFIED-ACTIVITY-TYPE"
            >
            </gosi-label-dc>
          </div>
        </ng-container>
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc id="nationality" [control]="establishment?.nationalityCode" label="ESTABLISHMENT.NATIONALITY">
          </gosi-label-dc>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-12">
    <div class="section-divider">
      <div class="row">
        <div class="col-sm-12 col-md-12">
          <span class="card-heading">
            {{ 'ESTABLISHMENT.ADDRESS-DETAILS' | translate }}
          </span>
        </div>
        <div class="row pt-2">
          <ng-container *ngIf="iscCurrentMailingAddressChanged">
            <div class="col-sm-12 col-md-6 col-lg-6">
              <gosi-label-dc
                id="current"
                value="{{
                  (establishment?.contactDetails?.currentMailingAddress === nationalType
                    ? 'FORM-FRAGMENTS.NATIONAL-ADDRESS'
                    : establishment?.contactDetails?.currentMailingAddress === poAddressType
                    ? 'FORM-FRAGMENTS.PO-ADDRESS'
                    : establishment?.contactDetails?.currentMailingAddress === foriegnType
                    ? 'FORM-FRAGMENTS.FOREIGN-ADDRESS'
                    : 'ESTABLISHMENT.NOT-AVAILABLE'
                  ) | translate
                }}"
                label="ESTABLISHMENT.PREFERRED-MAILING-ADDRESS"
              >
              </gosi-label-dc>
            </div>
            <!--modified-->
            <div class="col-sm-12 col-md-6 col-lg-6">
              <gosi-label-dc
                id="ibanNumber"
                value="{{
                  (estToValidate?.contactDetails?.currentMailingAddress === nationalType
                    ? 'FORM-FRAGMENTS.NATIONAL-ADDRESS'
                    : estToValidate?.contactDetails?.currentMailingAddress === poAddressType
                    ? 'FORM-FRAGMENTS.PO-ADDRESS'
                    : estToValidate?.contactDetails?.currentMailingAddress === foriegnType
                    ? 'FORM-FRAGMENTS.FOREIGN-ADDRESS'
                    : 'ESTABLISHMENT.NOT-AVAILABLE'
                  ) | translate
                }}"
                [label]="'ESTABLISHMENT.MODIFIED-PREFERRED-MAILING-ADDRESS' | translate"
              >
              </gosi-label-dc>
            </div>
          </ng-container>
        </div>
        <div class="col-sm-12 col-md-6 col-lg-6">
        <est-address-transaction-view-dc
          [addressDetails]="estToValidate?.contactDetails.addresses"
          [oldAddressDetails]="establishment?.contactDetails.addresses"
          [hasPOAddress]="isPoxAddressChanged"
          [hasNationalAddress]="isNationalAddressChanged"
        ></est-address-transaction-view-dc>
      </div>
        <ng-container *ngIf="!isPoxAddressChanged && !isNationalAddressChanged">
          <div class="col-md-12 pt-3">
            <frm-address-dc
              [isPaddingRequired]="false"
              [isViewOnly]="true"
              [showEdit]="false"
              [hasAddressDetailsLabel]="false"
              [addressDetails]="establishment?.contactDetails?.addresses"
              [hasNationalAddress]="!isGCC"
              [hasPOAddress]="!isGCC"
              [hasOverseasAddress]="isGCC"
              [currentMailingAddress]="establishment?.contactDetails?.currentMailingAddress"
            >
            </frm-address-dc>
          </div>
        </ng-container>
      </div>
    </div>
  </div>

  <ng-container *ngIf="establishment?.contactDetails">
    <div class="col-md-12">
      <div class="row">
        <div class="col-sm-12 col-md-12">
          <span class="card-heading">
            {{ 'ESTABLISHMENT.CONTACT-DETAILS' | translate }}
          </span>
        </div>
        <div class="col-sm-12 col-md-4 col-lg-4 pt-3">
          <gosi-label-dc
            id="mobileNo"
            [control]="establishment?.contactDetails?.mobileNo?.primary"
            label="ESTABLISHMENT.MOBILE-NUMBER"
          >
            <span id="prefixValue">{{ getISDCodePrefix() }}</span>
          </gosi-label-dc>
        </div>
        <ng-container *ngIf="isMobileNoModified">
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="mobileNo"
              [control]="estToValidate?.contactDetails?.mobileNo?.primary"
              label="ESTABLISHMENT.MODIFIED-MOBILE-NUMBER"
            >
              <span id="prefixValue">{{ getISDCodePrefix() }}</span>
            </gosi-label-dc>
          </div>
        </ng-container>
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            id="telephoneNumber"
            [control]="establishment?.contactDetails?.telephoneNo?.primary"
            label="ESTABLISHMENT.TELEPHONE-NUMBER"
          ></gosi-label-dc>
        </div>
        <ng-container *ngIf="isTeleNoModified">
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="telephoneNumber"
              [control]="estToValidate?.contactDetails?.telephoneNo?.primary"
              label="ESTABLISHMENT.MODIFIED-TELEPHONE-NUMBER"
            ></gosi-label-dc>
          </div>
        </ng-container>
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            id="extension"
            [control]="establishment?.contactDetails?.telephoneNo?.extensionPrimary"
            label="ESTABLISHMENT.EXTENSION"
          ></gosi-label-dc>
        </div>
        <ng-container *ngIf="isTeleExtNoModified">
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="extension"
              [control]="estToValidate?.contactDetails?.telephoneNo?.extensionPrimary"
              label="ESTABLISHMENT.MODIFIED-EXTENSION"
            ></gosi-label-dc>
          </div>
        </ng-container>
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            id="emailId"
            [control]="establishment?.contactDetails?.emailId?.primary"
            label="ESTABLISHMENT.EMAIL-ID"
          ></gosi-label-dc>
        </div>
        <ng-container *ngIf="isEmailModified">
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="emailId"
              [control]="estToValidate?.contactDetails?.emailId?.primary"
              label="ESTABLISHMENT.MODIFIED-EMAIL-ID"
            ></gosi-label-dc>
          </div>
        </ng-container>
      </div>
    </div>
  </ng-container>
</div>
