<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<div class="d-lg-flex justify-content-between flex-wrap">
  <dsb-establishment-list-dc
    [establishmentList]="establishmentList"
    [selectedEstablishment]="selectedEstablishment"
    [canBack]="canBack"
    (back)="onBack()"
    [lang]="lang"
    (select)="onSelect($event)"
  ></dsb-establishment-list-dc>
  <div *ngIf="!isBranch" class="d-flex align-items-start custom-flex">
    <div class="search-header flex-grow-1 d-flex">
      <gosi-search-dc
        #search
        id="search-area"
        class="w-100 search-area"
        [placeholder]="'DASHBOARD.SEARCH-PLACEHOLDER' | translate"
        (keyup)="onSearchEnable($event.target.value)"
        (search)="searchEstablishments($event)"
        [searchParam]="searchParam"
      ></gosi-search-dc>
      <dsb-establishment-filter-dc
        #filterComponent
        (filter)="onFilter($event)"
        [searchRequest]="searchRequest"
        class="px-lg-2 px-0"
        [villageLocationList]="villageLocationList"
      ></dsb-establishment-filter-dc>
    </div>
    <div class="sort-section d-flex justify-content-end align-items-center">
      <gosi-sort-dc
        (direction)="directionToggle($event)"
        class="sort-block"
        (sortItemSelected)="onSortItemSelected($event)"
        [list]="sortList"
        [initialValue]="sortValue"
        [isBackgroundWhite]="false"
      >
      </gosi-sort-dc>
    </div>
  </div>

  <div *ngIf="isBranch" class="branch-item-wrapper d-flex justify-content-end align-items-center">
    <div class="px-4 d-flex align-items-center">
      <fa-icon
        [icon]="['fas', 'map-marker-alt']"
        size="lg"
        class="d-flex align-items-center location-icon pr-3"
      ></fa-icon>
      <span class="location-label">{{ location | bilingualText }}</span>
    </div>
    <div class="p-2 flex-shrink-1 bd-highlight circle">
      <fa-icon [icon]="['fas', 'cog']" class="head-icon fa-s"></fa-icon>
    </div>
  </div>
</div>
