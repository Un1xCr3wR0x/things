<gosi-breadcrumb-dc> </gosi-breadcrumb-dc>
<!-- heading section -->
<div class="content pb-1">
  <est-heading-dc [shouldPrompt]="false" [canNavigate]="false" (backEvent)="cancelTransaction()">
    {{ 'ESTABLISHMENT.GEN-CERTIFICATE' | translate }}
  </est-heading-dc>
  <gosi-alert-sc [noSpacing]="true"></gosi-alert-sc>
  <div class="row">
    <!-- est details -->
    <div class="col-md-12">
      <est-establishment-heading-dc
        [heading]="'ESTABLISHMENT.ESTABLISHMENT-DETAILS' | translate"
        [establishment]="establishmentProfile"
        [showType]="true"
        [showRegNo]="false"
      ></est-establishment-heading-dc>
    </div>
    <!-- certificate details -->
    <div class="col-md-12">
      <gosi-card-dc size="md" [heading]="'ESTABLISHMENT.CERT-TYPE' | translate" type="secondary" [paddingBottom]="true">
        <div class="certificates row">
          <est-certificate-dc
            class="certificate col"
            [heading]="'ESTABLISHMENT.GOSI-CERT' | translate"
            (generateCert)="generate(certificateType.GOSI)"
            (showDetails)="showEligibiltyCriteria(certificateType.GOSI)"
            [isEligible]="gosiEligible"
            [isLoaded]="eligibiltyStatus.indexOf(certificateType.GOSI) !== -1"
          ></est-certificate-dc>
          <est-certificate-dc
            class="certificate col"
            *ngIf="!isPpa"
            heading="{{ (isMain ? 'ESTABLISHMENT.ZAKAT-CERT-MAIN' : 'ESTABLISHMENT.ZAKAT-CERT') | translate }}"
            (generateCert)="generate(certificateType.ZAKAT)"
            (showDetails)="showEligibiltyCriteria(certificateType.ZAKAT)"
            [isEligible]="zakatEligible"
            [isLoaded]="eligibiltyStatus.indexOf(certificateType.ZAKAT) !== -1"
          ></est-certificate-dc>
          <est-certificate-dc
            *ngIf="isMain && hasBranches && !isPpa"
            class="certificate col"
            [heading]="'ESTABLISHMENT.ZAKAT-CERT-GROUP' | translate"
            (generateCert)="generate(certificateType.ZAKAT_GROUP)"
            (showDetails)="showEligibiltyCriteria(certificateType.ZAKAT_GROUP)"
            [isEligible]="zakatGroupEligible"
            [isLoaded]="eligibiltyStatus.indexOf(certificateType.ZAKAT_GROUP) !== -1"
          ></est-certificate-dc>
          <est-certificate-dc
            *ngIf="isGOL && !isPpa"
            class="certificate col"
            [heading]="'ESTABLISHMENT.OH-CERTIFICATE' | translate"
            (generateCert)="generate(certificateType.OH_CERT)"
            (showDetails)="showEligibiltyCriteria(certificateType.OH_CERT)"
            [isEligible]="OHCertEligible"
            [isLoaded]="eligibiltyStatus.indexOf(certificateType.OH_CERT) !== -1"
          ></est-certificate-dc>
        </div>
      </gosi-card-dc>
    </div>
  </div>
</div>
<ng-template #unauthorizedToGenerateCertificateTemplate>
  <gosi-modal-dc [modalHeader]="'ESTABLISHMENT.GEN-CERTIFICATE' | translate">
    <div modalContent>
      <gosi-alert-dc
        [message]="'ESTABLISHMENT.WARNING.UAUTHORIZED-ACTION' | translate"
        type="warning"
        [dismissible]="false"
      ></gosi-alert-dc>
    </div>
    <div class="d-flex justify-content-center" modalAction>
      <gosi-button-dc type="secondary" id="close" (submit)="hideModal()">
        {{ 'ESTABLISHMENT.CLOSE' | translate }}</gosi-button-dc
      >
    </div>
  </gosi-modal-dc>
</ng-template>
