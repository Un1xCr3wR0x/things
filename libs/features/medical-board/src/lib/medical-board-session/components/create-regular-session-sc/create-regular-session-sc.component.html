<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<gosi-breadcrumb-dc></gosi-breadcrumb-dc>
<div class="content">
  <gosi-alert-sc></gosi-alert-sc>

  <gosi-alert-dc
    *ngIf="isEditMode"
    [message]="'MEDICAL-BOARD.MODIFY-CONFIGURATION-WARNING' | translate"
    [dismissible]="true"
    type="warning"
  ></gosi-alert-dc>

  <!-- heading -->
  <div *ngIf="isEditMode">
    <div id="mainHeading">
      <gosi-main-heading-dc header="{{ 'MEDICAL-BOARD.MODIFY-REGULAR-SESSION' | translate }}"> </gosi-main-heading-dc>
    </div>
  </div>

  <!-- Title For Modifying the Regular session  -->
  <div *ngIf="!isEditMode">
    <div id="mainHeading">
      <gosi-main-heading-dc header="{{ 'MEDICAL-BOARD.CREATE-NEW-REGULAR-SESSION' | translate }}">
      </gosi-main-heading-dc>
    </div>
  </div>

  <!-- content -->
  <div class="row">
    <div class="col-md-12">
      <mb-session-details-dc
        [sessionList]="sessionFrequencyList"
        [isRegularSession]="true"
        (difference)="getSessionDifference($event)"
        [isRegularSession]="true"
        [parentForm]="regularSessionForm"
        [isEditMode]="isEditMode"
        [mbDetails]="mbDetails"
        [isInCharge]="isInCharge"
        (changeValue)="onChangeValue($event)"
        (officeLocationChangeValue) = "onOfficeLocationChange($event)"
        [configurationDetails]="configurationDetails"
      ></mb-session-details-dc>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <mb-medicalboard-member-details-dc
        label="MEDICALBOARD-MEMBER-DETAILS"
        [specialityList]="specialityList"
        [subspecialityList]="subspecialityList"
        [isRegularSession]="true"
        (add)="getSpecialty()"
        [isEditMode]="isEditMode"
        (select)="onSpecialitySelect($event)"
        [parentForm]="regularSessionForm"
        [configurationDetails]="configurationDetails"
        [isSubspeciality]="isSubspeciality"
        [isPrimaryMedicalBoard]="isPrimaryMedicalBoard"
        [officeLocation]="officeLocation"        
      ></mb-medicalboard-member-details-dc>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <mb-session-invitation-dc
        [parentForm]="regularSessionForm"
        [isEditMode]="isEditMode"
        (invitationDays)="setInvitationDate($event)"
        [sessionDetails]="sessionDetails"
        [configurationDetails]="configurationDetails"
        [sessionDifference]="sessionDifference"
      ></mb-session-invitation-dc>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <mb-session-slot-details-dc
        [parentForm]="regularSessionForm"
        [invitationDay]="invitationDay"
        [isEditMode]="isEditMode"
        [isRequired]="isRequired"
        [sessionDetails]="sessionDetails"
        [configurationDetails]="configurationDetails"
        [isInCharge]="isInCharge"
      ></mb-session-slot-details-dc>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 form-action">
      <div class="form-value">
        <div class="btn-section float-left">
          <gosi-button-dc id="cancel" type="secondary" (submit)="onCancel(cancelTemplate)">
            {{ 'MEDICAL-BOARD.CANCEL' | translate }}</gosi-button-dc
          >
        </div>
        <div class="btn-section float-right" *ngIf="!isEditMode">
          <gosi-button-dc id="submit" (submit)="onCreateSession()" type="primary">
            {{ 'MEDICAL-BOARD.CREATE-SESSION' | translate }}</gosi-button-dc
          >
        </div>
        <div class="btn-section float-right" *ngIf="isEditMode">
          <gosi-button-dc id="submit" (submit)="onCreateSession()" type="primary">
            {{ 'MEDICAL-BOARD.MODIFY-SESSION' | translate }}</gosi-button-dc
          >
        </div>
      </div>
    </div>
  </div>
</div>
<ng-template #cancelTemplate>
  <gosi-confirm-modal-dc message="MEDICAL-BOARD.INFO-CANCEL" (onConfirm)="confirmCancel()" (onCancel)="decline()">
  </gosi-confirm-modal-dc>
</ng-template>
