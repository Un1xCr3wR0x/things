<gosi-card-dc [isBoxShadow]="true">
    <label class="d-flex"><strong>{{'VIOLATIONS.COMPLIANCE-INDICATOR' | translate}}</strong></label>
    <gosi-alert-sc></gosi-alert-sc>
    <gosi-alert-dc [message]="'VIOLATIONS.COMPLIANCE-INDICATOR-ALERT' | translate" type="info" [dismissible]="true"></gosi-alert-dc>
    <div class="row">
        <div class="col-lg-6 col-md-12 mb-4 ">

            <div class="row g-0 d-flex date-list">

                <label class="d-flex headings ml-3">{{'VIOLATIONS.COMPLIANCE-INDICATOR-DATE' | translate}}</label>
                <div class="col-md-3">
                    <gosi-input-select-dc [list]="monthsList" id="monthsList" [searchable]="false" [hideClear]="true"
                        [control]="monthsForm" [hideOptionalLabel]="true" (select)="selectedMonth($event)">
                    </gosi-input-select-dc>
                </div>

                <div class="col-md-3">
                    <gosi-input-select-dc [list]="yearsList" id="yearsList" [searchable]="false" [hideClear]="true"
                        [control]="yearsForm" [hideOptionalLabel]="true" (select)="selectedYear($event)">
                    </gosi-input-select-dc>
                </div>
            </div>

            <div>
                <div class="mt-2 mb-2">
                    <canvas #commitmentIndicatorsBreakup>
                        {{ commitmentIndicatorsBreakupInit }}
                    </canvas>
                </div>
                <div class="d-flex flex-wrap justify-content-center mt-4">
                    <div class="d-flex flex-nowrap align-items-center" *ngFor="let legend of commitmentIndicatorsBreakupLegends; let i = index">
                        <span class="legend-circle"
                            [ngStyle]="{ 'background-color': commitmentIndicatorsBreakupColor[i] }"></span>
                        <span class="legend">
                            {{ lang=='en'? legend.english: legend.arabic }}</span>
                    </div>
                </div>
            </div>

        </div>

        <div class="col-lg-6 col-md-12 border-left mb-4">
            <div class="row d-flex date-list indicator-percentge mb-2">
                <label class="d-flex headings ml-3">{{'VIOLATIONS.INDICATOR' | translate}}</label>
                <div class="col-md-3">
                    <gosi-input-select-dc [list]="indicatorList" id="indicatorList" [searchable]="false"
                        [hideClear]="true" [control]="indicatorForm" [hideOptionalLabel]="true"
                        (select)="selectedIndicator($event)">
                    </gosi-input-select-dc>
                </div>
                <label class="d-flex headings ml-3 mr-2">{{'VIOLATIONS.INDICATOR-PERCENTAGE' | translate}}</label>
                <fa-icon [icon]="['fas', 'info-circle']" [tooltip]="complianceIndicatorToolTemplate"></fa-icon>
                <div class="col-md-2">
                    <span class="indicator-next-date-box d-flex justify-content-center align-items-center p-2"
                    style="margin-top: -0.3rem;"
                    >{{indicatorPercentage}}%</span>
                </div>
            </div>
            <div>
                <label style="font-size: 1rem;">{{'VIOLATIONS.INDICATOR-CALCULATIONS'| translate | uppercase}}:</label>
                <ul *ngIf="lang === 'en'">
                        <div *ngFor="let indicatorCalculation of indicatorCalculationsEnglish; let i = index">
                            <li class="list-items-text" *ngIf="i !== (indicatorCalculationsEnglish.length - 1)">{{indicatorCalculation}}</li>
                        </div>
                </ul>
                <ul *ngIf="lang === 'ar'">
                    <div *ngFor="let indicatorCalculation of indicatorCalculationsArabic; let i = index">
                        <li class="list-items-text" *ngIf="i !== (indicatorCalculationsArabic.length - 1)">{{indicatorCalculation}}</li>
                    </div>
                </ul>
            </div>
            <div class="d-flex justify-content-center mt-4">
                <fa-icon class="align-self-center mr-2" icon="stopwatch"></fa-icon>
                <label class="indicator-next-date-box p-4">{{'VIOLATIONS.INDICATORS-LAST-UPDATE'|
                    translate}}:<strong> 17
                        {{lastUpdateMonth}} {{lastUpdateYear}}</strong><br>
                    <span style="font-size:smaller;">*{{'VIOLATIONS.INDICATORS-NEXT-UPDATE'|translate}}: 17
                        {{nextMonthUpdate}} {{nextYearUpdate}}</span>
                </label>
            </div>
        </div>
    </div>
    <ng-template #complianceIndicatorToolTemplate>
        <ng-container>
            <div class="d-flex flex-column">
                <div>{{ 'VIOLATIONS.COMPLIANCE-INDICATOR-TOOLTIP' | translate }}</div>
            </div>
        </ng-container>
    </ng-template>
</gosi-card-dc>