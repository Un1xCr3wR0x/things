<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<ng-container *ngIf="transaction?.transactionId === tnxId">
  <!-- establishment details -->
  <div class="row">
    <div class="col-md-12">
      <est-transactions-accordion-dc heading="{{ 'ESTABLISHMENT.ESTABLISHMENT-DETAILS' | translate }}">
        <div class="row">
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              [value]="establishment?.registrationNo"
              [isLink]="true"
              (select)="goToEstProfile(establishment?.registrationNo)"
              label="ESTABLISHMENT.REGISTRATION-NO"
            >
            </gosi-label-dc>
          </div>
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="arabicName"
              [control]="establishment?.name?.arabic"
              label="ESTABLISHMENT.ESTABLISHMENT-NAME-AR"
            >
            </gosi-label-dc>
          </div>
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="englishName"
              [control]="establishment?.name?.english"
              label="ESTABLISHMENT.ESTABLISHMENT-NAME-EN"
            >
            </gosi-label-dc>
          </div>
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="establishmentStartDate"
              [date]="true"
              [control]="establishment?.startDate?.gregorian | gosiDate"
              label="ESTABLISHMENT.ESTABLISHMENT-START-DATE"
            ></gosi-label-dc>
          </div>
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="establishmentLegalEntity"
              [control]="establishment?.legalEntity"
              label="ESTABLISHMENT.LEGAL-ENTITY"
            ></gosi-label-dc>
          </div>
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc
              id="establishmentStatus"
              [control]="establishment?.status"
              label="ESTABLISHMENT.STATUS"
            ></gosi-label-dc>
          </div>
        </div>
      </est-transactions-accordion-dc>
    </div>
  </div>

  <!-- flag details -->
  <div class="row">
    <div class="col-md-12">
      <est-transactions-accordion-dc heading="{{ 'ESTABLISHMENT.FLAG-DETAILS' | translate }}">
        <div class="row">
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc label="ESTABLISHMENT.FLAG-TYPE" [control]="flagDetails?.flagType"> </gosi-label-dc>
          </div>
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc label="ESTABLISHMENT.REASON" [control]="flagDetails?.flagReason"> </gosi-label-dc>
          </div>
          <div class="col-sm-12 col-md-4 col-lg-4">
            <gosi-label-dc [date]="true" [control]="flagDetails?.startDate?.gregorian" label="ESTABLISHMENT.START-DATE">
            </gosi-label-dc>
          </div>
          <ng-container *ngIf="flagDetails?.oldFlagEndDate == null && flagDetails?.oldFlagJustification == null">
            <div class="col-sm-12 col-md-4 col-lg-4">
              <gosi-label-dc
                [date]="true"
                label="ESTABLISHMENT.END-DATE"
                [control]="currentflagDetails?.endDate?.gregorian"
              >
              </gosi-label-dc>
            </div>
            <div class="col-sm-12 col-md-4 col-lg-4">
              <gosi-label-dc
                [date]="true"
                label="ESTABLISHMENT.MODIFIED-END-DATE"
                [control]="flagDetails?.endDate?.gregorian"
              >
              </gosi-label-dc>
            </div>
            <div class="col-sm-12 col-md-4 col-lg-4">
              <gosi-label-dc label="ESTABLISHMENT.JUSTIFICATION" [control]="currentflagDetails?.justification">
              </gosi-label-dc>
            </div>
            <div class="col-sm-12 col-md-4 col-lg-4">
              <gosi-label-dc label="ESTABLISHMENT.MODIFIED-JUSTIFICATION" [control]="flagDetails?.justification">
              </gosi-label-dc>
            </div>
          </ng-container>
          <ng-container *ngIf="flagDetails?.oldFlagEndDate !== null || flagDetails?.oldFlagJustification !== null">
            <div class="col-sm-12 col-md-4 col-lg-4">
              <gosi-label-dc [date]="true" label="ESTABLISHMENT.END-DATE" [control]="flagDetails?.oldFlagEndDate">
              </gosi-label-dc>
            </div>
            <div class="col-sm-12 col-md-4 col-lg-4">
              <gosi-label-dc
                [date]="true"
                label="ESTABLISHMENT.MODIFIED-END-DATE"
                [control]="flagDetails?.endDate?.gregorian"
              >
              </gosi-label-dc>
            </div>
            <div class="col-sm-12 col-md-4 col-lg-4">
              <gosi-label-dc label="ESTABLISHMENT.JUSTIFICATION" [control]="flagDetails?.oldFlagJustification">
              </gosi-label-dc>
            </div>
            <div class="col-sm-12 col-md-4 col-lg-4">
              <gosi-label-dc label="ESTABLISHMENT.MODIFIED-JUSTIFICATION" [control]="flagDetails?.justification">
              </gosi-label-dc>
            </div>
          </ng-container>
        </div>
      </est-transactions-accordion-dc>
    </div>
  </div>
  <!-- Documents section -->
  <div class="row" *ngIf="documentList?.length > 0">
    <div class="col-md-12">
      <gosi-document-list-view-dc [documents]="documentList" [isAccordionView]="true"> </gosi-document-list-view-dc>
    </div>
  </div>
</ng-container>
