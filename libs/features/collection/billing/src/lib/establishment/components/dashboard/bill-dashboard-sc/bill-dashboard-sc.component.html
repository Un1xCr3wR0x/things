<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->

<ng-container *ngIf="idNumber">
  <gosi-breadcrumb-dc> </gosi-breadcrumb-dc>
  <div class="row header-section" *ngIf="isHeader">
    <div class="col-auto heading-main">
      {{ 'BILLING.BILL-DETAILS' | translate }}
    </div>
    <div class="col-auto branch-view">
      <gosi-input-select-dc
        id="establishmentList"
        [list]="establishmentList"
        [control]="establishmentListForm.get('establishmentName')"
      ></gosi-input-select-dc>
    </div>
    <div class="d-none d-sm-block col-auto align-self-center mr-auto">
      ({{ 'BILLING.REGISTRATION-NO' | translate }} : {{ establishmentHeaderValue.registrationNo }})
    </div>
    <div class="d-sm-none pt-2">
      ({{ 'BILLING.REGISTRATION-NO' | translate }} : {{ establishmentHeaderValue.registrationNo }})
    </div>
    <div class="col-lg-12 p-0">
      <gosi-alert-sc></gosi-alert-sc>
    </div>
  </div>

  <div *ngIf="currencyType.english !== undefined">
    <blg-bill-balance-dc
      [billBalanceDetails]="billDetails"
      [currencyType]="currencyType"
      [exchangeRate]="exchangeRate"
      [summary]="billDetails.summary"
      [unBillAmount]="billDetails.unBilledAmount"
      [isMofFlag]="isMofFlag"
      [isGccCountry]="isGccCountry"
      [isBillNumber]="isNoBill"
      [totalCreditBalance]="totalCreditBalance"
    >
    </blg-bill-balance-dc>
  </div>
  <div>
    <blg-bill-details-dc
      [lawType]="lawType"
      [isPPA]="isPPA"
      (billingSummary)="getBillingSummary($event)"
      (date)="getBillDetailsOnSelectedDate($event)"
      [billDetails]="billDetails"
      [isAdmin]="isAdmin"
      [currencyType]="currencyType"
      [exchangeRate]="exchangeRate"
      [isGccCountry]="isGccCountry"
      [selectedDate]="monthSelectedDate"
      [isBillNumber]="isNoBill"
      [billNumber]="billNumber"
      [rejectedOhDetails]="rejectedOhDetails"
      [errorMessage]="errorMessage"
      [isDisabled]="isDisabled"
      [initialLoad]="initialLoad"
      (showRecords)="navigateToViewRecords()"
      (downloadBill)="downloadBillTransaction($event)"
      (printBill)="printBillTransaction()"
      [initialStartDate]="initialStartDate"
      [latestBillStartDate]="latestBillStartDate"
      [isNoBillMonth]="isNoBillMonth"
      [violationDetails]="violationDetails"
      [isMigratedBill]="isMigratedBill"
      [violationCount]="violationCount"
      [employerShare]="employerShare"
    >
    </blg-bill-details-dc>
  </div>
  <div class="container-fluid">
    <div class="row form-action">
      <div class="col-lg-12">
        <ng-container *ngIf="showComplianceButton">
          <gosi-button-dc
            class="float-left btn-section compliance-value"
            id="issuingCertificate"
            type="primary"
            [disabled]="isNoBillMonth"
          >
            {{ 'BILLING.ISSUING-A-COMPLIANCE-CERTIFICATE' | translate }}</gosi-button-dc
          >
        </ng-container>
        <gosi-button-dc
          class="float-right btn-section compliance-value"
          id="billHistory"
          type="primary"
          (submit)="navigateToBillHistory()"
        >
          {{ 'BILLING.BILL-HISTORY' | translate }}</gosi-button-dc
        >
        <gosi-button-dc
          class="float-right btn-section btn-payment-padding compliance-value"
          id="paymentReceiptHistory"
          type="primary"
          (submit)="goToReceiptHistory()"
        >
          {{ 'BILLING.PAYMENT-RECEIPT-HISTORY' | translate }}</gosi-button-dc
        >
      </div>
    </div>
  </div>
</ng-container>
