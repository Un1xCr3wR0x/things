<!-- Copyright GOSI. All Rights Reserved.
This software is the proprietary information of GOSI.
Use is subject to license terms. -->
<!-- Common breadcrumb component -->
<gosi-breadcrumb-dc> </gosi-breadcrumb-dc>
<div class="content">
  <div class="main-heading">{{ 'OCCUPATIONAL-HAZARD.CLAIMS-VALIDATOR.CLAIM-REQUEST' | translate }}</div>

  <!-- Batch details section -->
  <div class="row">
    <div class="col-md-12">
      <!-- Claims Summary-->
      <gosi-card-dc
        type="secondary"
        [heading]="'OCCUPATIONAL-HAZARD.CLAIMS-VALIDATOR.BATCH-DETAILS' | translate"
        headingSize="md"
        icon="user-injured"
      >
        <oh-batch-details-dc [batchDetails]="invoiceDetails"></oh-batch-details-dc>
        <!-- Claims Table View -->
        <div class="custom-header">
          <div class="wizard-circle">
            <fa-icon icon="coins" size="lg"></fa-icon>
          </div>
          <h3 class="custom-heading">
            {{ 'OCCUPATIONAL-HAZARD.CLAIMS-VALIDATOR.CLAIMS-SUMMARY' | translate }}
          </h3>
        </div>
        <oh-claim-table-dc [invoiceDetails]="invoiceDetails" (navigate)="navigateTo($event)"></oh-claim-table-dc>
      </gosi-card-dc>
    </div>
  </div>

  <!------------------------ Action Buttons  ----------------------------->

  <div id="actionArea">
    <div class="row">
      <div class="col-lg-12 form-action">
        <div class="close-complication">
          <div class="btn-section float-right" *ngIf="canApprove">
            <gosi-button-dc [id]="'approve'" [type]="'primary'" (click)="approveModal(approveTemplate)">
              {{ 'OCCUPATIONAL-HAZARD.APPROVE' | translate }}</gosi-button-dc
            >
          </div>
          <div class="float-right btn-section">
            <gosi-button-dc [type]="'secondary'" [id]="'request'" (click)="approveModal(auditTemplate)">
              {{ 'OCCUPATIONAL-HAZARD.CLAIMS-VALIDATOR.ASSIGN-AUDIT' | translate }}
            </gosi-button-dc>
          </div>
          <div class="float-left btn-section">
            <gosi-button-dc [id]="'cancel'" [type]="'secondary'" (submit)="auditorworkflowCancel(cancelTemplate)">
              {{ 'OCCUPATIONAL-HAZARD.CANCEL' | translate }}</gosi-button-dc
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!------------------------  Template ----------------------------->

<ng-template #errorTemplate>
  <div class="row message justify-content-center">
    <gosi-modal-dc>
      <div modalContent>
        <gosi-alert-dc [dismissible]="false" [message]="diseaseIdMessage | translate" type="info" [noPadding]="true">
        </gosi-alert-dc>
      </div>
      <div class="d-flex justify-content-center close-button" modalAction>
        <gosi-button-dc (submit)="clear()" type="secondary" id="close">
          {{ 'OCCUPATIONAL-HAZARD.CLOSE' | translate }}</gosi-button-dc
        >
      </div>
    </gosi-modal-dc>
  </div>
</ng-template>
<ng-template #auditTemplate>
  <oh-audit-template-dc
    (cancelEvent)="clear()"
    [auditReasonList$]="auditReasonList$"
    [parentForm]="auditForm"
    (auditEvent)="assignForAudit()"
  ></oh-audit-template-dc>
</ng-template>
<ng-template #approveTemplate>
  <gosi-modal-dc class="content-heading">
    <div class="row" modalContent>
      <div class="col-lg-12 text-center mt-3">
        {{ 'OCCUPATIONAL-HAZARD.CLAIMS-VALIDATOR.AUDIT-CONFIRMATION' | translate }}
      </div>
    </div>
    <div class="d-flex justify-content-around mt-5 row" modalAction>
      <div class="btn-section">
        <gosi-button-dc id="cancel" type="secondary" (submit)="clear()">
          {{ 'OCCUPATIONAL-HAZARD.CANCEL' | translate }}</gosi-button-dc
        >
      </div>
      <div class="divider"></div>
      <div class="btn-section">
        <gosi-button-dc id="continue" type="primary" (submit)="approve()">
          {{ 'OCCUPATIONAL-HAZARD.CONFIRM' | translate }}</gosi-button-dc
        >
      </div>
    </div>
  </gosi-modal-dc>
</ng-template>
<ng-template #cancelTemplate>
  <gosi-confirm-modal-dc
    [message]="'OCCUPATIONAL-HAZARD.CONFIRM-CANCEL'"
    (onConfirm)="confirmCancel()"
    (onCancel)="hideModal()"
  >
  </gosi-confirm-modal-dc>
</ng-template>
