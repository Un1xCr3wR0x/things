<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<gosi-card-dc [isHeading]="false" class="summary">
  <div class="card-heading d-flex flex-wrap justify-content-between">
    <span class="heading">{{ 'DASHBOARD.PROFILE-SUMMARY' | translate }}</span>
    <span class="d-flex view-details">
      <gosi-button-dc (submit)="navigateTo(establishmentProfileUrl)" size="md" type="custom">{{
        'DASHBOARD.VIEW-EST-PROFILE' | translate
      }}</gosi-button-dc>
      <gosi-button-dc (submit)="navigateTo(establishmentGroupProfileUrl)" size="md" type="custom">{{
        'DASHBOARD.VIEW-GROUP-PROFILE' | translate
      }}</gosi-button-dc>
    </span>
  </div>
  <div class="row">
    <div class="col-lg-6">
      <gosi-card-dc type="secondary" lessPadding="true">
        <div class="row">
          <div class="col-6 profile-item">
            <span class="d-flex flex-column">
              <div class="label">{{ 'DASHBOARD.REGISTRATION-NUMBER' | translate | uppercase }}</div>
              <div
                class="value"
                *ngIf="establishmentDetails && establishmentDetails?.registrationNo && isLoaded; else noResult"
              >
                {{ establishmentDetails?.registrationNo }}
              </div>
            </span>
          </div>
          <div class="col-6 profile-item">
            <div class="d-flex flex-column">
              <div class="label">{{ 'DASHBOARD.STATUS' | translate | uppercase }}</div>
              <div
                class="value"
                *ngIf="establishmentDetails && establishmentDetails?.status && isLoaded; else noResult"
              >
                {{ establishmentDetails?.status | bilingualText }}
              </div>
            </div>
          </div>
        </div>
      </gosi-card-dc>
    </div>
    <div class="col-lg-6" *ngIf="establishmentDetails?.gccEstablishment?.registrationNo">
      <gosi-card-dc type="secondary" lessPadding="true">
        <div class="row">
          <div class="col-6 profile-item">
            <span class="d-flex flex-column">
              <div class="label">{{ 'DASHBOARD.GCC-REGISTRATION-NUMBER' | translate | uppercase }}</div>
              <div class="value">
                {{ establishmentDetails?.gccEstablishment?.registrationNo }}
              </div>
            </span>
          </div>
        </div>
      </gosi-card-dc>
    </div>
    <div class="col-lg-6">
      <gosi-card-dc type="secondary" lessPadding="true">
        <div class="row">
          <div class="col-6 profile-item">
            <span class="d-flex flex-column">
              <div class="label">{{ 'DASHBOARD.ESTABLISHMENT-TYPE' | translate | uppercase }}</div>
              <div
                class="value"
                *ngIf="establishmentDetails && establishmentDetails?.establishmentType && isLoaded; else noResult"
              >
                {{ establishmentDetails?.establishmentType | bilingualText }}
              </div>
            </span>
          </div>
          <div class="col-6 profile-item">
            <span class="d-flex flex-column">
              <div class="label">{{ 'DASHBOARD.MAIN-ESTABLISHMENT' | translate | uppercase }}</div>
              <div
                class="value"
                *ngIf="establishmentDetails && establishmentDetails?.mainEstablishmentRegNo && isLoaded; else noResult"
              >
                {{ establishmentDetails?.mainEstablishmentRegNo }}
              </div>
            </span>
          </div>
        </div>
      </gosi-card-dc>
    </div>
    <div class="col-lg-6">
      <gosi-card-dc type="secondary" lessPadding="true">
        <div class="row">
          <div class="col-6 profile-item">
            <span class="d-flex flex-column">
              <div class="label">{{ 'DASHBOARD.UNIFIED-ESTABLISHMENT-ID' | translate | uppercase }}</div>
              <div
                class="value"
                *ngIf="
                  establishmentDetails &&
                    isLoaded &&
                    establishmentDetails?.molEstablishmentIds?.molOfficeId &&
                    establishmentDetails?.molEstablishmentIds?.molunId;
                  else noResult
                "
              >
                {{ establishmentDetails?.molEstablishmentIds?.molOfficeId }} -
                {{ establishmentDetails?.molEstablishmentIds?.molunId }}
              </div>
            </span>
          </div>
        </div>
      </gosi-card-dc>
    </div>
    <div class="col-lg-6">
      <gosi-card-dc type="secondary" lessPadding="true">
        <div class="row">
          <div class="col-6 profile-item">
            <span class="d-flex flex-column">
              <div class="label">{{ 'DASHBOARD.ESTABLISHMENT-ID' | translate | uppercase }}</div>
              <div
                class="value"
                *ngIf="
                  establishmentDetails &&
                    isLoaded &&
                    establishmentDetails?.molEstablishmentIds?.molEstablishmentOfficeId &&
                    establishmentDetails?.molEstablishmentIds?.molEstablishmentId;
                  else noResult
                "
              >
                {{ establishmentDetails?.molEstablishmentIds?.molEstablishmentOfficeId }} -
                {{ establishmentDetails?.molEstablishmentIds?.molEstablishmentId }}
              </div>
            </span>
          </div>
        </div>
      </gosi-card-dc>
    </div>
    <div class="col-lg-6">
      <gosi-card-dc type="secondary" lessPadding="true">
        <div class="row">
          <div class="col-6 profile-item">
            <span class="d-flex flex-column">
              <div class="label">{{ 'DASHBOARD.UNIFIED-NATIONAL-NUMBER' | translate | uppercase }}</div>
              <div
                class="value"
                *ngIf="establishmentDetails && establishmentDetails?.unifiedNationalNumber && isLoaded; else noResult"
              >
                {{ establishmentDetails?.unifiedNationalNumber }}
              </div>
            </span>
          </div>
        </div>
      </gosi-card-dc>
    </div>
    <div class="col-lg-6">
      <gosi-card-dc type="secondary" lessPadding="true">
        <div class="row">
          <div class="col-6 profile-item">
            <span class="d-flex flex-column">
              <div class="label">{{ 'DASHBOARD.COMMERCIAL-REGISTRATION-NUMBER' | translate | uppercase }}</div>
              <div
                class="value"
                *ngIf="establishmentDetails && establishmentDetails?.crn?.number && isLoaded; else noResult"
              >
                {{ establishmentDetails?.crn?.number }}
              </div>
            </span>
          </div>
        </div>
      </gosi-card-dc>
    </div>
    <div class="col-lg-6">
      <gosi-card-dc type="secondary" lessPadding="true">
        <div class="row">
          <div class="col-6 profile-item">
            <span class="d-flex flex-column">
              <div class="label">{{ 'DASHBOARD.TOTAL-ENGAGEMENTS' | translate | uppercase }}</div>
              <div class="value" *ngIf="totalEngagements !== null && isLoaded; else noResult">
                {{ totalEngagements }}
              </div>
            </span>
          </div>
          <div class="col-6 profile-item">
            <span class="d-flex flex-column">
              <div class="label">{{ 'DASHBOARD.ACTIVE-ENGAGEMENTS' | translate | uppercase }}</div>
              <div class="value" *ngIf="activeEngagements !== null && isLoaded; else noResult">
                {{ activeEngagements }}
              </div>
            </span>
          </div>
        </div>
      </gosi-card-dc>
    </div>
    <div class="col-lg-6" *ngIf="!tempHide">
      <gosi-card-dc type="secondary" lessPadding="true">
        <div class="row">
          <div class="col-lg-12 profile-item">
            <div class="label" *ngIf="billingDetails.totalDebitBalance > 0">
              {{ 'DASHBOARD.UNPAID-BALANCE' | translate | uppercase }}
            </div>
            <div class="label" *ngIf="billingDetails.totalCreditBalance > 0">
              {{ 'DASHBOARD.CURRENT-CREDIT-BALANCE' | translate | uppercase }}
            </div>
            <div *ngIf="isBillingAmount >= 0; else noResult" class="value">
              {{ isBillingAmount | currency: '':'' }} {{ 'DASHBOARD.SAR' | translate }}
            </div>
          </div>
        </div>
      </gosi-card-dc>
    </div>
    <div class="col-lg-6">
      <gosi-card-dc type="secondary" lessPadding="true">
        <div class="row">
          <div class="col-lg-12 profile-item">
            <div class="label">{{ 'DASHBOARD.CERTIFICATE-ELIGIBILITY' | translate | uppercase }}</div>
            <div class="value" *ngIf="eligibilityStatus !== null; else noResult">
              {{ eligibilityStatus ? ('DASHBOARD.ELIGIBLE' | translate) : ('DASHBOARD.NOT-ELIGIBLE' | translate) }}
            </div>
          </div>
        </div>
      </gosi-card-dc>
    </div>
  </div>
</gosi-card-dc>
<ng-template #noResult>
  <span class="value" *ngIf="isLoaded">
    {{ 'DASHBOARD.NOT-AVAILABLE' | translate }}
  </span>
</ng-template>
