<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<ng-container>
  <div class="payment-main-content">
    <div class="ml-2 pl-2 pl-2 py-3">
      <div class="row">
        <div class="col-lg-3 payment-heading pb-3">{{ 'PAYMENT.PAYMENT-DETAILS' | translate }}</div>
      </div>
    </div>

    <div class="row padding-common pb-3 mr-5 ml-3">
      <div class="col">
        <span>{{ 'PAYMENT.BENEFIT-TYPE' | translate }}</span>
      </div>
      <div class="col text-left">
        <span>{{ 'PAYMENT.BENEFIT-START-DATE' | translate }}</span>
      </div>
      <div class="col text-left">
        <span>{{ 'PAYMENT.BENEFIT-END-DATE' | translate }}</span>
      </div>
      <div class="col text-left">
        <span>{{ 'PAYMENT.BENEFIT-STATUS' | translate }}</span>
      </div>
      <div class="col text-left">
        <span>{{ 'PAYMENT.TOTAL-ADJUSTED-AMT' | translate }}</span>
      </div>
    </div>

    <div *ngFor="let payment of benefitList">
      <accordion class="active-payment-container">
        <accordion-group class="accordion-group-class">
          <div accordion-heading class="row align-items-center pb-0 mb-0 mt-0 pt-0 w-100">
            <div class="col">
              <span>{{ payment?.benefitType | bilingualText }}</span>
            </div>
            <div class="col text-left">
              <span *ngIf="payment?.startDate?.gregorian === null"> <b>-</b> </span>
              <span>{{ payment?.startDate?.gregorian | date: 'dd/MM/yyyy' }}</span>
            </div>
            <div class="col text-left">
              <span *ngIf="payment?.stopDate?.gregorian === null"><b>-</b></span>
              <span>{{ payment?.stopDate?.gregorian | date: 'dd/MM/yyyy' }}</span>
            </div>
            <div class="col text-left">
              <span *ngIf="payment?.status === null"><b>-</b></span>
              <span>{{ payment?.status | bilingualText }}</span>
            </div>
            <div class="col text-left">
              <div [ngClass]="payment?.adjustedAmount > 0 ? 'amount' : 'debit-amount'">
                <span>{{ payment?.adjustedAmount | numToPositive | number: '1.0-2' }}</span>
                <span class="ml-2">{{ 'PAYMENT.SAR' | translate }}</span>
              </div>
            </div>
          </div>
          <div class="header-wrapper ml-auto" accordion-heading>
            <div class="row">
              <span class="arrow-up col-md-2">
                <fa-icon icon="angle-up" size="2x"></fa-icon>
              </span>
              <span class="arrow-down ml-auto col-md-2" accordion-heading>
                <fa-icon icon="angle-down" size="2x"></fa-icon>
              </span>
            </div>
          </div>
          <accordion class="active-payment-container ml-5 mr-5">
            <div class="row d-flex justify-content-center" modalContent>
              <div class="row align-items-center pb-2 mb-3 w-100 table-dark-heading">
                <div class="col d-none">
                  {{ 'PAYMENT.PAYMENT-TYPE' | translate }}
                </div>
                <div class="col text-left">
                  {{ 'ADJUSTMENT.ADJUSTMENT-REASON' | translate }}
                </div>
                <div class="col text-left">
                  {{ 'ADJUSTMENT.DEBIT-PERCENTAGE' | translate }}
                </div>
                <div class="col text-left">
                  {{ 'PAYMENT.TOTAL-AMOUNT' | translate }}
                </div>
              </div>
            </div>

            <div
              class="row d-flex justify-content-center pt-0 pb-0 mt-0"
              *ngFor="let item of payment.adjustmentList; let i = index"
            >
              <div class="row align-items-center pt-0 pb-2 w-100">
                <div class="col d-none">
                  {{ item?.paymentType | bilingualText }}
                </div>
                <div class="col text-left">
                  {{ item?.adjustmentReason | bilingualText }}
                </div>
                <div class="col text-left">
                  <span> {{ item?.percentage }}</span>
                  <span class="ml-1">{{ 'PAYMENT.PERSENTAGE-SYMBOL' | translate }}</span>
                </div>
                <div class="col text-left">
                  <div [ngClass]="item?.adjustmentAmount > 0 ? 'amount' : 'debit-amount'">
                    {{ item?.adjustmentAmount | numToPositive | number: '1.0-2' }}
                  </div>
                </div>
                <hr class="hr-line w-100" />
              </div>
            </div>
          </accordion>
        </accordion-group>
      </accordion>
    </div>

    <div class="row ml-3 pt-4 pb-3">
      <b
        ><span>{{ 'PAYMENT.NET-PAYABLE-AMOUNT' | translate }} </span>
      </b>
      <div class="net-amount ml-2">
        <div [ngClass]="netAmount > 0 ? 'net-amount' : 'net-amount-debit'">
          <span>{{ netAmount | numToPositive | number: '1.0-2' }}</span>
          <span class="ml-2">{{ 'PAYMENT.SAR' | translate }}</span>
        </div>
      </div>
    </div>
  </div>
</ng-container>
