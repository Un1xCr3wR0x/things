<div class="row">
  <!-- est details -->

  <div class="col-lg-12">
    <div class="division">
      <div class="row">
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            [value]="establishment?.registrationNo"
            [isLink]="true"
            (select)="goToEstProfile()"
            label="ESTABLISHMENT.REGISTRATION-NO"
          >
          </gosi-label-dc>
        </div>

        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc [control]="establishment?.name?.arabic" label="ESTABLISHMENT.ESTABLISHMENT-NAME-AR">
          </gosi-label-dc>
        </div>

        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc [control]="establishment?.name?.english" label="ESTABLISHMENT.ESTABLISHMENT-NAME-EN">
          </gosi-label-dc>
        </div>

        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            [date]="true"
            [control]="establishment?.startDate?.gregorian"
            label="ESTABLISHMENT.ESTABLISHMENT-START-DATE"
          >
          </gosi-label-dc>
        </div>

        <ng-template *ngIf="establishment.molEstablishmentIds && establishment.proactive"></ng-template>

        <gosi-label-dc
          class="col-sm-12 col-md-4 col-lg-4"
          id="gosiRegistrationDate"
          date="true"
          label="{{ 'ESTABLISHMENT.GOSI-REG-DATE' | translate }}"
          [control]="establishment?.gosiRegistrationDate?.gregorian"
        ></gosi-label-dc>

        <div class="col-sm-12 col-md-4 col-lg-4" *ngIf="establishment.establishmentType?.english !== main">
          <gosi-label-dc
            id="mainEstablishmentRegNo"
            [control]="establishment.mainEstablishmentRegNo"
            label="{{ 'ESTABLISHMENT.MAIN-EST-REG-NO' | translate }}"
          ></gosi-label-dc>
        </div>

        <div class="col-sm-12 col-md-4 col-lg-4" *ngIf="establishment?.license?.number && isCloseEst">
          <gosi-label-dc [control]="establishment?.license?.number" label="ESTABLISHMENT.LICENSE-NUMBER">
          </gosi-label-dc>
        </div>

        <div class="col-sm-12 col-md-4 col-lg-4" *ngIf="establishment?.license?.issuingAuthorityCode && isCloseEst">
          <gosi-label-dc
            [control]="establishment?.license?.issuingAuthorityCode"
            label="ESTABLISHMENT.LICENSE-ISSUING-AUTHORITY"
          >
          </gosi-label-dc>
        </div>

        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc [control]="establishment?.legalEntity" label="ESTABLISHMENT.LEGAL-ENTITY"> </gosi-label-dc>
        </div>

        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc [control]="establishment?.status" label="ESTABLISHMENT.STATUS"> </gosi-label-dc>
        </div>
      </div>
    </div>
  </div>

  <div class="col-lg-12" *ngIf="establishment?.crn && isCloseEst">
    <div class="division">
      <div class="row">
        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc [control]="establishment?.crn?.number" label="ESTABLISHMENT.CRN-NUMBER"> </gosi-label-dc>
        </div>

        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            id="crnNumber"
            [control]="establishment?.crn?.issueDate?.gregorian"
            [date]="true"
            label="ESTABLISHMENT.CRN-ISSUE-DATE"
          ></gosi-label-dc>
        </div>

        <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            [date]="true"
            id="crnExpiryDate"
            [control]="establishment?.crn?.expiryDate?.gregorian"
            label="ESTABLISHMENT.CRN-EXPIRY-DATE"
          ></gosi-label-dc>
        </div>

        <!-- <div class="col-sm-12 col-md-4 col-lg-4">
          <gosi-label-dc
            id="crnStatus"
            label="{{ 'ESTABLISHMENT.CRN-STATUS-ENG' | bilingualText }}"
            [value]="establishmentToValidate?.crStatus | bilingualText"
          >
          </gosi-label-dc>
        </div> -->
      </div>
    </div>
  </div>

  <!-- establishment mol details -->

  <div class="col-lg-12">
    <div
      class="division"
      *ngIf="establishment?.molEstablishmentIds || !isGcc || establishmentToValidate?.unifiedNationalNumber"
    >
      <div class="row">
        <div class="col-sm-12 col-md-12 col-lg-12" *ngIf="establishment?.molEstablishmentIds">
          <!-- <ng-container *ngIf="establishmentToValidate?.molEstablishmentIds"> -->

          <est-mol-details-dc
            [molDetails]="establishmentToValidate?.molEstablishmentIds"
            [molFileStatus]="establishmentToValidate?.molFileStatus"
          ></est-mol-details-dc>

          <!-- </ng-container> -->
        </div>

        <div class="col-sm-12 col-md-4 col-lg-4" *ngIf="!isGcc">
          <gosi-label-dc
            id="establishmentType"
            [control]="establishmentToValidate?.establishmentType"
            label="ESTABLISHMENT.ESTABLISHMENT-TYPE"
          ></gosi-label-dc>
        </div>

        <div class="col-sm-12 col-md-4 col-lg-4" *ngIf="establishmentToValidate?.unifiedNationalNumber">
          <gosi-label-dc
            id="unifiedNationalNumber"
            label="ESTABLISHMENT.UNIFIED-NATIONAL-NO"
            [control]="establishmentToValidate?.unifiedNationalNumber"
          ></gosi-label-dc>
        </div>
      </div>
    </div>
  </div>

  <!-- section 2 establishment closing details -->

  <div class="col-lg-12">
    <div class="section-heading">{{ 'ESTABLISHMENT.EST-CLOSING-DETAILS' | translate }}</div>

    <div class="row">
      <div class="col-sm-12 col-md-4 col-lg-4" *ngIf="establishmentToValidate">
        <gosi-label-dc
          [date]="true"
          [control]="
            establishmentToValidate?.terminationRequestDate?.gregorian
              ? establishmentToValidate?.terminationRequestDate?.gregorian
              : establishmentToValidate?.closureRequestDate?.gregorian
          "
          label="ESTABLISHMENT.REQUEST-DATE"
        >
        </gosi-label-dc>
      </div>

      <div class="col-sm-12 col-md-4 col-lg-4 pr-0 pb-4">
        <div class="row balance-amount pl-4">{{ 'ESTABLISHMENT.BALANCE-AMT' | translate }}</div>

        <div class="row balance-amount pt-2 pl-4" *ngIf="balanceAmount !== undefined">
          {{ balanceAmount | number: '1.2-2' }} {{ 'ESTABLISHMENT.SAR' | translate }}
          <span class="amount-due pl-2" *ngIf="isDebit && balanceAmount !== 0">
            {{ 'ESTABLISHMENT.DUE' | translate }}
          </span>

          <span class="amount-due pl-2" *ngIf="!isDebit && balanceAmount !== 0">
            {{ 'ESTABLISHMENT.CREDIT' | translate }}
          </span>
          <div class="col-md-6">
            <a class="bill-details" (click)="viewBill.emit()" target="_blank">
              {{ 'ESTABLISHMENT.VIEW-BILL' | translate }}
            </a>
          </div>
        </div>
      </div>

      <div class="col-sm-12 col-md-4 col-lg-4" *ngIf="!isGcc">
        <gosi-label-dc
          [control]="
            closeEstDetails?.paymentType ? closeEstDetails?.paymentType : establishmentToValidate?.paymentMethod
          "
          label="ESTABLISHMENT.PAYMENT-METHOD"
        >
        </gosi-label-dc>
      </div>
    </div>
  </div>
</div>
