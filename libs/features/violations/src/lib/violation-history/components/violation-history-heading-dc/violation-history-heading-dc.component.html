<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<div class="d-lg-flex justify-content-between parent-section">
  <gosi-main-heading-dc header="{{ 'VIOLATIONS.ESTABLISHMENT-VIOLATIONS' | translate }}"> </gosi-main-heading-dc>
  <div class="d-flex align-items-start custom_flex history-menu">
    <div class="row search-filter d-flex">
      <div class="col-sm-6 col-md-3 col-lg-3 search-section">
        <gosi-search-dc
          gosiSpecialCharacterMask
          id="search-area"
          (keyup)="onSearchEnable($event.target.value)"
          (search)="searchViolationHistory($event)"
          [searchParam]="searchParam"
          [allowOnlyNumbers]="true"
          [placeholder]="'VIOLATIONS.SEARCH-TNX-ID-VIOLATION_NUMBER' | translate"
          class="w-100"
        >
        </gosi-search-dc>
      </div>
      <div class="col-sm-3 col-md-2 col-lg-2 filter">
        <vol-violation-history-filter-dc
          (historyDetailsFilter)="filterViolationHistory($event)"
          (apply)="filterApplied($event)"
          [channelList]="channelList"
          [typeList]="typeList"
          [violationFilterResponse]="violationFilterResponse"
          [clearFilterHistory]="clearFilteredHistory"
          [hasFiltered]="hasFiltered"
          [defaultAmounts]="defaultAmounts"
        >
        </vol-violation-history-filter-dc>
      </div>
      <div class="col-sm-6 col-md-4 col-lg-4 sort-section">
        <gosi-sort-dc
          [list]="violationList"
          [initialDirection]="sortOrder"
          (direction)="sortDirection($event)"
          (sortItemSelected)="sortedItem($event)"
          [initialValue]="violationList.items[0].value"
        ></gosi-sort-dc>
      </div>
      <div class="col-sm-6 col-md-3 col-lg-3">
        <ng-container *gosiShow="accessCsrOnly">
          <gosi-button-dc
            *ngIf="
              (estDetails?.status?.english === estRegistered || estDetails?.status?.english === estReopened) &&
              estDetails?.gccCountry === false
            "
            id="report-violations"
            class="report-violation"
            type="primary"
            (click)="reportViolation()"
            mobFullWidth="true"
          >
            {{ 'VIOLATIONS.REPORT-VIOLATION' | translate }}
          </gosi-button-dc>
        </ng-container>
      </div>
    </div>
  </div>
</div>
<div class="row applied-filter">
  <gosi-applied-filters-dc [filters]="appliedFilter" (clearFilter)="cancelledFilter($event)"></gosi-applied-filters-dc>
</div>
