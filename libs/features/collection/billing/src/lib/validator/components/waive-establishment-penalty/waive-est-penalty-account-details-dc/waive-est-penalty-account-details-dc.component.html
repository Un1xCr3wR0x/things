<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->

<div class="content-item">
  <ng-container *ngIf="establishmentDetails">
    <div class="row">
      <div class="col-lg-12">
        <frm-content-heading-dc
          icon="building"
          heading="BILLING.ESTABLISHMENT-DETAILS"
          [canEdit]="editFlag && !isReopenClosingInProgress"
          (onEdit)="navigateToEdit()"
        >
        </frm-content-heading-dc>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-6">
        <gosi-label-dc
          id="establishmentName"
          [control]="
            establishmentDetails.name.english === null
              ? establishmentDetails.name.arabic
              : (establishmentDetails.name | bilingualText)
          "
          [label]="'BILLING.ESTABLISHMENT-NAME'"
        >
        </gosi-label-dc>
      </div>

      <div class="col-lg-6">
        <gosi-label-dc
          id="registrationNo"
          [control]="establishmentDetails.registrationNo"
          label="BILLING.REGISTRATION-NUMBER"
        >
        </gosi-label-dc>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-6">
        <gosi-label-dc
          id="legalEntity"
          [control]="
            establishmentDetails.legalEntity.english == null
              ? establishmentDetails.legalEntity.arabic
              : (establishmentDetails.legalEntity | bilingualText)
          "
          label="BILLING.LEGAL-ENTITY"
        >
        </gosi-label-dc>
      </div>
      <div class="col-lg-6">
        <gosi-label-dc id="status" [control]="establishmentDetails.status" label="BILLING.ESTABLISHMENT-STATUS">
        </gosi-label-dc>
      </div>
    </div>
  </ng-container>
</div>
<div class="content-item">
  <div class="row">
    <div class="col-lg-12">
      <frm-content-heading-dc icon="money-check-alt" heading="BILLING.ACCOUNT-DETAILS" [canEdit]="false">
      </frm-content-heading-dc>
    </div>
  </div>
  <div class="sub-content-item">
    <div class="row">
      <div class="col-lg-6">
        <gosi-currency-label-dc
          id="totalAmount"
          [label]="'BILLING.TOTAL-DUE-AMOUNT'"
          [currencyTo]="waiverDetails?.dueAmount.total.toString()"
          [countryCodeFrom]="'BILLING.SAR' | translate"
        ></gosi-currency-label-dc>
      </div>
      <div class="col-lg-6">
        <gosi-currency-label-dc
          id="contributionDueAmount"
          [label]="'BILLING.CONTRIBUTIONS-AMOUNT'"
          [currencyTo]="waiverDetails?.dueAmount.contribution.toString()"
          [countryCodeFrom]="'BILLING.SAR' | translate"
        ></gosi-currency-label-dc>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-6">
        <gosi-currency-label-dc
          id="penalityDueAmount"
          [label]="'BILLING.LATE-FEES-AMOUNT'"
          [currencyTo]="waiverDetails?.dueAmount.penalty.toString()"
          [countryCodeFrom]="'BILLING.SAR' | translate"
        ></gosi-currency-label-dc>
      </div>
      <div class="col-lg-6" *ngIf="!isPPA">
        <gosi-currency-label-dc
          id="rejectedohDueAmount"
          [label]="'BILLING.REJECTED-OH-AMOUNT'"
          [currencyTo]="waiverDetails?.dueAmount.rejectedOh"
          [countryCodeFrom]="'BILLING.SAR' | translate"
        ></gosi-currency-label-dc>
      </div>
     <!-- <div class="row"*ngIf="isLateFeeViolation">
    <div class="col-lg-6">
      <gosi-currency-label-dc
      id="violationAmountBeforeInitiative"
      [label]="'BILLING.VIOLATION-AMOUNT-BEFORE-INITIATIVE'"
      [currencyTo]="waiverDetails?.dueAmount?.violationAmountBeforeInitiative"
      [countryCodeFrom]="'BILLING.SAR' | translate">
    </gosi-currency-label-dc>
    </div>
    <div class="col-lg-6">
      <gosi-currency-label-dc
      id="violationAmountAfterInitiative"
      [label]="'BILLING.VIOLATION-AMOUNT-AFTER-INITIATIVE'"
      [currencyTo]="waiverDetails?.dueAmount?.violationAmountAfterInitiative"
      [countryCodeFrom]="'BILLING.SAR' | translate">
    </gosi-currency-label-dc>
  </div>
  </div>
 <div class="col-lg-6" *ngIf="!isPPA">
    <gosi-currency-label-dc
    id="totalViolationAmount"
    [label]="'BILLING.TOTAL-VIOLATION-AMOUNT'"
    [currencyTo]="waiverDetails?.dueAmount?.violation"
    [countryCodeFrom]="'BILLING.SAR' | translate">
  </gosi-currency-label-dc> 
  </div>
 <div class="col-lg-6"*ngIf="isLateFeeViolation">
    <gosi-label-dc
    id="mudadCompliance"
    [label]="'BILLING.MUDAD-COMPLIANCE' | translate"
    [control]="waiverDetails?.mudadCompliance"> 
  </gosi-label-dc>
  </div> 
  </div>
  <div class="row" *ngIf="isLateFeeViolation">
  <div class="col-lg-6">
    <gosi-label-dc
    id="qiwaCompliance"
    [label]="'BILLING.QIWA-COMPLIANCE' | translate"
    [control]="waiverDetails?.qiwaCompliance"> 
  </gosi-label-dc>
  </div>
</div>-->
      <div class="col-lg-6" *ngIf="!isPPA && !isLateFeeViolation">
        <gosi-currency-label-dc
          id="violationDueAmount"
          [label]="'BILLING.VIOLATIONS-AMOUNT'"
          [currencyTo]="waiverDetails?.dueAmount.violation"
          [countryCodeFrom]="'BILLING.SAR' | translate"
        ></gosi-currency-label-dc>
      </div>
      <div class="col-lg-6">
        <gosi-currency-label-dc
          id="violationDueAmount"
          [label]="'BILLING.OTHER-DUES'"
          [currencyTo]="waiverDetails?.dueAmount.generalRecoveryAmount"
          [countryCodeFrom]="'BILLING.SAR' | translate"
        ></gosi-currency-label-dc>
      </div>
    </div>
    <div class="row"*ngIf="!isLateFeeViolation">
      <div class="col-lg-6">
        <gosi-label-dc
          id="previouslyApprovedIndicator"
          [label]="'BILLING.PREVIOUS-LATE-FEES-WAVIER-INDICATOR'"
          [control]="waiverDetails?.previouslyApprovedInd"
        ></gosi-label-dc>
      </div>
      <div class="col-lg-6">
        <gosi-label-dc
          id="previousInstallmentsIndicator"
          [label]="'BILLING.PREVIOUS-INSTALLMENTS-INDICATOR'"
          [control]="waiverDetails?.previousInstallmentInd"
        ></gosi-label-dc>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12 sub-heading"*ngIf ="!isLateFeeViolation">
      {{ 'BILLING.LATE-FEES-WAVIER-DETAILS' | translate }}
    </div>
    <div class="col-lg-12 sub-heading" *ngIf ="isLateFeeViolation">
      {{ 'BILLING.WAIVER-DETAILS' | translate }}
  </div>
  </div>
  <div class="row">
    <div class="col-lg-6">
      <gosi-label-dc
        id="penaltyPercentage"
        [label]="'BILLING.WAIVED-PENALITY-PERCETANGES' | translate"
        [control]="waivedPenaltyPercentage"
      ></gosi-label-dc>
    </div>
    <div class="col-lg-6">
      <gosi-currency-label-dc
        id="penaltyAmount"
        [label]="'BILLING.PENALTY-WAVIER-AMOUNT' | translate"
        [currencyTo]="waiverDetails?.eligibleWaiveOffAmount.toString()"
        [countryCodeFrom]="'BILLING.SAR' | translate"
      ></gosi-currency-label-dc>
    </div>
  </div>
  <div class="row"*ngIf ="isLateFeeViolation">
  <div class="col-lg-6">
    <gosi-label-dc
      id="waiverViolationsPercentage"
      [control]="waivedViolationPercentage"
      [label]="'BILLING.WAIVED-VIOLATIONS-PERCENTAGE' | translate"
    >
    </gosi-label-dc>
  </div>
  <div class="col-lg-6" >
    <gosi-currency-label-dc
      id="violationsWaiverAmount"
      [label]="'BILLING.VIOLATION-WAIVER-AMOUNT' | translate"
      [currencyTo]="waiverDetails?.violationsWaiverAmount"
      [countryCodeFrom]="'BILLING.SAR' | translate"
    >
    </gosi-currency-label-dc>
  </div>
  </div>
  <div class="row"*ngIf ="isLateFeeViolation">
  <div class="col-lg-6">
      <gosi-currency-label-dc
        id="totalWaiverAmount"
        [label]="'BILLING.TOTAL-WAIVER-AMOUNT' | translate"
        [currencyTo]="waiverDetails?.totalWaiverAmount"
        [countryCodeFrom]="'BILLING.SAR' | translate"
      >
      </gosi-currency-label-dc>
    </div>
    <div class="col-lg-6" *ngIf ="isLateFeeViolation">
      <gosi-currency-label-dc
        id="paymentAmount"
        [label]="'BILLING.REQUIRED-PAYMENT-AMOUNT' | translate"
        [currencyTo]="waiverDetails?.requiredPayment"
        [countryCodeFrom]="'BILLING.SAR' | translate"
      >
      </gosi-currency-label-dc>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-6"*ngIf ="!isLateFeeViolation">
      <gosi-currency-label-dc
        id="penaltyAmount"
        [label]="'BILLING.REQUIRED-PAYMENT-AMOUNT' | translate"
        [currencyTo]="waiverDetails?.terms.amountToBePaid"
        [countryCodeFrom]="'BILLING.SAR' | translate"
      >
      </gosi-currency-label-dc>
    </div>
    <div id="previousIndicator" class="col-lg-6 mainStyle" *ngIf="isLateFeeViolation && !hideGracePeriod">
      <div>
        <div class="indicator">
          {{ 'BILLING.GRACE-PERIOD' | translate }}
        </div>
        <div class="previous-Indicator">
          <div>
            {{ totalGracePeriod }}
            {{ 'BILLING.BUSINESS-DAYS' | translate }}
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-6" *ngIf="waiverDetails?.extensionReason !== null">
      <gosi-label-dc
        id="gracePeriod"
        [label]="'BILLING.REASON-FOR-EXTENSION' | translate"
        [control]="waiverDetails?.extensionReason"
      ></gosi-label-dc>
    </div>
  </div>
</div>
