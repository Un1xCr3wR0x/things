<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->

<gosi-modal-dc modalHeader="CONTRIBUTOR.CONFIRM-REGISTER-CONTRIBUTOR">
  <div class="pb-5" modalContent>
    <div class="row" *ngIf="person">
      <div class="col-12 pt-4 pb-4">
        {{ 'CONTRIBUTOR.CONFIRM-REG-CON-NOTE-ONE' | translate }}
        <strong>
          <span *ngIf="contributorName">
            {{ contributorName | bilingualText }}
          </span>
        </strong>
        <span *ngIf="selectedIdentity">
          <span class="identity-heading"> ({{ selectedIdentity.idType | translate }}: </span>
          <span> {{ selectedIdentity.id }}) </span>
        </span>
        {{ 'CONTRIBUTOR.CONFIRM-REG-CON-NOTE-TWO' | translate }}
      </div>
    </div>
    <div class="row">
    <div class="sar col-12">{{ 'CONTRIBUTOR.ALL-VALUES-IN-SAR' | translate }}</div>
    </div>
    <div class="panel panel-default" *ngIf="engagementPeriod?.length > 0">
      <table class="table table-borderless wage-table">
        <thead class="thead-light">
          <tr>
            <th >
              {{ 'CONTRIBUTOR.PERIOD' | translate }}
            </th>
            <th>
              {{ 'CONTRIBUTOR.TOTAL-WAGE' | translate }}
            </th>
          </tr>
        </thead>
        <tbody>
          <tr class="border-bottom" *ngFor="let item of engagementPeriod">
            <td class="d-flex">
              <span *ngIf="item.startDate && item.startDate.gregorian && item.startDate.entryFormat == typeGregorian"
                >{{ item.startDate.gregorian | date: 'MMMM yyyy' }}
              </span>
              <span *ngIf="item.startDate && item.startDate.hijiri && item.startDate.entryFormat == typeHijira"
                >{{ item.startDate.hijiri | singleFormat | monthNameHijri : 'mm-yyyy' }}
              </span>
              <span class="pl-2 pr-2">
                <fa-icon *ngIf="lang === 'en'" icon="arrow-right"></fa-icon>
                <fa-icon *ngIf="lang === 'ar'" icon="arrow-left"></fa-icon>
              </span>
              <span *ngIf="item.endDate">
                <span *ngIf="item.endDate?.entryFormat == typeGregorian">
                  {{ item.endDate.gregorian | date: 'MMMM yyyy' }}
                </span>
                <span *ngIf="item.endDate?.entryFormat == typeHijira">
                  {{ item.endDate.hijiri | singleFormat | monthNameHijri : 'mm-yyyy' }}
                </span>
              </span>
              <span  *ngIf="item.endDate?.entryFormat == null || item.endDate?.gregorian == null">
                {{ 'CONTRIBUTOR.ONWARDS' | translate }}
              </span>
            </td>
            <td>
              {{ item.wage.totalWage | number: '1.0' }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div modalAction>
    <div class="d-flex justify-content-between">
      <gosi-button-dc type="secondary" id="cancel" (submit)="confirmCancel()" [disable]="isApiTriggered">{{
        'CONTRIBUTOR.CANCEL' | translate
      }}</gosi-button-dc>
      <gosi-button-dc type="primary" id="confirm" (submit)="confirmSubmit()">{{
        'CONTRIBUTOR.CONFIRM' | translate
      }}</gosi-button-dc>
    </div>
  </div>
</gosi-modal-dc>
