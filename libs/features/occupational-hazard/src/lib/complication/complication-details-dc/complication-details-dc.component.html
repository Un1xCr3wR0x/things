<!-- Copyright GOSI. All Rights Reserved.
This software is the proprietary information of GOSI.
Use is subject to license terms. -->
<gosi-card-dc type="secondary" [heading]="'OCCUPATIONAL-HAZARD.INJURY.SEC-INJURY-DETAILS' | translate">
  <ng-container>
    <ng-container *ngIf="establishmentRegNo === registrationNo || !isAppPublic; else anotherEst">
      <div class="row" *ngIf="injuryHistory">
        <div class="col">
          <a (click)="goToInjuryHistory()" target="_blank">
            <gosi-label-dc
              label="OCCUPATIONAL-HAZARD.INJURY.INJURY-ID"
              [value]="injuryHistory.injuryId"
              id="injuryId"
              isLink="true"
              noMargin="true"
              (select)="navigateToInjuryDetails(injuryHistory)"
            >
            </gosi-label-dc>
          </a>
        </div>
        <div class="col" *ngIf="injuryHistory.date">
          <gosi-label-dc
            label="OCCUPATIONAL-HAZARD.INJURY.INJURY-DATE"
            id="injuryDate"
            [value]="injuryHistory.date.gregorian | gosiDate"
          >
          </gosi-label-dc>
        </div>

        <div class="col">
          <gosi-label-dc
            label="OCCUPATIONAL-HAZARD.INJURY.MANAGE-INJURY-TYPE"
            id="injuryType"
            [value]="injuryHistory.injuryType | bilingualText"
          >
          </gosi-label-dc>
        </div>
        <div class="col">
          <gosi-label-dc
            label="OCCUPATIONAL-HAZARD.INJURY.INJURY-LOCATION"
            id="injuryLocation"
            [value]="injuryHistory.location | bilingualText"
          >
          </gosi-label-dc>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12">
          <gosi-label-dc
            label="OCCUPATIONAL-HAZARD.INJURY.INJURY-REASON"
            id="injuryReason"
            [value]="injuryHistory.injuryReason | bilingualText"
          >
          </gosi-label-dc>
        </div>
      </div>
    </ng-container>
  </ng-container>
  <ng-template #anotherEst>
    <div class="row" *ngIf="injuryHistory">
      <div class="col col-lg-2">
        <gosi-label-dc id="injuryId" label="OCCUPATIONAL-HAZARD.INJURY.INJURY-ID" [value]="injuryHistory.injuryId">
        </gosi-label-dc>
      </div>
      <div class="col col-lg-2" *ngIf="injuryHistory.date">
        <gosi-label-dc
          id="injuryDate"
          label="OCCUPATIONAL-HAZARD.INJURY.INJURY-DATE"
          [value]="injuryHistory.date.gregorian | gosiDate"
        >
        </gosi-label-dc>
      </div>
      <div class="col-lg-7 col-md-6 col-sm-12">
        <p class="info-est">
          <fa-icon icon="exclamation-circle" size="md"></fa-icon>
          {{ 'OCCUPATIONAL-HAZARD.INJURY.INJURY-ANOTHER-EST' | translate }}
        </p>
      </div>
    </div>
  </ng-template>
</gosi-card-dc>

