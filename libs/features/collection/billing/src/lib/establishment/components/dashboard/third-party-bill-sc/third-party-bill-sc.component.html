<!-- /**
 * Copyright GOSI. All Rights Reserved.
 * This software is the proprietary information of GOSI.
 * Use is subject to license terms.
 */ -->

<gosi-breadcrumb-dc> </gosi-breadcrumb-dc>
<div class="row header-section">
  <div class="col-auto heading-main border-right">
    {{ 'BILLING.BILL' | translate }}
  </div>
  <div class="col-auto heading-main mr-auto mof-margin">
    {{ 'BILLING.MOF' | translate }}
  </div>
  <div style="display: none">
    <img
      class="icon pr-3 img-size"
      alt="pdfDownloadThirdPartyBill"
      title="{{ 'BILLING.DOWNLOAD-BILL-AS-PDF' | translate }}"
      [src]="pdfImgSrc"
      (click)="downloadThirdPartyTransaction()"
      (mouseover)="pdfImgSrc = 'assets/images/downloadicons/pdf-on-green-bg-hover.svg'"
      (mouseout)="pdfImgSrc = 'assets/images/downloadicons/pdf-on-green-bg-normal.svg'"
    />

    <img
      class="icon pr-3 img-size"
      alt="excelDownloadThirdPartyBill"
      title="{{ 'BILLING.DOWNLOAD-BILL-AS-EXCEL' | translate }}"
      [src]="excelImgSrc"
      (mouseover)="excelImgSrc = 'assets/images/downloadicons/xcel-on-green-bg-hover.svg'"
      (mouseout)="excelImgSrc = 'assets/images/downloadicons/xcel-on-green-bg-normal.svg'"
    />
    <img
      class="icon pe-3 img-size"
      alt="printThirdPartyBill"
      title="{{ 'BILLING.PRINT' | translate }}"
      [src]="printImgSrc"
      (click)="printThirdPartyTransaction()"
      (mouseover)="printImgSrc = 'assets/images/downloadicons/print-on-green-bg-hover.svg'"
      (mouseout)="printImgSrc = 'assets/images/downloadicons/print-on-green-bg-normal.svg'"
    />
  </div>
</div>
<div>
  <blg-bill-balance-dc
    (estType)="getEstablishmentType($event)"
    [tabDetails]="tabDetails"
    [selectedTabName]="selectedTabName"
    [billBalanceDetails]="mofEstablishmentBill"
    [exchangeRate]="exchangeRate"
    [summary]="mofEstablishmentBill.summary"
    [unBillAmount]="billDetails.unBilledAmount"
    [isMofFlag]="isMofFlag"
    [currencyType]="currencyType"
    [isGccCountry]="isGccCountry"
  ></blg-bill-balance-dc>
</div>

<div>
  <blg-bill-details-dc
    [establishmentType]="establishmentType"
    (date)="getDate($event, false, establishmentType)"
    [billDetails]="mofEstablishmentBill"
    [isAdmin]="isAdmin"
    [currencyType]="currencyType"
    [exchangeRate]="exchangeRate"
    [isGccCountry]="isGccCountry"
    [isMofFlag]="isMofFlag"
    (downloadBill)="downloadThirdPartyTransaction()"
    (printBill)="printThirdPartyTransaction()"
    (billingSummary)="getBillingSummary()"
    [selectedDate]="monthSelectedDate"
    [initialStartDate]="billStartDate"
    [isBillNumber]="isNoBill"
    [initialLoad]="initialLoad"
    [errorMessage]="errorMessage"
    [isDisable]="isDisable"
    [isNoBillMonth]="isNoBillMonthMof"
  >
  </blg-bill-details-dc>
</div>

<div class="container-fluid">
  <div class="row form-action">
    <div class="col-lg-12">
      <gosi-button-dc
      class="float-right btn-section add-lr-space"
      id="mofAllocation"
      type="primary"
      (submit)="navigateToBillaAllocattionMof()"
      [disbaled]="isNoBillMonthMof"
    >
      {{ 'BILLING.VIEW-ALLOCATION' | translate }}</gosi-button-dc
    >
      <gosi-button-dc
        class="float-right btn-section"
        id="mofBillHistory"
        type="primary"
        (submit)="navigateToBillHistoryMof()"
        [disbaled]="isNoBillMonthMof"
      >
        {{ 'BILLING.BILL-HISTORY' | translate }}</gosi-button-dc
      >
      <gosi-button-dc
        class="d-none d-sm-block float-right btn-section add-lr-space"
        id="mofPaymentReceiptHistory"
        (submit)="goToMofReceiptHistory()"
        type="primary"
      >
        {{ 'BILLING.PAYMENT-RECEIPT-HISTORY' | translate }}</gosi-button-dc
      >
      <gosi-button-dc
        class="d-block d-sm-none float-right btn-section"
        id="mofPaymentReceiptHistory"
        (submit)="goToMofReceiptHistory()"
        type="primary"
      >
        {{ 'BILLING.PAYMENT-RECEIPT-HISTORY' | translate }}</gosi-button-dc
      >
    </div>
  </div>
</div>
