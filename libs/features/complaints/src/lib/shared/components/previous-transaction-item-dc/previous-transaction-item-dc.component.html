<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<div *ngIf="transaction">
  <div class="row pt-2 pb-2">
    <span class="col-lg-12 category-label">
      {{ transaction.category ? (transaction.category | bilingualText) : ('COMPLAINTS.NOT-AVAILABLE' | translate) }}
    </span>
  </div>
  <gosi-accordion-dc>
    <div header>
      <div class="heading-wrapper">
        <div class="row align-items-center d-md-flex justify-content-between">
          <div class="accordion-heading-type col-lg-8 col-auto">
            <span class="type-label">
              {{ 'COMPLAINTS.' + typeLabel | translate }}
            </span>
            <span *ngIf="transaction.type; else nullValue" class="type-value">{{
              transaction.type | bilingualText
            }}</span>
          </div>
          <div class="status col-lg-3 d-none d-lg-flex justify-content-end">
            <ng-container *ngTemplateOutlet="statusTemplate"></ng-container>
          </div>
          <div class="col-lg-1 col-auto d-flex justify-content-end">
            <span class="arrow-up">
              <fa-icon icon="angle-up" size="lg"></fa-icon>
            </span>
            <span class="arrow-down">
              <fa-icon icon="angle-down" size="lg"></fa-icon>
            </span>
          </div>
        </div>
        <div class="row d-lg-none d-block pt-2">
          <div class="col-12">
            <ng-container *ngTemplateOutlet="statusTemplate"></ng-container>
          </div>
        </div>
      </div>
    </div>
    <div body>
      <div class="row">
        <div class="col-md-4">
          <gosi-label-dc
            [id]="'subtype'"
            [value]="transaction.subtype | bilingualText"
            [label]="'COMPLAINTS.' + subTypeLabel | translate"
          ></gosi-label-dc>
        </div>
        <div class="col-md-4">
          <gosi-label-dc
            [id]="'lastactiondate'"
            [value]="transaction.completedDate?.gregorian | gosiDate"
            [label]="'COMPLAINTS.COMPLAINT-LAST-DATE' | translate"
          ></gosi-label-dc>
        </div>
        <div class="col-md-4">
          <gosi-label-dc
            [id]="'subtype'"
            [value]="transaction.transactionTraceId"
            [label]="'COMPLAINTS.COMPLAINT-TRANSACTION-ID' | translate"
          ></gosi-label-dc>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <gosi-label-dc
            [id]="'description'"
            [value]="transaction.description"
            [label]="'COMPLAINTS.DESCRIPTION' | translate"
          ></gosi-label-dc>
        </div>
        <div class="col-md-12">
          <gosi-label-dc
            [id]="'subtype'"
            [value]="transaction.gosiComments"
            [label]="'COMPLAINTS.COMPLAINT-GOSI-COMMENTS' | translate"
          ></gosi-label-dc>
        </div>
      </div>
    </div>
  </gosi-accordion-dc>
</div>
<ng-template #statusTemplate>
  <gosi-status-badge-dc
    [label]="transaction.status"
    [type]="statusBadgeType(transaction.status)"
  ></gosi-status-badge-dc>
</ng-template>
<ng-template #nullValue>
  <div class="null-value">â€”</div>
</ng-template>
