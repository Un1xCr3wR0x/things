<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->

<accordion>
  <accordion-group class="accordion-group-class" heading="{{ 'BILLING.LATE-FEES-WAVIER-DETAILS' | translate }}">
    <span class="arrow-up-period arrow-color" accordion-heading>
      <span
        >({{ 'BILLING.TOTAL' | translate }}:
        {{ lateFeeWavier.totalAmount * exchangeRate | numToPositive | number: '1.2-2' }}
        {{ currencyType | bilingualText }} )</span
      >
      <span><fa-icon class="icon-margin" icon="angle-up" size="lg"></fa-icon> </span>
    </span>

    <span class="arrow-down-period arrow-color" accordion-heading>
      <span
        >({{ 'BILLING.TOTAL' | translate }}:
        {{ lateFeeWavier.totalAmount * exchangeRate | numToPositive | number: '1.2-2' }}
        {{ currencyType | bilingualText }} )</span
      >
      <span> <fa-icon class="icon-margin" icon="angle-down" size="lg"></fa-icon></span>
    </span>

    <div class="table-responsive" id="lateFeeTables">
      <table class="table table-borderless">
        <thead class="thead-light">
          <tr>
            <th rowspan="3" class="heading-alignment" id="TransactionDate">
              {{ 'BILLING.TRANSACTION-DATE' | translate | titlecase }}
            </th>

            <th colspan="2" class="center" id="PeriodofWaiver">
              {{ 'BILLING.PERIOD-WAIVER' | translate | titlecase }}
            </th>

            <th rowspan="3" class="heading-alignment" id="Waiver Percentage">
              {{ 'BILLING.WAIVED-PENALITY-PERCETANGES' | translate | titlecase }}
            </th>

            <th rowspan="3" class="heading-alignment" id="WaivedoffAmount">
              {{ 'BILLING.PENALTY-WAVIER-AMOUNT' | translate | titlecase }}
            </th>
          </tr>
          <tr>
            <th id="fromDate" class="heading-alignment">{{ 'BILLING.FROM' | translate | titlecase }}</th>
            <th id="toDate" class="heading-alignment">{{ 'BILLING.TO' | translate | titlecase }}</th>
          </tr>
        </thead>

        <tbody>
          <ng-container *ngFor="let item of lateFeeWavier?.waiveOffDetails; let i = index">
            <tr class="border-bottom">
              <td>{{ item.transactionDate.gregorian | date: 'dd/MM/yyyy' }}</td>
              <td>{{ item.period?.startDate?.gregorian | date: 'MMM y' }}</td>
              <td>{{ item.period?.endDate?.gregorian | date: 'MMM y' }}</td>
              <td>{{ item.percentage }}</td>
              <td>{{ item.amount | number: '1.2-2' }}</td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
  </accordion-group>
</accordion>
<ng-template #noResult>
  <div class="col-lg-12">
    <div class="mt-10 text-center">
      <img src="assets/images/search-error.svg" alt="search-error" />
      <br />
      <p class="text-muted">{{ 'BILLING.NO-DATA' | translate | titlecase }}</p>
    </div>
  </div>
</ng-template>
