<!-- Copyright GOSI. All Rights Reserved.
This software is the proprietary information of GOSI.
Use is subject to li cense terms. -->

<div class="content">
  <div class="row no-gutters mb-4">
    <!-- main heading -->
    <div class="col-auto mr-auto header">
      {{ heading | translate }}
    </div>
    <div class="col-sm-3 col-md-3 col-lg-3">
      <div class="float-right">
        <gosi-button-dc
          id="contributor"
          type="secondary"
          [outlineOnly]="true"
          size="md"
          (click)="assessmentInstruction(instrcutionModal)"
        >
          {{ 'OCCUPATIONAL-HAZARD.NEED-HELP' | translate }}
          <!-- <fa-icon icon="question-circle"></fa-icon> -->
        </gosi-button-dc>
      </div>
    </div>
  </div>
  <!-- alert component -->

  <gosi-alert-sc></gosi-alert-sc>

  <!-- PROGRESS WIZARD -->
  <div>
    <gosi-progress-wizard-dc (clickWizard)="selectedWizard($event)" [wizardItems]="assessmentWizards" #assessmentWizard>
    </gosi-progress-wizard-dc>
  </div>
  <!-- main content begins here -->
  <div class="hide-tab">
    <tabset type="pills" #disabilityAssessmentDetailsTab>
      <!-- disability details tab -->
      <tab [active]="currentTab === 0" heading="'OCCUPATIONAL-HAZARD.DISABILITY-DETAILS'">
        <div class="row">
          <div class="col-md-12">
            <!--request date card-->
            <oh-medical-report-request-dc
              [hospital]="hospital$ | async"
              [parentForm]="parentForm"
              (hospitalName)="onServiceProviderSelected($event)"
              [serviceAddress]="serviceAddress"
              [previousDisabilityDetails]="previousDisabilityDetails"
              (previousAssessmentDetails)="previousAssessmentDetails($event)"
              (downloadData)="fileDownload($event)"
              (pychiatricForm)="downloadPsychiatricForm()"
            ></oh-medical-report-request-dc>
          </div>
          <div class="col-md-12">
            <oh-disability-description-dc [parentForm]="requestDisabilityAssessmentForm"></oh-disability-description-dc>
          </div>
        </div>
        <div class="row">
          <div class="col-auto form-action-btn">
            <gosi-button-dc
              [ngClass]="isSmallScreen ? '' : 'float-left'"
              id="cancelButton"
              [isFullWidth]="isSmallScreen"
              type="secondary"
              (click)="cancelTransaction()"
            >
              {{ 'OCCUPATIONAL-HAZARD.CANCEL' | translate }}</gosi-button-dc
            >
          </div>
          <div class="ml-auto col-auto form-action-btn">
            <gosi-button-dc
              [ngClass]="!isSmallScreen ? 'float-right' : ''"
              id="saveAndNext"
              type="primary"
              [isFullWidth]="isSmallScreen"
              (submit)="saveDisabilityDescription()"
            >
              {{ 'OCCUPATIONAL-HAZARD.SAVE-AND-NEXT' | translate }}</gosi-button-dc
            >
          </div>
        </div>
      </tab>

      <!-- document details tab -->
      <tab [active]="currentTab === 1">
        <div class="row">
          <div class="col-12">
            <oh-add-document-dc
              [businessKey]="assessmentRequestId"
              [documentScanList]="documentScanList"
              [documentCategoryList]="documentCategoryList"
              (refresh)="refreshDocument($event)"
              [parentForm]="parentForm"
              [transactionIdParam]="101587"
              [referenceNo]="transactionNumber"
              [isReassessment]="true"
            >
            </oh-add-document-dc>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-12 form-action">
            <div class="document-details">
              <div class="float-right btn-section">
                <gosi-button-dc id="submit" (submit)="submitDocument($event)" [type]="'primary'">
                  {{ 'OCCUPATIONAL-HAZARD.SUBMIT' | translate }}</gosi-button-dc
                >
              </div>
              <div class="float-right btn-section">
                <gosi-button-dc (submit)="previousForm()" id="previousContributor" [type]="'secondary'">
                  {{ 'OCCUPATIONAL-HAZARD.PREVIOUS-SECTION' | translate }}</gosi-button-dc
                >
              </div>
              <div class="float-left btn-section">
                <gosi-button-dc (submit)="showTemplate(confirmTemplate)" id="cancel" [type]="'secondary'">
                  {{ 'OCCUPATIONAL-HAZARD.CANCEL' | translate }}</gosi-button-dc
                >
              </div>
            </div>
          </div>
        </div>
      </tab>
      <!-- <tab [active]="currentTab === 1">
        <div class="row">
          <div class="col-12"> -->
      <!-- <oh-document-dc
              [businessKey]="assessmentRequestId"
              [documentList]="documentList"
              [isReassessment]="true"
              [parentForm]="documentForm"
              [forContributorReassessments]="forContributorReassessments"
              (submit)="submitDocument($event)"
              (uploadFailed)="showMandatoryDocErrorMessage($event)"
              (documentFormDetails)="showFormValidation()"
              (previous)="previousForm()"
              (refresh)="refreshDocument($event)"
              (template)="showTemplate(confirmTemplate)"
            > -->
      <!-- [processType]="processType" -->
      <!-- [taskId]="taskid" -->
      <!-- [isWorkflow]="isWorkflow" -->
      <!-- [assignedRole]="assignedRole" -->
      <!-- </oh-document-dc> -->
      <!-- </div>
        </div>
      </tab> -->
    </tabset>
  </div>
</div>
<!-- templates -->
<ng-template #confirmTemplate>
  <gosi-confirm-modal-dc [message]="'BENEFITS.CONFIRM-CANCEL'" (onConfirm)="confirmCancel()" (onCancel)="hideModal()">
    <!-- (onConfirm)="confirm()" (onCancel)="decline() -->
  </gosi-confirm-modal-dc>
</ng-template>
<ng-template #instrcutionModal>
  <oh-disability-reassessment-instruction-dc (close)="hideInstructionModal()" [occReassessment]="occReassessment">
  </oh-disability-reassessment-instruction-dc>
</ng-template>
