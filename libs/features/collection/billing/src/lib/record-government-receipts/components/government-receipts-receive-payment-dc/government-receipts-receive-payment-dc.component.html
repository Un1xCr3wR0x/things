<gosi-modal-dc [modalHeader]="'BILLING.UPLOAD-RECEIPT-RECEIVE-PAYMENT'"></gosi-modal-dc>
<div class="row ml-3 mr-3">
  <gosi-alert-sc class="w-100"></gosi-alert-sc>
</div>
<div class="row w-100 ml-3 mr-3">
  <div class="col-sm-8">
    <gosi-input-number-dc
      id="referenceNo"
      [label]="'BILLING.PAYMENT-REFERENCE-NUMBER' | translate"
      class="custom-input"
      [placeholder]="'BILLING.ENTER-PAYMENT-REFERENCE-NUMBER'"
      [maxLength]="15"
      [overridePlaceholder]="true"
      [control]="parentForm.get('receivePayment').get('referenceNo')"
      [noPadding]="true"
      [hideOptionalLabel]="true"
    >
    </gosi-input-number-dc>
  </div>
  <div class="col-sm-2 next-button">
    <gosi-button-dc id="next" (submit)="getPayment()">
      {{ 'BILLING.NEXT' | translate }}
    </gosi-button-dc>
  </div>
</div>
<!-- establishment details -->
<div *ngIf="receiptDetails" class="row details">
  <div class="row" *ngFor="let receipt of receiptDetails.uploadReceipts">
    <div class="col-lg-3">
      <gosi-label-dc
        [id]="'customerRegNo'"
        [value]="receipt.establishmentName"
        [label]="'BILLING.ESTABLISHMENT-NAME' | translate"
      ></gosi-label-dc>
    </div>
    <div class="col-lg-3">
      <gosi-label-dc
        [id]="'transactionDate'"
        [value]="receipt.transactionDate | date: 'dd/MM/yyyy'"
        [label]="'BILLING.TRANSFER-DATE' | translate"
      ></gosi-label-dc>
    </div>
    <div class="col-lg-3">
      <gosi-label-dc
        [id]="'amount'"
        [value]="receipt.amount | number: '1.2-2'"
        [label]="'BILLING.AMOUNT' | translate"
      ></gosi-label-dc>
    </div>
    <div class="col-lg-3">
      <gosi-label-dc
        [id]="'uploadDate'"
        [value]="receipt.createDate | date: 'dd/MM/yyyy'"
        [label]="'BILLING.UPLOAD-DATE' | translate"
      ></gosi-label-dc>
    </div>
    <div class="col-lg-3">
      <gosi-label-dc
        [id]="'paymentOrderNo'"
        [value]="receipt.paymentOrderNumber"
        [label]="'BILLING.PAYMENT-ORDER-NUMBER' | translate"
      ></gosi-label-dc>
    </div>
  </div>
</div>
<div *ngIf="receiptDetails && !isReceived" class="row w-100 ml-3 mr-3 mb-3">
  <div class="col-sm-8">
    <gosi-input-number-dc
      id="registrationNo"
      [label]="'BILLING.ESTABLISHMENT-REG-NO' | translate"
      class="custom-input"
      [placeholder]="'BILLING.ENTER-ESTABLISHMENT-REG-NO'"
      [maxLength]="15"
      [overridePlaceholder]="true"
      [control]="parentForm.get('receivePayment').get('registrationNo')"
      [noPadding]="true"
      [hideOptionalLabel]="true"
    >
    </gosi-input-number-dc>
  </div>
</div>
<div *ngIf="receiptDetails && isReceived" class="row w-100 ml-3 mr-3 mb-3">
  <gosi-alert-dc message="BILLING.PAYMENT-RECORDED-NOTE" type="info" [dismissible]="false" class="w-100 payment-alert">
  </gosi-alert-dc>
</div>
<div *ngIf="!receiptDetails" class="pt-3"></div>
<!-- footer buttons -->
<div class="row mb-3 w-100 buttons-section">
  <div class="col-lg-12">
    <div class="float-left btn-section">
      <gosi-button-dc id="cancel" type="secondary" (submit)="cancelPopUp()">
        {{ 'BILLING.CANCEL' | translate }}
      </gosi-button-dc>
    </div>
    <div class="float-right btn-section">
      <gosi-button-dc
        id="continue"
        type="primary"
        [disabled]="!allowContinue || isReceived"
        (submit)="submitAndContinue()"
      >
        {{ 'BILLING.CONTINUE' | translate }}</gosi-button-dc
      >
    </div>
  </div>
</div>
