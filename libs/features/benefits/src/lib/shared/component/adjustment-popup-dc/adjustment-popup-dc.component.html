<gosi-modal-dc
  [modalHeader]="'BENEFITS.BENEFIT-ADJUSTMENT-DETAILS' | translate"
  [needCloseButton]="true"
  (closeModal)="hideModal()"
>
  <div class="col-md-12 pt-2 pl-0" modalContent>
    <div class="col-md-12 heading">
      {{ 'BENEFITS.ADJSUTMENTS' | translate }}
    </div>
    <div class="table-scroll table-responsive table-adjustmentDetails">
      <table class="table table-borderless rounded">
        <thead class="table-header">
          <tr>
            <th>
              {{ 'BENEFITS.ADJUSTMENT_ID' | translate }}
            </th>
            <th>
              {{ 'BENEFITS.ADJUSTMENT-REASON' | translate }}
            </th>
            <th>
              {{ 'BENEFITS.BENEFIT-TYPE' | translate }}
            </th>
            <th></th>
            <th>
              {{ 'BENEFITS.DEBIT-PERCENTAGE' | translate }}
            </th>
            <th>
              {{ 'BENEFITS.TYPE' | translate }}
            </th>
            <th>
              {{ 'BENEFITS.ADJUSTED-AMOUNT-SAR' | translate }}
            </th>
          </tr>
        </thead>
        <tbody>
          <tr class="data-row border-bottom" *ngFor="let adjustment of paymentHistory?.paidAdjustments">
            <td>
              <a
                id="benefitadjustmentId"
                routerLinkActive="active"
                (click)="onAdjustmentClicked.emit(adjustment?.adjustmentId)"
                ><u>{{ adjustment?.adjustmentId }} </u></a
              >
              <span class="mr-1"></span>
              <span
                [tooltip]="differenceDebitPercentTemplate"
                placement="bottom"
                triggers="mouseenter:mouseleave"
                size="sm"
              >
                <fa-icon [icon]="['fas', 'info-circle']" class="icon"></fa-icon>
              </span>
            </td>
            <td>
              <div class="adjustment-reason col-sm-12">{{ adjustment?.reason | bilingualText }}</div>
            </td>
            <td>{{ adjustment?.benefitType | bilingualText }}</td>
            <td>
              <a id="viewBenefitDetails" routerLinkActive="active" (click)="onBenefitTypeClicked.emit(adjustment)">
                <u>{{ 'BENEFITS.VIEW-DETAILS' | translate }}</u>
              </a>
            </td>
            <td>{{ adjustment?.percentage }}</td>
            <td>{{ adjustment?.adjustmentType | bilingualText }}</td>
            <td>{{ adjustment?.adjustedAmount | number: '1.0-2' }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="row">
      <div class="col-sm-4 col-md-4 col-lg-4">
        <gosi-label-dc
          id="netAdjustedAmount"
          label="{{ 'BENEFITS.NET-ADJUSTED-AMOUNT' | translate }}"
          value="{{ paymentHistory?.netAdjustedAmount | numToPositive | number: '1.0-2' }}"
        >
        </gosi-label-dc>
      </div>
      <div class="col-sm-4 col-md-4 col-lg-4">
        <gosi-label-dc
          id="netAdjustedType"
          label="{{ 'BENEFITS.NET-ADJUSTED-TYPE' | translate }}"
          value="{{ paymentHistory?.netAdjustedType | bilingualText }}"
        >
        </gosi-label-dc>
      </div>
      <div class="col-sm-4 col-md-4 col-lg-4" *ngIf="false">
        <gosi-label-dc id="recoveredAmount" label="{{ 'BENEFITS.RECOVERED-ADJUSTMENT-AMOUNT' | translate }}" value="">
        </gosi-label-dc>
      </div>
      <div class="col-sm-4 col-md-4 col-lg-4" *ngIf="false">
        <gosi-label-dc
          id="remainingAdjustmentAmount"
          label="{{ 'BENEFITS.REMAINING-ADJUSTMENT-AMOUNT' | translate }}"
          value=""
        >
        </gosi-label-dc>
      </div>
    </div>
  </div>
</gosi-modal-dc>
<ng-template #differenceDebitPercentTemplate>
  <div class="row no-gutters">
    <div class="col-auto">{{ 'BENEFITS.DEBIT-PERCENT-INFO' | translate }}</div>
  </div>
</ng-template>
