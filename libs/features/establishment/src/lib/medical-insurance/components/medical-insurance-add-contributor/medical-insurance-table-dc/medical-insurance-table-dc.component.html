<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->

<ng-container>
  <ng-container>
    <div class="table table-responsive-md">
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">
              {{ 'CONTRIBUTOR.CONTRIBUTOR-NAME' | translate }} & <br />
              {{ 'CONTRIBUTOR.CONTRIBUTOR-LIST.ID' | translate }}
            </th>
            <th scope="col">
              {{ 'ESTABLISHMENT.ESTABLISHMENT-NAME' | translate }} & <br />
              {{ 'ESTABLISHMENT.EST-ID' | translate }}
            </th>
            <th scope="col">{{ 'ESTABLISHMENT.POLICY-DATE' | translate }}</th>
            <th scope="col">
              {{ 'ESTABLISHMENT.POLICY-STATUS' | translate }}
            </th>
            <th scope="col">
              {{ 'ESTABLISHMENT.REQUEST-STATUS' | translate }}
            </th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngIf="contributorSubList.medicalInsuranceSubscribers.length > 0; else emptyList">
            <tr *ngFor="let contributor of contributorSubList.medicalInsuranceSubscribers">
              <td>
                {{ contributor.name | nameToString: true }} <br />
                {{ contributor.nin.newNin }}
              </td>
              <td>
                <div *ngIf="contributorSubList.establishmentName.english == null">
                  {{ contributorSubList.establishmentName.arabic }}
                </div>
                <div *ngIf="contributorSubList.establishmentName.arabic == null">
                  {{ contributorSubList.establishmentName | bilingualText }}
                </div>
                <br />
                {{ contributor.registrationNumber }}
              </td>
              <td>
                Start:{{ contributor.policyStartDate | date: 'dd/MM/yyy' }} <br />
                End:{{ contributor.policyEndDate | date: 'dd/MM/yyy' }}
              </td>
              <td>
                <div class="row px-3">
                  {{ mapPolicyStatus(contributor.policyStatus) | translate }}
                </div>
              </td>
              <td>
                <div class="row px-3">
                  <div>
                    {{ mapRequestStatus(contributor.requestStatus) | translate }}
                    <!--                        <gosi-status-badge-dc-->
                    <!--                          [label]="mapRequestStatus(contributor.requestStatus)| bilingualText"-->
                    <!--                          type="{{-->
                    <!--                      contributor?.requestStatus?.english === 'REJECTED' ||-->
                    <!--                      contributor?.requestStatus?.english === 'CANCELLED' ||-->
                    <!--                      contributor?.requestStatus?.english === 'DEACTIVATED'-->
                    <!--                        ? 'danger'-->
                    <!--                        : contributor?.requestStatus?.english === 'IN_PROGRESS' ||-->
                    <!--                          contributor?.requestStatus?.english === 'REQUESTED' ||-->
                    <!--                          contributor?.requestStatus?.english === 'TO_BE_ACTIVATED'-->
                    <!--                        ? 'warning'-->
                    <!--                        : contributor?.requestStatus?.english === 'ACTIVATED'-->
                    <!--                        ? 'secondary'-->
                    <!--                        : ''-->
                    <!--                    }}">-->
                    <!--                        </gosi-status-badge-dc>-->
                  </div>
                </div>
              </td>
            </tr></ng-container
          >
        </tbody>
      </table>
    </div>
  </ng-container>

  <ng-template #emptyList>
    <div class="text-center pt-4" id="text-1">
      <div class="empty-info">{{ 'ESTABLISHMENT.NO-CONTRIBUTOR-AVAILABLE' | translate }}</div>
      <gosi-button-dc id="addContributor" type="primary" outlineOnly="true" [size]="'lg'">
        {{ 'CONTRIBUTOR.ADD-CONTRIBUTOR' | translate }}</gosi-button-dc
      >
    </div>
  </ng-template>
</ng-container>
