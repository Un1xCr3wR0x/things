<!-- Copyright GOSI. All Rights Reserved.
  This software is the proprietary information of GOSI.
  Use is subject to license terms. -->

<!---------------------------------------- Profile ---------------------------------------->
<div class="content empty-content">
  <div class="view-heading d-flex align-items-center">
    <div class="entity-name">{{ 'TEAM-MANAGEMENT.VALIDATOR_PROFILE' | translate }}</div>
  </div>

  <div class="row no-gutters person-profile-wrapper">
    <!------------------------ Left Side Profile with static data -------------------------->
    <div class="profile-info">
      <tm-validator-profile-dc [profileDetails]="validatorProfileDetails"> </tm-validator-profile-dc>
    </div>
    <!---------------------- Right Side Profile with tabs --------------------------->
    <div class="person-details">
      <gosi-alert-sc [noSpacing]="true"></gosi-alert-sc>
      <frm-view-contact-dc
        [negativeMobileMargin]="false"
        [contactDetails]="contact"
        [isCsr]="true"
        [hideTelephone]="false"
      >
      </frm-view-contact-dc>

      <tm-block-periods-view-dc
        (addBlock)="openModal(type.ADD_BLOCK)"
        (modifyBlock)="openModal(type.MODIFY_BLOCK, $event)"
        (removeBlock)="openModal(type.REMOVE_BLOCK, $event)"
        [blockPeriods]="blockPeriods"
      ></tm-block-periods-view-dc>
    </div>
  </div>
</div>
<ng-template #addBlock>
  <tm-block-periods-modal-dc
    (closeModal)="hideModal()"
    [modalHeader]="'TEAM-MANAGEMENT.ADD_BLOCK_UNAVAILABLE_PERIOD' | translate"
    [modalType]="type.ADD_BLOCK"
    [form]="form"
    (confirm)="setVacationPeriod()"
  ></tm-block-periods-modal-dc>
</ng-template>
<ng-template #modifyBlock>
  <tm-block-periods-modal-dc
    (closeModal)="hideModal()"
    [modalHeader]="'TEAM-MANAGEMENT.MODIFY_BLOCK_UNAVAILABLE_PERIOD' | translate"
    [modalType]="type.MODIFY_BLOCK"
    [blockPeriod]="blockPeriod"
    [form]="form"
    (confirm)="updateVacationPeriod()"
  ></tm-block-periods-modal-dc>
</ng-template>
<ng-template #removeBlock>
  <tm-remove-block-modal-dc
    (onCancel)="hideModal()"
    (onConfirm)="onConfirm()"
    [message]="
      ('TEAM-MANAGEMENT.REMOVE_BLOCK_PERIOD_MESSAGE' | translate) +
      ' ' +
      startDate +
      ' ' +
      ('TEAM-MANAGEMENT.TO' | translate) +
      ' ' +
      endDate +
      ' ?'
    "
  ></tm-remove-block-modal-dc>
</ng-template>
