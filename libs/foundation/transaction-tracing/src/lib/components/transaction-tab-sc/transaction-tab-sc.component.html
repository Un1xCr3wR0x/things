<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->

<div class="content p-0">
  <div class="transaction-tabs" [ngClass]="{ 'has-dropdown': showDropDown }">
    <a
      *ngFor="let tab of transactionTabs; let i = index"
      [routerLink]="tab.url"
      [ngClass]="[i > 1 ? 'd-none d-md-flex' : '']"
      [routerLinkActiveOptions]="{ exact: true }"
      routerLinkActive="active"
      class="tab main padding-ipad"
      click="tabSelect()"
    >
      <fa-icon class="icon-wrapper" [icon]="tab.icon" size="lg"></fa-icon>
      <span class="value d-flex">
        <div>
          <span>
            {{ 'TRANSACTION-TRACING.' + tab.label | translate }}
          </span>
        </div>
        <div>
          <ng-container *ngIf="tab.count || tab.totalCount">
            <ng-conatiner *ngIf="tab.count && !tab.totalCount">
              <span class="count">{{ tab.count }}</span>
            </ng-conatiner>
            <ng-conatiner *ngIf="tab.count && tab.totalCount && lang === 'en'">
              <span class="count">{{ tab.count }}/{{ tab.totalCount }}</span>
            </ng-conatiner>
            <ng-conatiner *ngIf="tab.count && tab.totalCount && lang === 'ar'">
              <span class="count">{{ tab.totalCount }}/{{ tab.count }}</span>
            </ng-conatiner>
          </ng-container>
          </div>
      </span>
    </a>
    <a
      *ngIf="transactionTabs.length > 2"
      id="more"
      class="tab dropdown"
      (click)="onDropDownClick()"
      [ngClass]="{ open: showDropDown, active: activeInDropdown }"
    >
      <div class="value">{{ 'TRANSACTION-TRACING.MORE' | translate }}</div>
      <fa-icon class="icon dropdown-icon" icon="caret-down"> </fa-icon>
    </a>
  </div>
  <div class="dropdown-options" *ngIf="showDropDown && transactionTabs.length > 2">
    <a
      *ngFor="let tab of transactionTabs.slice(2, transactionTabs.length); let i = index"
      [routerLink]="tab.url"
      routerLinkActive="active"
      class="dropdown-tab"
      [routerLinkActiveOptions]="{ exact: true }"
    >
      <fa-icon class="icon-wrapper" [icon]="tab.icon" size="lg"></fa-icon>
      <span class="value">
        {{ 'TRANSACTION-TRACING.' + tab.label | translate }}
        <ng-container *ngIf="tab.count || tab.totalCount">
          <ng-conatiner *ngIf="tab.count && tab.totalCount && lang === 'en'">
            <span class="count">{{ tab.count }}/{{ tab.totalCount }}</span>
          </ng-conatiner>
          <ng-conatiner *ngIf="tab.count && tab.totalCount && lang === 'ar'">
            <span class="count">{{ tab.totalCount }}/{{ tab.count }}</span>
          </ng-conatiner>
          <ng-conatiner *ngIf="tab.count && !tab.totalCount">
            <span class="count">{{ tab.count }}</span>
          </ng-conatiner>
        </ng-container>
      </span>
    </a>
  </div>
  <div class="card-padding">
    <router-outlet></router-outlet>
  </div>
</div>
