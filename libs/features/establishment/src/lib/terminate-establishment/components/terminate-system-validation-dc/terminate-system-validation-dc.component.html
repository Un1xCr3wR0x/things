<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->

<gosi-card-dc type="secondary" class="eligibility">
  <div class="d-flex flex-column">
    <div
      class="pb-4"
      *ngIf="
        terminateEligibilityStatus?.hasActiveContributors ||
        terminateEligibilityStatus?.pendingTransactions !== 0 ||
        terminateEligibilityStatus?.activeFlags !== 0 ||
        terminateEligibilityStatus?.debit
      "
    >
      {{ 'ESTABLISHMENT.DELAY-DUE-TO' | translate }}
    </div>
    <div class="d-flex pb-3">
      <fa-icon
        *ngIf="terminateEligibilityStatus?.hasActiveContributors"
        class="warning-icon mr-2"
        icon="exclamation-triangle"
      ></fa-icon>
      <fa-icon *ngIf="!terminateEligibilityStatus?.hasActiveContributors" class="success-icon mr-2" icon="check-circle">
      </fa-icon>
      <span *ngIf="terminateEligibilityStatus?.numberOfContributors === 0">
        {{
          'ESTABLISHMENT.ACTIVE-CONTRIBUTORS-COUNT-0'
            | translate: { count: terminateEligibilityStatus?.numberOfContributors }
        }}</span
      >
      <span *ngIf="terminateEligibilityStatus?.numberOfContributors === 1">
        {{
          'ESTABLISHMENT.ACTIVE-CONTRIBUTORS-COUNT-1'
            | translate: { count: terminateEligibilityStatus?.numberOfContributors }
        }}</span
      >
      <span
        *ngIf="
          terminateEligibilityStatus?.numberOfContributors > 1 && terminateEligibilityStatus?.numberOfContributors <= 10
        "
      >
        {{
          'ESTABLISHMENT.ACTIVE-CONTRIBUTORS-COUNT-10'
            | translate: { count: terminateEligibilityStatus?.numberOfContributors }
        }}</span
      >
      <span *ngIf="terminateEligibilityStatus?.numberOfContributors > 10">
        {{
          'ESTABLISHMENT.ACTIVE-CONTRIBUTORS-COUNT-10-ABOVE'
            | translate: { count: terminateEligibilityStatus?.numberOfContributors }
        }}</span
      >
    </div>
    <div class="d-flex pb-3">
      <fa-icon
        *ngIf="terminateEligibilityStatus?.pendingTransactions !== 0"
        class="warning-icon mr-2"
        icon="exclamation-triangle"
      ></fa-icon>
      <fa-icon
        *ngIf="terminateEligibilityStatus?.pendingTransactions === 0"
        class="success-icon mr-2"
        icon="check-circle"
      >
      </fa-icon>
      <span *ngIf="terminateEligibilityStatus?.pendingTransactions === 0">
        {{
          'ESTABLISHMENT.PENDING-TRANSACTION-COUNT-0'
            | translate: { count: terminateEligibilityStatus?.pendingTransactions }
        }}
      </span>
      <span *ngIf="terminateEligibilityStatus?.pendingTransactions === 1">
        {{
          'ESTABLISHMENT.PENDING-TRANSACTION-COUNT-1'
            | translate: { count: terminateEligibilityStatus?.pendingTransactions }
        }}
      </span>
      <span *ngIf="terminateEligibilityStatus?.pendingTransactions === 2">
        {{
          'ESTABLISHMENT.PENDING-TRANSACTION-COUNT-2'
            | translate: { count: terminateEligibilityStatus?.pendingTransactions }
        }}
      </span>
      <span
        *ngIf="
          terminateEligibilityStatus?.pendingTransactions > 2 && terminateEligibilityStatus?.pendingTransactions <= 10
        "
      >
        {{
          'ESTABLISHMENT.PENDING-TRANSACTION-COUNT-10'
            | translate: { count: terminateEligibilityStatus?.pendingTransactions }
        }}
      </span>
      <span *ngIf="terminateEligibilityStatus?.pendingTransactions > 10">
        {{
          'ESTABLISHMENT.PENDING-TRANSACTION-COUNT-10-ABOVE'
            | translate: { count: terminateEligibilityStatus?.pendingTransactions }
        }}
      </span>
    </div>
    <div class="d-flex pb-3">
      <fa-icon
        *ngIf="terminateEligibilityStatus?.activeFlags !== 0"
        class="warning-icon mr-2"
        icon="exclamation-triangle"
      ></fa-icon>
      <fa-icon *ngIf="terminateEligibilityStatus?.activeFlags === 0" class="success-icon mr-2" icon="check-circle">
      </fa-icon>
      <span *ngIf="terminateEligibilityStatus?.activeFlags === 0">
        {{ 'ESTABLISHMENT.ACTIVE-FLAGS-COUNT-0' | translate: { count: terminateEligibilityStatus?.activeFlags } }}
      </span>
      <span *ngIf="terminateEligibilityStatus?.activeFlags === 1">
        {{ 'ESTABLISHMENT.ACTIVE-FLAGS-COUNT-1' | translate: { count: terminateEligibilityStatus?.activeFlags } }}
      </span>
      <span *ngIf="terminateEligibilityStatus?.activeFlags === 2">
        {{ 'ESTABLISHMENT.ACTIVE-FLAGS-COUNT-2' | translate: { count: terminateEligibilityStatus?.activeFlags } }}
      </span>
      <span *ngIf="terminateEligibilityStatus?.activeFlags > 2 && terminateEligibilityStatus?.activeFlags <= 10">
        {{ 'ESTABLISHMENT.ACTIVE-FLAGS-COUNT-10' | translate: { count: terminateEligibilityStatus?.activeFlags } }}
      </span>
      <span *ngIf="terminateEligibilityStatus?.activeFlags > 10">
        {{
          'ESTABLISHMENT.ACTIVE-FLAGS-COUNT-10-ABOVE' | translate: { count: terminateEligibilityStatus?.activeFlags }
        }}
      </span>
    </div>
    <div class="d-flex pb-3">
      <fa-icon *ngIf="balanceAmount > 0" class="warning-icon mr-2" icon="exclamation-triangle"> </fa-icon>
      <fa-icon *ngIf="balanceAmount <= 0" class="success-icon mr-2" icon="check-circle"> </fa-icon>
      <div class="d-flex flex-column">
        <div *ngIf="balanceAmount >= 0">
          {{ 'ESTABLISHMENT.DUE-AMOUNT' | translate: { count: displayBalanceAmount | number: '1.2-2' } }}
        </div>
        <div *ngIf="balanceAmount < 0">
          {{ 'ESTABLISHMENT.DUE-CREDIT-AMOUNT' | translate: { count: displayBalanceAmount | number: '1.2-2' } }}
        </div>
        <div
          *ngIf="
            terminateEligibilityStatus?.hasActiveContributors ||
            terminateEligibilityStatus?.pendingTransactions !== 0 ||
            terminateEligibilityStatus?.activeFlags === 0 ||
            terminateEligibilityStatus?.debit
          "
          class="info-container"
        >
          <div class="info ml-0 mr-2">
            <fa-icon class="back-icon" [icon]="['fas', 'info-circle']"></fa-icon>
          </div>
          <span> {{ 'ESTABLISHMENT.SUBJECT-TO-CHANGE' | translate }}</span>
        </div>
      </div>
    </div>
  </div>
</gosi-card-dc>
