<ng-container *ngIf="transaction?.transactionId === tnxId">
  <!-- establishment details -->
  <div class="row">
    <div class="col-md-12">
      <est-transactions-accordion-dc heading="{{ 'ESTABLISHMENT.ESTABLISHMENT-DETAILS' | translate }}">
        <div class="row">
          <div class="col-lg-12">
            <div class="row">
              <div class="col-sm-12 col-md-4 col-lg-4">
                <gosi-label-dc
                  id="registrationnumber"
                  [isLink]="true"
                  (select)="goToEstProfile(establishment?.registrationNo)"
                  [value]="establishment?.registrationNo"
                  label="ESTABLISHMENT.REGISTRATION-NO"
                >
                </gosi-label-dc>
              </div>
              <div class="col-sm-12 col-md-4 col-lg-4">
                <gosi-label-dc
                  id="arabicName"
                  [control]="establishment?.name?.arabic"
                  label="ESTABLISHMENT.ESTABLISHMENT-NAME-AR"
                >
                </gosi-label-dc>
              </div>
              <div class="col-sm-12 col-md-4 col-lg-4">
                <gosi-label-dc
                  id="englishName"
                  [control]="establishment?.name?.english"
                  label="ESTABLISHMENT.ESTABLISHMENT-NAME-EN"
                >
                </gosi-label-dc>
              </div>
              <div class="col-sm-12 col-md-4 col-lg-4">
                <gosi-label-dc
                  id="legalEntity"
                  [control]="establishment?.legalEntity"
                  label="ESTABLISHMENT.LEGAL-ENTITY"
                >
                </gosi-label-dc>
              </div>
            </div>
          </div>
        </div>
      </est-transactions-accordion-dc>
    </div>
  </div>

  <!-- inspection details -->
  <div class="row">
    <div class="col-md-12">
      <est-transactions-accordion-dc heading="{{ 'ESTABLISHMENT.OH-SAFETY-INSPECTION-DETAILS' | translate }}">
        <div class="row">
          <div class="col-lg-12">
            <div class="row">
              <div class="col-sm-12 col-md-4 col-lg-4">
                <gosi-label-dc
                  id="inspectionDate"
                  [date]="true"
                  [control]="inspectionDetails?.inspectionRequestdate?.gregorian"
                  label="ESTABLISHMENT.INSPECTION-DATE"
                >
                </gosi-label-dc>
              </div>
              <div class="col-sm-12 col-md-4 col-lg-4">
                <gosi-label-dc
                  id="inspectionDate"
                  [date]="true"
                  [control]="uploadDocumentsDetails?.dateOfSubmission?.gregorian"
                  label="ESTABLISHMENT.DOCUMENT-DUE-DATE"
                >
                </gosi-label-dc>
              </div>
              <div class="col-sm-12 col-md-4 col-lg-4">
                <gosi-label-dc
                  id="fieldActivityNo"
                  [control]="fieldActivityNo"
                  label="ESTABLISHMENT.FIELD-ACTIVITY-NAME"
                >
                </gosi-label-dc>
              </div>
              <div class="col-sm-12 col-md-4 col-lg-4">
                <gosi-label-dc
                  id="inspectorName"
                  [control]="uploadDocumentsDetails?.inspectorName"
                  label="ESTABLISHMENT.INSPECTOR-NAME"
                >
                </gosi-label-dc>
              </div>
            </div>
          </div>
        </div>
      </est-transactions-accordion-dc>
    </div>
  </div>

  <!-- Documents section -->

  <est-transactions-accordion-dc heading="{{ 'ESTABLISHMENT.CONTRIBUTOR-LIST' | translate }}">
    <ng-container *ngFor="let contributor of contributors; let i = index">
      <div accordion-heading class="contributor-name">
        <div class="name-identity-container d-flex">
          <div class="name">
            {{ contributor?.contrName }}
          </div>
          <ng-container *ngIf = "registeredContributor">
            <div class="identity-role ml-1">
              ( {{ contributorsMap.get(estContributor)?.identity | translate }} :
              <ng-container
                *ngIf="contributorsMap.get(estContributor); else noValueTemplate"
              >
                {{ contributor?.nationalId }}
              </ng-container>
              <ng-template #noValueTemplate>
                <span class="null-value">
                  {{ 'THEME.NOT-AVAILABLE' | translate }}
                </span>
              </ng-template>
              )
            </div>
          </ng-container>
          <ng-container *ngIf = "notRegisteredContributor">
            <div class="identity-role ml-1">
              ( {{ contributorsMap.get(estContributor)?.identity | translate }} :
              <ng-container
                *ngIf="contributorsMap.get(estContributor); else noValueTemplate"
              >
                {{ contributor?.partyId }}
              </ng-container>
              <ng-template #noValueTemplate>
                <span class="null-value">
                  {{ 'THEME.NOT-AVAILABLE' | translate }}
                </span>
              </ng-template>
              )
            </div>
          </ng-container>
        </div>
      </div>

      <div class="row" *ngIf="contributorDocs[i].documentList.length > 0">
        <div class="col-md-12 pt-2">
          <gosi-document-list-view-dc [documents]="contributorDocs[i].documentList" [isAccordionView]="true">
          </gosi-document-list-view-dc>
        </div>
      </div>
    </ng-container>
  </est-transactions-accordion-dc>
</ng-container>
