<!-- Copyright GOSI. All Rights Reserved.
This software is the proprietary information of GOSI.
Use is subject to license terms. -->
<div class="d-flex align-items-start justify-content-end custom-flex">
  <div class="search-filter d-flex" [ngClass]="[!isWorkList ? 'no-margin' : '']">
    <ng-container *ngTemplateOutlet="search"></ng-container>
    <div *ngIf="isWorkList">
      <ng-container *ngTemplateOutlet="filter"></ng-container>
    </div>
  </div>

  <div class="sort-box d-flex justify-content-end align-items-center">
    <div class="sort-dropdown">
      <ng-container *ngTemplateOutlet="sort"></ng-container>
    </div>
  </div>
</div>
<ng-template #search>
  <gosi-search-dc
    gosiCharacterMask
    [onlyAlphaNumerics]="true"
    id="search-area"
    (search)="searchTransactions($event)"
    (keyup)="onSearchEnable($event.target.value)"
    [placeholder]="
      isWorkList ? ('INBOX.INBOX-PRIVATE-PLACEHOLDER' | translate) : ('INBOX.INBOX-PUBLIC-PLACEHOLDER' | translate)
    "
    class="inbox-search"
    [ngClass]="[!isWorkList ? 'no-margin' : '']"
    [searchParam]="searchParam"
    (reset)="resetSearch()"
    [clearSearch]="clearSearch"
  >
  </gosi-search-dc>
</ng-template>
<ng-template #filter>
  <gosi-filter-dc [noScroll]="true" (apply)="applyFilter()" (reset)="clearAllFiters()" class="filter-search"
  [isFilterApplied]="isApplied">
    <ng-container modalContent>
      <div class="row">
        <div class="col-md-12">
          <span
          *ngIf="statusFilterRadioForm?.value?.status?.english"
          [ngClass]="lang === 'en' ? 'clear-option' : 'clear-option-ar'"
          (click)="statusFilterClear($event)"
          >{{ 'THEME.CLEAR' | translate }}</span
        >
          <label>{{ 'DASHBOARD.STATUS' | translate }}</label>
        </div>
        <div class="col-md-12">
          <gosi-input-radio-dc
            id="status"
            name="status"
            [ignoreLabel]="true"
            [list]="statusList"
            [control]="statusFilterRadioForm.get('status')"
          ></gosi-input-radio-dc>
        </div>
      </div>
      <div class="row filter-body" *ngIf="roleLovList?.length > 0">
        <div class="col-lg-12 bottom_line">
          <gosi-input-multi-select-dropdown-dc
          id="estDetails"
          [hideOptionalLabel]="true"
          [list]="newRoleLovList"
          [label]="'INBOX.USER-ROLE' | translate"
          [showReset]="selectedRoles?.length === 0 ? false : true"
          [control]="transactionForm.get('role')"
          [allowSearch]="true"
          [searchPlaceholder]="'CONTRIBUTOR.SEARCH' | translate"
          (clearClicked)="clearRoleClick($event)"
          (selected)="selectedRole($event)"
          [selectedValues]="selectedRoleNew"
          >
          </gosi-input-multi-select-dropdown-dc>
        </div>
      </div>
      <div class="row filter-body"  *ngIf="tnxLovList?.length > 0">
        <div class="col-lg-12 bottom_line">
          <gosi-input-multi-select-dropdown-dc
          id="estDetails"
          [hideOptionalLabel]="true"
          [list]="newTnxLovList"
          [label]="'INBOX.TRANSACTION-NAME' | translate"
          [showReset]="selectedTnxOptions?.length === 0 ? false : true"
          [control]="transactionForm.get('name')"
          [allowSearch]="true"
          [searchPlaceholder]="'CONTRIBUTOR.SEARCH' | translate"
          (clearClicked)="clearButtonClick($event)"
          (selected)="selectedOptions($event)"
          [selectedValues]="selectedTnxOptionsNew"
          >
          </gosi-input-multi-select-dropdown-dc>
        </div>
      </div>
      <div class="row filter-body">
        <div class="col-lg-12">
          <label class="channel-status-heading">{{ 'INBOX.OLA-SLA' | translate }}</label>
        </div>
        <div class="col-lg-12 bottom_line">
          <gosi-input-multi-checkbox-dc
            #channelCheck
            [options]="olaSlaList"
            [control]="olaSlaFilterForm"
            (check)="selectedSlaOlaUpdate($event)"
          >
          </gosi-input-multi-checkbox-dc>
        </div>
      </div>
    </ng-container>
  </gosi-filter-dc>
</ng-template>
<ng-template #sort>
  <gosi-sort-dc
    *ngIf="sortItem"
    id="sort-by"
    class="sort-dropdown"
    [list]="sortList"
    (direction)="sortOrderList($event)"
    (sortItemSelected)="sortListDetails($event)"
    [initialValue]="sortItem.value"
    [initialDirection]="sortItem.direction"
  >
  </gosi-sort-dc>
</ng-template>
