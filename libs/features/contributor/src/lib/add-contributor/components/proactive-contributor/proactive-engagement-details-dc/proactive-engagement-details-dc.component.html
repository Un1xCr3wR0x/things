<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->

<div [formGroup]="engagementDetailsForm">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-12">
              <h4 class="card-heading">
                {{ 'CONTRIBUTOR.ENGAGEMENT-DETAILS' | translate }}
              </h4>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-6">
              <gosi-label-dc
                [label]="'CONTRIBUTOR.JOINING-DATE'"
                [control]="engagementDetailsForm.get('joiningDate').get('gregorian').value"
                [date]="true"
              ></gosi-label-dc>
            </div>
            <div class="col-lg-6">
              <gosi-input-text-dc
                id="employeeId"
                [control]="engagementDetailsForm.get('companyWorkerNumber')"
                [label]="'CONTRIBUTOR.EMPLOYEE-ID' | translate"
                [maxLength]="employeeIdMaxLength"
              ></gosi-input-text-dc>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-12">
              <gosi-input-radio-dc
                id="workType"
                name="workType"
                [control]="engagementDetailsForm.get('workType')"
                [list]="workTypeList"
                [label]="'CONTRIBUTOR.WORK-TYPE' | translate"
              ></gosi-input-radio-dc>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="row justify-content-between">
          <h4 class="card-heading">
            {{ 'CONTRIBUTOR.WAGE-OCCUPATION-DETAILS' | translate }}
          </h4>
        </div>
        <div class="card-body">
          <cnt-engagement-wage-add-dc
            [disableJoining]="true"
            [disableOccupation]="true"
            [occupationList]="occupationList"
            [engagementWageDetails]="engagementPeriods"
            (addWageEvent)="addWagePeriod($event)"
            [hijiriDateConst]="hijiriDateConst"
          >
          </cnt-engagement-wage-add-dc>

          <br />
          <cnt-engagement-wage-history-dc
            [disableOccupation]="true"
            [engagementWageDetails]="engagementPeriods"
            (removeWageEvent)="removeWagePeriod($event)"
            [occupationList]="occupationList"
            (updateWageEvent)="updateWagePeriod($event)"
          ></cnt-engagement-wage-history-dc>
        </div>
        <div class="row">
          <div class="form-group fc-margin col-lg-12">
            <label for="declarationMessage">{{ 'CONTRIBUTOR.DECLARATION' | translate }}</label>
            <textarea
              rows="5"
              class="form-control"
              id="declarationMessage"
              readOnly="true"
              (focus)="engagementDetailsForm.patchValue({ checkBoxFlag: true })"
            >
              {{ 'CONTRIBUTOR.ADD-SAUDI-CONTRIBUTOR-DECLARATION' | translate }}
            </textarea>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-12">
            <gosi-input-checkbox-dc
              id="declaration"
              name="declaration"
              [control]="engagementDetailsForm.get('checkBoxFlag')"
              [label]="'CONTRIBUTOR.ACCEPT-DECLARATION' | translate"
            >
            </gosi-input-checkbox-dc>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Button section -->
<cnt-action-area-dc
  [primaryButtonLabel]="'CONTRIBUTOR.SUBMIT'"
  [showPreviousSection]="true"
  (submit)="saveEngagementDetails()"
  (previous)="navigateToPreviousTab()"
  (cancel)="cancelTransaction()"
></cnt-action-area-dc>
