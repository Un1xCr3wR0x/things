<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->

<div class="row m-0" *ngIf="paymentRequest?.benefitList && paymentRequest?.benefitList?.length > 0">
  <div class="custom-container col-lg-12">
    <div class="row m-0" *ngFor="let benefitList of paymentRequest?.benefitList">
      <accordion class="col-lg-12 p-0">
        <accordion-group class="accordion-group-class" heading="{{ benefitList?.benefitType || type | bilingualText }}">
          <span class="arrow-up-period" accordion-heading>
            <span class="adjust" [ngClass]="benefitList?.adjustedAmount > 0 ? 'amount' : 'debit-amount'">
              <span>{{ benefitList.adjustedAmount | numToPositive | number: '1.0-2' }}</span>
              <span class="ml-2">{{ 'PAYMENT.SAR' | translate }}</span>
            </span>
            <span class="arrow-color"><fa-icon class="icon-margin" icon="angle-up" size="lg"></fa-icon> </span>
          </span>

          <span class="arrow-down-period" accordion-heading>
            <span class="adjust" [ngClass]="benefitList?.adjustedAmount > 0 ? 'amount' : 'debit-amount'">
              <span>{{ benefitList.adjustedAmount | numToPositive | number: '1.0-2' }}</span>
              <span class="ml-2">{{ 'PAYMENT.SAR' | translate }}</span>
            </span>
            <fa-icon class="icon-margin arrow-color" icon="angle-down" size="lg"></fa-icon>
          </span>
          <div class="row">
            <div class="col">
              <div class="row">
                <div class="col">
                  <div>{{ 'PAYMENT.BENEFIT-START-DATE' | translate }}</div>
                  <div>{{ benefitList?.startDate?.gregorian | date: 'dd/MM/yyyy' }}</div>
                </div>
              </div>
            </div>
            <div class="col">
              <div class="row">
                <div class="col">
                  <div>{{ 'PAYMENT.BENEFIT-END-DATE' | translate }}</div>
                  <div>
                    {{ benefitList?.stopDate?.gregorian | date: 'dd/MM/yyyy' }}
                    <span *ngIf="benefitList?.stopDate?.gregorian === null"><b>-</b></span>
                  </div>
                </div>
              </div>
            </div>
            <div class="col">
              <div class="row">
                <div class="col">
                  <div>{{ 'PAYMENT.STATUS' | translate }}</div>
                  <div>{{ benefitList?.status | bilingualText }}</div>
                </div>
              </div>
            </div>
          </div>
          <span></span>
          <div class="table-responsive mt-4" id="paymentTables">
            <table class="table table-borderless">
              <thead class="thead-light">
                <tr>
                  <th rowspan="3" class="heading-alignment d-none" id="TransactionDate">
                    {{ 'PAYMENT.PAYMENT-TYPE' | translate }}
                  </th>
                  <th rowspan="3" class="heading-alignment" id="PeriodofWaiver">
                    {{ 'ADJUSTMENT.ADJUSTMENT-REASON' | translate }}
                  </th>
                  <th rowspan="3" class="heading-alignment" id="WaivedoffAmount">
                    {{ 'ADJUSTMENT.DEBIT-PERCENTAGE' | translate }}
                  </th>
                  <th rowspan="3" class="heading-alignment" id="Waiver Percentage">
                    {{ 'PAYMENT.AMOUNT' | translate }}
                  </th>
                </tr>
              </thead>
              <tbody>
                <ng-container *ngFor="let pay of benefitList?.adjustmentList; let i = index">
                  <tr class="border-bottom">
                    <td class="d-none">{{ pay?.paymentType | bilingualText }}</td>
                    <td>{{ pay?.adjustmentReason | bilingualText }}</td>
                    <td>{{ pay?.percentage }}<span *ngIf="pay?.percentage >= 0">%</span></td>
                    <td>{{ pay?.adjustmentAmount | numToPositive | number: '1.0-2' }}</td>
                  </tr>
                </ng-container>
              </tbody>
            </table>
          </div>
        </accordion-group>
      </accordion>
    </div>
  </div>
</div>
<div class="row mb-5">
  <span class="custom-font-weight">{{ 'PAYMENT.NET-PAYABLE-AMOUNT' | translate }} </span>
  <div class="net-amount ml-2">
    <div [ngClass]="paymentRequest?.netAmount > 0 ? 'net-amount' : 'net-amount-debit'">
      <span>{{ paymentRequest?.netAmount | numToPositive | number: '1.0-2' }}</span>
      <span class="ml-2">{{ 'PAYMENT.SAR' | translate }}</span>
    </div>
  </div>
</div>
