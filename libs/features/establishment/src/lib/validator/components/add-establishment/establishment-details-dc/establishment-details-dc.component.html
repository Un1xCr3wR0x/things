<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<div class="row">
  <div class="col-md-12">
    <frm-content-heading-dc
      icon="building"
      heading="ESTABLISHMENT.ESTABLISHMENT-DETAILS"
      [canEdit]="canEdit"
      (onEdit)="onEditEstDetails()"
    >
    </frm-content-heading-dc>
    <div class="row no-gutters legend-container" *ngIf="showModifiedLegend">
      <div class="col-md-12 legend-wrapper">
        <div class="legend">{{ 'ESTABLISHMENT.MODIFIED-BY' | translate }} {{ 'ESTABLISHMENT.ADMIN' | translate }}</div>
      </div>
    </div>
    <div class="row">
      <!-- Section 1 -->
      <div class="col-lg-12">
        <div class="sub-content-item">
          <ng-container *ngIf="establishment.proactive && establishment.molEstablishmentIds && !showCrn">
            <est-mol-details-dc [molDetails]="establishment.molEstablishmentIds"></est-mol-details-dc>
          </ng-container>
          <div class="row">
            <ng-container *ngIf="establishment.proactive && showCrn">
              <!-- remove the showCrn  after the 325260 -->
              <div class="col-sm-12 col-md-6 col-lg-6">
                <gosi-label-dc
                  id="crnNumber"
                  [ngClass]="[highlightCrNumber ? 'modified' : '']"
                  [control]="establishment.crn?.number"
                  label="ESTABLISHMENT.CRN-NUMBER"
                >
                </gosi-label-dc>
              </div>
              <div class="col-sm-12 col-md-6 col-lg-6">
                <gosi-label-dc
                  id="crnNumber"
                  [control]="establishment.crn?.issueDate?.gregorian"
                  [date]="true"
                  label="ESTABLISHMENT.CRN-ISSUE-DATE"
                ></gosi-label-dc>
              </div>
              <div class="col-lg-6 col-md-12">
                <gosi-label-dc
                  [date]="true"
                  id="crnExpiryDate"
                  [control]="establishment.crn?.expiryDate?.gregorian"
                  label="ESTABLISHMENT.CRN-EXPIRY-DATE"
                ></gosi-label-dc>
              </div>
              <div class="col-lg-6 col-md-12" *ngIf="isBranch">
                <gosi-label-dc
                  id="mainCrnNumber"
                  [control]="establishment.mainCrn?.number"
                  label="ESTABLISHMENT.MAIN-CRN-NUMBER"
                >
                </gosi-label-dc>
              </div>
            </ng-container>
            <div class="col-sm-12 col-md-6 col-lg-6">
              <gosi-label-dc
                id="legalEntity"
                [ngClass]="[highlightLegalEntity ? 'modified' : '']"
                [control]="establishment.legalEntity"
                label="ESTABLISHMENT.LEGAL-ENTITY"
              >
              </gosi-label-dc>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-6" *ngIf="!isGCC">
              <gosi-label-dc
                id="establishmentType"
                [control]="establishment.establishmentType"
                label="ESTABLISHMENT.ESTABLISHMENT-TYPE"
              ></gosi-label-dc>
            </div>
            <ng-container *ngIf="establishment.license && !isGCC">
              <div class="col-sm-12 col-md-6 col-lg-6">
                <gosi-label-dc
                  id="licenseNumber"
                  [ngClass]="[highlightLicenseNo ? 'modified' : '']"
                  [control]="establishment.license.number"
                  label="ESTABLISHMENT.LICENSE-NUMBER"
                >
                </gosi-label-dc>
              </div>
              <div class="col-sm-12 col-md-6 col-lg-6">
                <gosi-label-dc
                  [ngClass]="[highlightLicenseAuth ? 'modified' : '']"
                  id="licenseIssuingAuthority"
                  [control]="establishment.license.issuingAuthorityCode"
                  label="ESTABLISHMENT.LICENSE-ISSUING-AUTHORITY"
                ></gosi-label-dc>
              </div>
              <div class="col-sm-12 col-md-6 col-lg-6">
                <gosi-label-dc
                  id="licenseIssueDate"
                  [ngClass]="[highlightLicenseIssDate ? 'modified' : '']"
                  [date]="true"
                  [control]="establishment.license.issueDate?.gregorian"
                  label="ESTABLISHMENT.LICENSE-ISSUE-DATE"
                >
                </gosi-label-dc>
              </div>
              <div class="col-sm-12 col-md-6 col-lg-6">
                <gosi-label-dc
                  id="licenseExpiryDate"
                  [ngClass]="[highlightLiceseExpDate ? 'modified' : '']"
                  [date]="true"
                  [control]="establishment.license.expiryDate?.gregorian"
                  label="ESTABLISHMENT.LICENSE-EXPIRY-DATE"
                >
                </gosi-label-dc>
              </div>
            </ng-container>
            <div class="col-sm-12 col-md-6 col-lg-6" *ngIf="isGCC">
              <gosi-label-dc
                id="gccCountryName"
                [control]="establishment.gccEstablishment?.country"
                label="ESTABLISHMENT.GCC-COUNTRY-NAME"
              ></gosi-label-dc>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-6" *ngIf="isGCC">
              <gosi-label-dc
                id="gccRegistrationNumber"
                [control]="establishment.gccEstablishment?.registrationNo"
                label="ESTABLISHMENT.GCC-REGISTRATION-NUMBER"
              ></gosi-label-dc>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-6" *ngIf="establishment.proactive">
              <gosi-label-dc
                id="unifiedNationalNumber"
                [ngClass]="[highlightUnifiedNaionalNumber ? 'modified' : '']"
                label="ESTABLISHMENT.UNIFIED-NATIONAL-NO"
                [control]="establishment.unifiedNationalNumber"
              ></gosi-label-dc>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-6" *ngIf="!isGCC && !showCrn">
              <gosi-label-dc
                id="recruitmentNo"
                [control]="establishment.recruitmentNo"
                label="ESTABLISHMENT.RECRUITMENT-NO"
              >
              </gosi-label-dc>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-6">
              <gosi-label-dc
                id="lawType"
                label="{{ 'ESTABLISHMENT.LAW-TYPE' | translate }}"
                [control]="establishment.lawType"
              >
              </gosi-label-dc>
            </div>
          </div>
        </div>
      </div>

      <!-- Section 2 -->
      <div class="col-lg-12">
        <div class="sub-content-item">
          <div class="row">
            <div class="col-sm-12 col-md-6 col-lg-6">
              <gosi-label-dc
                id="arabicName"
                [control]="establishment.name.arabic"
                label="ESTABLISHMENT.ESTABLISHMENT-NAME-AR"
              >
              </gosi-label-dc>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-6">
              <gosi-label-dc
                id="englishName"
                [ngClass]="[highlightEstEngName ? 'modified' : '']"
                [control]="establishment.name.english"
                label="ESTABLISHMENT.ESTABLISHMENT-NAME-EN"
              >
              </gosi-label-dc>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-6">
              <gosi-label-dc
                id="establishmentStartDate"
                [date]="true"
                [ngClass]="[highlightStartDate ? 'modified' : '']"
                [control]="establishment?.startDate?.gregorian"
                label="ESTABLISHMENT.ESTABLISHMENT-START-DATE"
              ></gosi-label-dc>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-6">
              <gosi-label-dc
                [ngClass]="[highlightActivityType ? 'modified' : '']"
                id="activityType"
                [control]="establishment.activityType"
                label="ESTABLISHMENT.ACTIVITY-TYPE"
              >
              </gosi-label-dc>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-6">
              <gosi-label-dc
                id="nationality"
                [control]="establishment.nationalityCode"
                label="ESTABLISHMENT.NATIONALITY"
              >
              </gosi-label-dc>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-6" *ngIf="establishment?.lawType?.english == 'Civil Pension Law'">
              <gosi-label-dc
                id="departmentNumber"
                label="{{ 'ESTABLISHMENT.DEPARTMENT-ID' | translate }}"
                [control]="establishment.departmentNumber"
              >
              </gosi-label-dc>
            </div>
          </div>
        </div>
      </div>
      <ng-container *ngIf="establishment.contactDetails && establishment.contactDetails.addresses">
        <div class="col-lg-12">
          <div class="sub-content-item">
            <div class="row">
              <div class="col-sm-12 col-md-12">
                <div
                  class="sub-heading ml-0 mr-0"
                  [ngClass]="[highlightMailingAddressChange ? 'mailing-addr-modified' : '']"
                >
                  {{ 'ESTABLISHMENT.ADDRESS-DETAILS' | translate }}
                </div>
              </div>
              <div class="col-md-12">
                <frm-address-dc
                  [ngClass]="[
                    highlightMailingAddressChange ? 'address-modified' : '',
                    highlightNationalAddress ? 'national-address-modified' : '',
                    highlightPoAddress ? 'po-address-modified' : ''
                  ]"
                  [isPaddingRequired]="false"
                  [isViewOnly]="true"
                  [showEdit]="false"
                  [hasAddressDetailsLabel]="false"
                  [addressDetails]="establishment.contactDetails?.addresses"
                  [hasNationalAddress]="!isGCC"
                  [hasPOAddress]="!isGCC"
                  [hasOverseasAddress]="isGCC"
                  [currentMailingAddress]="establishment.contactDetails?.currentMailingAddress"
                >
                </frm-address-dc>
              </div>
            </div>
          </div>
        </div>
      </ng-container>

      <ng-container *ngIf="establishment.contactDetails && establishment.contactDetails">
        <div class="col-lg-12">
          <div class="sub-content-last-item">
            <div class="row">
              <div class="col-sm-12 col-md-12">
                <div class="sub-heading ml-0 mr-0">
                  {{ 'ESTABLISHMENT.CONTACT-DETAILS' | translate }}
                </div>
              </div>
              <div class="col-sm-12 col-md-6 col-lg-6">
                <gosi-label-dc
                  id="mobileNo"
                  [ngClass]="[highlightMobileNo ? 'modified' : '']"
                  [control]="establishment.contactDetails?.mobileNo?.primary"
                  label="ESTABLISHMENT.MOBILE-NUMBER"
                >
                  <span id="prefixValue">{{ getISDCodePrefix() }}</span>
                </gosi-label-dc>
              </div>
              <div class="col-sm-12 col-md-6 col-lg-6">
                <gosi-label-dc
                  id="telephoneNumber"
                  [ngClass]="[highlightTelephone ? 'modified' : '']"
                  [control]="establishment.contactDetails.telephoneNo?.primary"
                  label="ESTABLISHMENT.TELEPHONE-NUMBER"
                ></gosi-label-dc>
              </div>
              <div class="col-sm-12 col-md-6 col-lg-6">
                <gosi-label-dc
                  id="extension"
                  [ngClass]="[highlightExtension ? 'modified' : '']"
                  [control]="establishment.contactDetails.telephoneNo?.extensionPrimary"
                  label="ESTABLISHMENT.EXTENSION"
                ></gosi-label-dc>
              </div>

              <div class="col-sm-12 col-md-6 col-lg-6">
                <gosi-label-dc
                  id="emailId"
                  [ngClass]="[highlightEmail ? 'modified' : '']"
                  [control]="establishment.contactDetails?.emailId?.primary"
                  label="ESTABLISHMENT.EMAIL-ID"
                ></gosi-label-dc>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</div>
