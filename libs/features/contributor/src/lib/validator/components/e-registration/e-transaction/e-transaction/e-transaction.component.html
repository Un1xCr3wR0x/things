<div class="content">
  <ng-container>
    <div class="row">
      <div class="col-md-12">
        <!-- Contributor details banner -->
        <!-- <div class="row mt-4">
                    <div class="col">
                        <cnt-contributor-banner-dc [contributor]="contributor"> </cnt-contributor-banner-dc>
                    </div>
                </div> -->

        <br /><br />
        <!-- Establishment Details -->

        <div>
          <accordion id="transactionAccordion">
            <accordion-group
              class="accordion-group-class"
              heading="{{ 'CONTRIBUTOR.BULK-WAGE.ESTABLISHMENT-DETAILS' | translate }} "
              [isOpen]="true"
            >
              <span class="badge" accordion-heading *ngIf="badge">
                <div *ngIf="badge">{{ badge | translate | uppercase }}</div>
              </span>

              <span style="width: 50em" *ngIf="badge" accordion-heading>&nbsp;</span>

              <span class="arrow-up" accordion-heading>
                <fa-icon icon="angle-up" size="lg"></fa-icon>
              </span>

              <span class="arrow-down" accordion-heading>
                <fa-icon icon="angle-down" size="lg"></fa-icon>
              </span>

              <!-- Begin Accordion content-->
              <!-- <div class="accordion-content secondary "
                                [ngClass]="[isEmpty ? 'd-flex justify-content-center align-items-center' : '']">
                                <ng-content> </ng-content>
                            </div> -->

              <div class="padding secondary" body>
                <ng-container *ngTemplateOutlet="establishmentDetails"></ng-container>
              </div>

              <!-- End Accordion content-->
            </accordion-group>
          </accordion>
        </div>

        <!-- Engagement Details -->

        <div>
          <accordion id="transactionAccordion">
            <accordion-group
              class="accordion-group-class"
              heading="{{ 'CONTRIBUTOR.ENGAGEMENT-DETAILS' | translate }} "
              [isOpen]="true"
            >
              <span class="badge" accordion-heading *ngIf="badge">
                <div *ngIf="badge">{{ badge | translate | uppercase }}</div>
              </span>

              <span style="width: 50em" *ngIf="badge" accordion-heading>&nbsp;</span>

              <span class="arrow-up" accordion-heading>
                <fa-icon icon="angle-up" size="lg"></fa-icon>
              </span>

              <span class="arrow-down" accordion-heading>
                <fa-icon icon="angle-down" size="lg"></fa-icon>
              </span>

              <!-- Begin Accordion content-->
              <!-- <div class="accordion-content secondary "
                                [ngClass]="[isEmpty ? 'd-flex justify-content-center align-items-center' : '']">
                                <ng-content> </ng-content>
                            </div> -->

              <div class="padding secondary" body>
                <ng-container *ngTemplateOutlet="engagementDetails"></ng-container>
              </div>

              <!-- End Accordion content-->
            </accordion-group>
          </accordion>
        </div>

        <!-- Wage and Occupation History -->
        <accordion id="transactionAccordion">
          <accordion-group
            class="accordion-group-class"
            heading="{{ 'CONTRIBUTOR.WAGE-OCCUPATION-HISTORY' | translate }}"
            [isOpen]="true"
          >
            <span class="badge" accordion-heading *ngIf="badge">
              <div *ngIf="badge">{{ badge | translate | uppercase }}</div>
            </span>

            <span style="width: 50em" *ngIf="badge" accordion-heading>&nbsp;</span>

            <span class="arrow-up" accordion-heading>
              <fa-icon icon="angle-up" size="lg"></fa-icon>
            </span>

            <span class="arrow-down" accordion-heading>
              <fa-icon icon="angle-down" size="lg"></fa-icon>
            </span>

            <!-- Begin Accordion content-->
            <!-- <div class="accordion-content secondary"
                            [ngClass]="[isEmpty ? 'd-flex justify-content-center align-items-center' : '']">
                            <ng-content> </ng-content>
                        </div> -->

            <div body class="secondary padding">
              <ng-container *ngTemplateOutlet="wage"></ng-container>
            </div>

            <!-- End Accordion content-->
          </accordion-group>
        </accordion>
      </div>
    </div>
  </ng-container>
</div>

<ng-template #establishmentDetails>
  <div class="row space-padding">
    <div class="col-lg-12">
      <div class="row">
        <div class="col-lg-4">
          <gosi-label-dc
            [label]="'CONTRIBUTOR.ESTABLISHMENT-NAME' | translate"
            [control]="engDetailsCsr.establishmentName"
            id="establishmentName"
          >
          </gosi-label-dc>
        </div>

        <div class="col-lg-4">
          <gosi-label-dc
            id="commercialRegistrationNumber"
            [control]="engDetailsCsr.commercialRegistrationNumber"
            [label]="'CONTRIBUTOR.COMMERCIAL-REGISTERATION-NUMBER' | translate"
          >
          </gosi-label-dc>
          <br />
        </div>

        <div class="col-lg-4">
          <gosi-label-dc
            id="unifiedNationalNumber"
            [control]="engDetailsCsr.unifiedNationalNumber"
            label="CONTRIBUTOR.ESTABLISHMENT-UNIFIED-NUMBER"
          >
          </gosi-label-dc>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-4">
          <gosi-label-dc [control]="engDetailsCsr.ownerId" label="CONTRIBUTOR.ESTABLISHMENT-OWNER-ID"> </gosi-label-dc>
        </div>

        <div class="col-lg-4">
          <gosi-label-dc [control]="engDetailsCsr.hrsdEstablishmentId" label="CONTRIBUTOR.HRSD-ESTABLISHMENT-ID">
          </gosi-label-dc>
        </div>

        <div class="col-lg-4">
          <gosi-label-dc [control]="engDetailsCsr.gosiRegistrationNumber" label="CONTRIBUTOR.GOSI-REGISTERATION-NUMBER">
          </gosi-label-dc>
        </div>
      </div>
    </div>
    <hr />
    <!-- engagment period details  -->
  </div>
</ng-template>

<ng-template #engagementDetails>
  <div class="row space-padding">
    <div class="col-lg-12">
      <div class="row">
        <div class="col-lg-4">
          <gosi-label-dc [label]="'CONTRIBUTOR.JOINING-DATE' | translate" [control]="joiningDate" id="joiningDate">
          </gosi-label-dc>
        </div>

        <div class="col-lg-4">
          <gosi-label-dc
            id="engagementStatus"
            [label]="'CONTRIBUTOR.ENGAGEMENT-STATUS' | translate"
            [control]="engagementStatus | translate"
          >
          </gosi-label-dc>
          <br />
        </div>

        <div class="col-lg-4">
          <gosi-label-dc id="leavingDate" [label]="'CONTRIBUTOR.LEAVING' | translate" [control]="leavingDate">
          </gosi-label-dc>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-3">
          <gosi-label-dc
            id="leavingReason"
            [label]="'CONTRIBUTOR.LEAVE-REASON' | translate"
            [control]="engDetailsCsr?.engagementRequestDto?.leavingReason | bilingualText"
          >
          </gosi-label-dc>
        </div>
      </div>
    </div>
    <hr />
    <!-- engagment period details  -->
  </div>
</ng-template>

<ng-template #wage>
  <!-- <div class="row">
        <div class="col-sm-12 col-md-12">
          <span class="sub-heading">
            {{ 'CONTRIBUTOR.WAGE-OCCUPATION-HISTORY' | translate }}
          </span>
        </div>
      </div> -->

  <div class="row">
    <div class="col-md-12 table-responsive">
      <table class="table table-wage row_separate">
        <thead>
          <tr>
            <th scope="col">{{ 'CONTRIBUTOR.START-DATE' | translate }}</th>
            <th scope="col">{{ 'CONTRIBUTOR.BASIC-WAGE' | translate }}</th>
            <th scope="col">{{ 'CONTRIBUTOR.HRA' | translate }} &nbsp; &nbsp;</th>
            <th scope="col">{{ 'CONTRIBUTOR.COMMISSIONS' | translate }}</th>
            <th scope="col">{{ 'CONTRIBUTOR.OTHER-ALLOWANCE' | translate }}</th>
            <th scope="col">{{ 'CONTRIBUTOR.OCCUPATION' | translate }}</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of engDetailsCsr?.engagementRequestDto?.engagementPeriod" style="height: 4rem">
            <td class="engagementPeriod">
              <span>
                {{ item.startDate.gregorian | date: 'MMM yyyy' }}
              </span>

              <span class="ml-1 faw-icons">
                <!-- <fa-icon class="arrow-left" [icon]="['fas', 'arrow-left']"></fa-icon> -->
                <fa-icon class="arrow-right h6" [icon]="['fas', 'arrow-right']"></fa-icon>
              </span>
              <span class="ml-1">
                <span *ngIf="!item?.endDate?.gregorian">{{ 'CONTRIBUTOR.ONWARDS' | translate }}</span>
              </span>
              <span *ngIf="item?.endDate?.gregorian">
                {{ item.endDate.gregorian | date: 'MMM yyyy' }}
              </span>
            </td>
            <td>{{ item.wage.basicWage }}</td>
            <td>{{ item.wage.housingBenefit }}</td>
            <td>{{ item.wage.commission }}</td>
            <td>{{ item.wage.otherAllowance }}</td>
            <td>{{ item.occupation | bilingualText }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</ng-template>
