<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
  <gosi-breadcrumb-dc> </gosi-breadcrumb-dc>
  <div class="content">
    <div class="d-flex justify-content-between">
      <gosi-main-heading-dc [header]="'OCCUPATIONAL-HAZARD.REPORTS.REPORTS' | translate"></gosi-main-heading-dc>
    </div>
    <!-- <ng-container *ngIf="!showErrorMessage">
    <gosi-alert-sc></gosi-alert-sc>
    </ng-container> -->
    <!--Rejected injuries-->
    <gosi-card-dc heading="{{ 'OCCUPATIONAL-HAZARD.REJECTED-INJURIES-WITHOUT-RECOVERY' | translate }}" type="secondary">
      <div class="row">
        <div class="col-lg-4">
          <gosi-label-dc
            id="totalRejected"
            [control]="rejectedCount?.recentRejectedOh"
            label="OCCUPATIONAL-HAZARD.TOTAl-REJECTED"
          >
          </gosi-label-dc>
        </div>
        <div class="col-lg-4">
          <gosi-label-dc
            id="rejectionsInThirtyDays"
            [control]="rejectedCount?.totalRejectedOH"
            label="OCCUPATIONAL-HAZARD.REJECTION-IN-THIRTY-DAYS"
          >
          </gosi-label-dc>
        </div>
        <div class="col-lg-4 text-right">
          <gosi-button-dc id="generateReport" (submit)="showModal(generateReport, 'xl')" type="primary" [size]="'md'">{{
            'OCCUPATIONAL-HAZARD.GENERATE-REPORT' | translate
          }}</gosi-button-dc>
        </div>
      </div>
    </gosi-card-dc>
  
    <!--claimsAmount -->
  
    <gosi-card-dc heading="{{ 'OCCUPATIONAL-HAZARD.REPORTS.CLAIMS-AMOUNT-BY-THIRD-PARTY' | translate }}" type="secondary">
      <div class="col-lg-12 text-right">
        <gosi-button-dc id="generateReport" (submit)="showModal(claimsAmount, 'xl')" type="primary" [size]="'md'">{{
          'OCCUPATIONAL-HAZARD.GENERATE-REPORT' | translate
        }}</gosi-button-dc>
      </div>
    </gosi-card-dc>
    <!--casesExceeds -->
  
    <gosi-card-dc heading="{{ 'OCCUPATIONAL-HAZARD.REPORTS.CASES-EXCEEDS-CERTAIN-AMOUNT' | translate }}" type="secondary">
      <div class="col-lg-12 text-right">
        <gosi-button-dc id="generateReport" (submit)="showModal(casesExceeds, 'xl')" type="primary" [size]="'md'">{{
          'OCCUPATIONAL-HAZARD.GENERATE-REPORT' | translate
        }}</gosi-button-dc>
      </div>
    </gosi-card-dc>
  
    <!--dailyAllowances -->
  
    <gosi-card-dc
      heading="{{ 'OCCUPATIONAL-HAZARD.REPORTS.DAILY-ALLOWANCES-CERTAIN-CONTRIBUTOR' | translate }}"
      type="secondary"
    >
      <div class="col-lg-12 text-right">
        <gosi-button-dc id="generateReport" (submit)="showModal(dailyAllowances, 'xl')" type="primary" [size]="'md'">{{
          'OCCUPATIONAL-HAZARD.GENERATE-REPORT' | translate
        }}</gosi-button-dc>
      </div>
    </gosi-card-dc>
  
    <!--injuriesMore -->
  
    <gosi-card-dc
      heading="{{ 'OCCUPATIONAL-HAZARD.REPORTS.INJURIES-TREATMENT-MORE-THAN-CERTAIN-PERIOD' | translate }}"
      type="secondary"
    >
      <div class="col-lg-12 text-right">
        <gosi-button-dc id="generateReport" (submit)="showModal(injuriesMore, 'xl')" type="primary" [size]="'md'">{{
          'OCCUPATIONAL-HAZARD.GENERATE-REPORT' | translate
        }}</gosi-button-dc>
      </div>
    </gosi-card-dc>
  
    <!--injuriesReported -->
  
    <gosi-card-dc
      heading="{{ 'OCCUPATIONAL-HAZARD.REPORTS.INJURIES-REPORTED-DURING-CERTAIN-PERIOD' | translate }}"
      type="secondary"
    >
      <div class="col-lg-12 text-right">
        <gosi-button-dc id="generateReport" (submit)="showModal(injuriesReported, 'xl')" type="primary" [size]="'md'">{{
          'OCCUPATIONAL-HAZARD.GENERATE-REPORT' | translate
        }}</gosi-button-dc>
      </div>
    </gosi-card-dc>
  
    <!--injuriesPassed -->
  
    <gosi-card-dc
      heading="{{ 'OCCUPATIONAL-HAZARD.REPORTS.INJURIES-PASSED-CERTAIN-PERIOD-SINCE-REPORTED' | translate }}"
      type="secondary"
    >
      <div class="col-lg-12 text-right">
        <gosi-button-dc id="generateReport" (submit)="showModal(injuriesPassed, 'xl')" type="primary" [size]="'md'">{{
          'OCCUPATIONAL-HAZARD.GENERATE-REPORT' | translate
        }}</gosi-button-dc>
      </div>
    </gosi-card-dc>
  
    <!--injuriesClosed -->
  
    <gosi-card-dc
      heading="{{ 'OCCUPATIONAL-HAZARD.REPORTS.INJURIES-CLOSED-CERTAIN-PERIOD' | translate }}"
      type="secondary"
    >
      <div class="col-lg-12 text-right">
        <gosi-button-dc id="generateReport" (submit)="showModal(injuriesClosed, 'xl')" type="primary" [size]="'md'">{{
          'OCCUPATIONAL-HAZARD.GENERATE-REPORT' | translate
        }}</gosi-button-dc>
      </div>
    </gosi-card-dc>
    <!--claimVatRecovered  -->
    <gosi-card-dc heading="{{ 'OCCUPATIONAL-HAZARD.REPORTS.CLAIM-VAT-RECOVERED' | translate }}" type="secondary">
      <div class="col-lg-12 text-right">
        <gosi-button-dc id="generateReport" (submit)="showModal(claimVatRecovered, 'xl')" type="primary" [size]="'md'">{{
          'OCCUPATIONAL-HAZARD.GENERATE-REPORT' | translate
        }}</gosi-button-dc>
      </div>
    </gosi-card-dc>
  </div>
  
  <ng-template #generateReport>
    <gosi-modal-dc>
      <div modalContent>
        <div class="col-lg-12 text-right pb-2 pt-2">
          <fa-icon icon="times" class="times-value" (click)="hideModal()"> </fa-icon>
        </div>
        <div class="main-heading generate-report">
          <span
            [ngClass]="lang === 'en' ? 'generate-report' : 'generate-report-ar'">
          {{ 'OCCUPATIONAL-HAZARD.GENERATE-REPORT' | translate }}</span></div>
        <div class="col-lg-12" *ngIf="showErrorMessage">
          <gosi-alert-dc [message]="'CORE.ERROR.MANDATORY-FIELDS'" [dismissible]="true" type="danger"></gosi-alert-dc>
        </div>
        <div class="select-option">
          <div class="row m-3 pb-2 rejection-date">
            {{ 'OCCUPATIONAL-HAZARD.REJECTION-DATE-RANGE' | translate }}
          </div>
          <table class="table m-3">
            <thead class="thead-light"></thead>
            <tbody>
              <tr>
                <td (click)="selectRange()" [ngClass]="isThirtyDays ? 'selected' : 'notSelected'">
                  {{ 'OCCUPATIONAL-HAZARD.LAST-THIRTY-DAYS' | translate }}
                </td>
                <td
                  class="select-date-range"
                  (click)="selectDateRange()"
                  [ngClass]="!isThirtyDays ? 'selected' : 'notSelected'"
                >
                  {{ 'OCCUPATIONAL-HAZARD.SELECT-DATE-RANGE' | translate }}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="col-lg-12">
          <gosi-input-daterange-dc
            #dateRangePicker
            id="dateRange"
            [label]="'OCCUPATIONAL-HAZARD.DATE-RANGE' | translate"
            [control]="reportDateForm"
            [maxDate]="maxDate"
            [hideOptionalLabel]="true"
            [minDate]="minDate"
            [disabled]="disabled" 
          >
          </gosi-input-daterange-dc>
        </div>
  
        <div modalAction>
          <div class="row">
            <div class="col-md-12 form-action">
              <div class="float-right btn-section">
                <gosi-button-dc id="confirm" type="primary" [size]="'md'" (submit)="generate()">
                  {{ 'OCCUPATIONAL-HAZARD.GENERATE' | translate }}</gosi-button-dc
                >
              </div>
              <div class="float-left btn-section">
                <gosi-button-dc id="cancel" type="secondary" [size]="'md'" (submit)="hideModal()">
                  {{ 'OCCUPATIONAL-HAZARD.CANCEL' | translate }}</gosi-button-dc
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </gosi-modal-dc>
  </ng-template>
  
  <ng-template #claimsAmount>
    <oh-claim-amount-by-third-party-dc
      [showErrorMessage]="showErrorMessage"
      [isThirtyDays]="isThirtyDays"
      [claimsDateForm]="claimsDateForm"
      [claimsForm]="claimsForm"
      [maxDate]="maxDate"
      [minDate]="minDate"
      [disabled]="disabled"
      (hide)="hideModal()"
      [languageList]="arabicEnglishList"
      [pdfExcelList]="pdfExcelList"
      (showSelectRange)="selectRange()"
      (showSelectDateRange)="selectDateRange()"
      (onGenerate)="generateClaimsAmountBI()"
      [showMandatoryMessage]="showMandatoryMessage"
    >
    </oh-claim-amount-by-third-party-dc>
  </ng-template>
  
  <ng-template #casesExceeds>
    <oh-cases-exceeds-certain-amount-dc
      [showErrorMessage]="showErrorMessage"
      [isThirtyDays]="isThirtyDays"
      [casesExceedsDateForm]="casesExceedsDateForm"
      [showMandatoryMessage]="showMandatoryMessage"
      [casesExceedsForm]="casesExceedsForm"
      [maxDate]="maxDate"
      (hide)="hideModal()"     
      [languageList]="arabicEnglishList"      
      [pdfExcelList]="pdfExcelList"
      (showSelectRange)="selectRange()"
      (showSelectDateRange)="selectDateRange()"
      (onGenerate)="generateCasesExceedsBI()"     
    >
    </oh-cases-exceeds-certain-amount-dc>
  </ng-template>
  
  <ng-template #dailyAllowances>
    <oh-daily-allowances-certain-contributor-dc
      [showErrorMessage]="showErrorMessage"
      [dailyAllowancesForm]="dailyAllowancesForm"
      [isSinSelected]="isSinSelected"
      (hide)="hideModal()"
      [idTypeList]="idTypeList"
      [languageList]="arabicEnglishList"
      [pdfExcelList]="pdfExcelList"     
      (identitySelect)="identitySelect($event)"
      [showMandatoryMessage]="showMandatoryMessage"
      (onGenerate)="generateDailyAllowance()"
    ></oh-daily-allowances-certain-contributor-dc>
  </ng-template>
  
  <ng-template #injuriesMore>
    <oh-injuries-treatment-more-than-certain-period-dc
      [showErrorMessage]="showErrorMessage"
      [isThirtyDays]="isThirtyDays"
      [claimsDateForm]="claimsDateForm"
      [injuriesMoreForm]="injuriesMoreForm"
      [checkForm]="checkForm"
      [maxDate]="maxDate"
      [minDate]="minDate"
      [disabled]="disabled"     
      (hide)="hideModal()"
      [languageList]="arabicEnglishList"
      [pdfExcelList]="pdfExcelList"
      (showSelectRange)="selectRange()"
      (showSelectDateRange)="selectDateRange()"
      (onGenerateInjuriesMore)="generateInjuriesMoreBI($event)"
      [showMandatoryMessage]="showMandatoryMessage"
    >
    </oh-injuries-treatment-more-than-certain-period-dc>
  </ng-template>
  
  <ng-template #injuriesReported>
    <oh-injuries-reported-during-certain-period-dc
      [showErrorMessage]="showErrorMessage"
      [showMandatoryMessage]="showMandatoryMessage"
      [isThirtyDays]="isThirtyDays"
      [claimsDateForm]="claimsDateForm"
      [injuryPeriodForm]="injuryPeriodForm"
      [maxDate]="maxDate"
      [minDate]="minDate"
      [disabled]="disabled"     
      (hide)="hideModal()"
      [languageList]="arabicEnglishList"
      [pdfExcelList]="pdfExcelList"
      (showSelectRange)="selectRange()"
      (showSelectDateRange)="selectDateRange()"
      (onGenerateInjuryPeriod)="generateInjuryStatusBI()"
    >
      >
    </oh-injuries-reported-during-certain-period-dc>
  </ng-template>
  
  <ng-template #injuriesPassed>
    <oh-injuries-passed-certain-period-since-reported-dc
      [showErrorMessage]="showErrorMessage"
      [showMandatoryMessage]="showMandatoryMessage"
      [isThirtyDays]="isThirtyDays"
      [claimsDateForm]="claimsDateForm"
      [injuriesPassedForm]="injuriesPassedForm"
      [checkForm]="checkForm"
      [maxDate]="maxDate"
      [minDate]="minDate"
      [disabled]="disabled"
      (hide)="hideModal()"     
      [languageList]="arabicEnglishList"
      [pdfExcelList]="pdfExcelList"
      (showSelectRange)="selectRange()"
      (showSelectDateRange)="selectDateRange()"
      (onGenerateInjuryPassed)="generateNumberOfInjuryStatusBI(true, $event)" 
    >
      >
    </oh-injuries-passed-certain-period-since-reported-dc>
  </ng-template>
  
  <ng-template #injuriesClosed>
    <oh-injuries-closed-certain-period-dc
      [showErrorMessage]="showErrorMessage"
      [isThirtyDays]="isThirtyDays"
      [claimsDateForm]="claimsDateForm"
      [injuriesClosedForm]="injuriesClosedForm"
      [checkForm]="checkForm"
      [maxDate]="maxDate"
      [minDate]="minDate"      
      [disabled]="disabled"
      (hide)="hideModal()"
      [languageList]="arabicEnglishList"
      [pdfExcelList]="pdfExcelList"
      (showSelectRange)="selectRange()"
      (showSelectDateRange)="selectDateRange()"
      (onGenerateInjuryClosed)="generateClosedPassedBI(false, $event)"
      [showMandatoryMessage]="showMandatoryMessage"
    >
    </oh-injuries-closed-certain-period-dc>
  </ng-template>
  
  <ng-template #claimVatRecovered>
    <oh-claim-amount-vat-recovered-dc
      [showErrorMessage]="showErrorMessage"
      [isThirtyDays]="isThirtyDays"
      [claimsDateForm]="claimsDateForm"
      [recoveryForm]="recoveryForm"
      [maxDate]="maxDate"
      [minDate]="minDate"
      [disabled]="disabled"
      (hide)="hideModal()"
      [languageList]="arabicEnglishList"
      [pdfExcelList]="pdfExcelList"
      [recoveredList]="recoveredList"
      (showSelectRange)="selectRange()"
      (showSelectDateRange)="selectDateRange()"
      (onGenerateRecovery)="generateRecoveryForm()"
      [showMandatoryMessage]="showMandatoryMessage"
    >
    </oh-claim-amount-vat-recovered-dc>
  </ng-template>
  
