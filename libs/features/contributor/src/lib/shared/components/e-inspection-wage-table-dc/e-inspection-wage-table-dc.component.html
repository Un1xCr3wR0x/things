<ng-template #nullValue>0.00</ng-template>
<div>
  <ng-container *ngIf="!isValidator">
    <div class="section-head card-heading">
      {{ 'CONTRIBUTOR.WAGE.WAGE-DETAILS' | translate }}
    </div>
  </ng-container>
  <ng-container *ngIf="isValidator">
    <div class="title">
      <h4>
        {{ 'CONTRIBUTOR.COMPLIANCE.E-INSPECTION' | translate }}
      </h4>
    </div>
  </ng-container>
</div>
<div>
  <table class="table-responsive table">
      <thead class="table-header">
        <th class="period-th">{{ 'CONTRIBUTOR.PERIOD' | translate }}</th>
        <th>{{ 'CONTRIBUTOR.DETAILS' | translate }}</th> 
        <th>{{'CONTRIBUTOR.OCCUPATION' | translate }}</th>
        <th>{{ 'CONTRIBUTOR.BASIC-WAGE' | translate }}</th>
        <th>{{ 'CONTRIBUTOR.HOUSING' | translate }}</th>
        <th>{{ 'CONTRIBUTOR.COMMISSION' | translate }}</th>
        <th>{{ 'CONTRIBUTOR.OTHER-ALLOWANCE' | translate }}</th>
        <th>{{ 'CONTRIBUTOR.TOTAL-WAGE' | translate }}</th>
      </thead>
      <tbody>
          <ng-container *ngFor="let period of violationDetails.periodChangeSummary">
            <ng-container *ngFor="let updatedPeriod of period.requestedWage">
              <tr>
                <td rowspan="2" class="vertical-center">
                  
                    {{ updatedPeriod.startDate | dateType }}
                    >
                    {{ updatedPeriod.endDate
                        ? (updatedPeriod.endDate | dateType )
                        : ('CONTRIBUTOR.ONWARDS' | translate)
                    }}
                </td>
                <td>{{ 'CONTRIBUTOR.OLD-DETAILS' | translate }}</td>
                <td>{{period.currentWage.occupation | bilingualText}}</td>
                <td>{{period.currentWage.wage.basicWage}}</td>
                <td>{{period.currentWage.wage.housingBenefit}}</td>
                <td>{{period.currentWage.wage.commission}}</td>
                <td>{{period.currentWage.wage.otherAllowance}}</td>
                <td>{{period.currentWage.wage.totalWage}}</td>

              </tr>
              <tr>
                <td>{{ 'CONTRIBUTOR.NEW-DETAILS' | translate }}</td>
                <td [ngClass]="updatedPeriod.occupation.english !== period.currentWage.occupation.english ? 'updated' : ''">
                  {{updatedPeriod.occupation | bilingualText}}
                </td>
                <td [ngClass]="updatedPeriod.wage.basicWage !== period.currentWage.wage.basicWage ? 'updated' : ''">
                  {{updatedPeriod.wage.basicWage}}
                </td>
                <td [ngClass]="updatedPeriod.wage.housingBenefit !== period.currentWage.wage.housingBenefit ? 'updated' : ''">
                  {{updatedPeriod.wage.housingBenefit}}
                </td>
                <td [ngClass]="updatedPeriod.wage.commission !== period.currentWage.wage.commission ? 'updated' : ''">
                  {{updatedPeriod.wage.commission}}
                </td>
                <td [ngClass]="updatedPeriod.wage.otherAllowance !== period.currentWage.wage.otherAllowance ? 'updated' : ''">
                  {{updatedPeriod.wage.otherAllowance}}
                </td>
                <td [ngClass]="updatedPeriod.wage.totalWage !== period.currentWage.wage.totalWage ? 'updated' : ''">
                  {{updatedPeriod.wage.totalWage}}
                </td>
              </tr>
            </ng-container>
          </ng-container>
      </tbody>
    </table>
</div>


<!-- <div class="wage-block">
  <div class="wage-table table-responsive gosi-scrollbar">
    <table class="table">
      <thead>
        <tr class="tableHeader">
          <th></th>
          <th>{{ 'CONTRIBUTOR.WAGE.BASIC-WAGE' | translate }}</th>
          <th>{{ 'CONTRIBUTOR.WAGE.HOUSING' | translate }}</th>
          <th>{{ 'CONTRIBUTOR.WAGE.COMMISSIONS' | translate }}</th>
          <th>{{ 'CONTRIBUTOR.WAGE.OTHER-ALLOWANCE' | translate }}</th>
          <th>{{ 'CONTRIBUTOR.WAGE.TOTAL-WAGE' | translate }}</th>
          <th>{{ 'CONTRIBUTOR.WAGE.OCCUPATION' | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{ 'CONTRIBUTOR.COMPLIANCE.SYSTEM-DATA' | translate }}</td>
          <td>
            <span *ngIf="violationDetails?.wage?.currentWage.basicWage as value; else nullValue"
              >{{ value | number: '1.2-2' }}
            </span>
          </td>
          <td>
            <span *ngIf="violationDetails?.wage?.currentWage.housingBenefit as value; else nullValue">
              {{ value | number: '1.2-2' }}
            </span>
          </td>
          <td>
            <span *ngIf="violationDetails?.wage?.currentWage.commission as value; else nullValue">
              {{ value | number: '1.2-2' }}
            </span>
          </td>
          <td>
            <span *ngIf="violationDetails?.wage?.currentWage.otherAllowance as value; else nullValue">
              {{ value | number: '1.2-2' }}
            </span>
          </td>
          <td>
            <span *ngIf="SystemTotalWage as value; else nullValue">{{ value | number: '1.2-2' }} </span>
          </td>
          <td>
            <span
              *ngIf="
                violationDetails?.wage?.currentWage.occupation?.english &&
                violationDetails?.wage?.currentWage.occupation?.arabic
              "
            >
              {{ violationDetails?.wage?.currentWage?.occupation | bilingualText }}
            </span>
          </td>
        </tr>
        <tr>
          <td>{{ 'CONTRIBUTOR.COMPLIANCE.CONTRIBUTOR-REQUEST' | translate }}</td>
          <td>
            <span class="contributor-value"
              >{{ violationDetails?.wage?.requestedWage.basicWage | number: '1.2-2' }}
            </span>
          </td>
          <td>
            <span class="contributor-value">
              {{ violationDetails?.wage?.requestedWage.housingBenefit | number: '1.2-2' }}
            </span>
          </td>
          <td>
            <span class="contributor-value">
              {{ violationDetails?.wage?.requestedWage.commission | number: '1.2-2' }}
            </span>
          </td>
          <td>
            <span class="contributor-value">
              {{ violationDetails?.wage?.requestedWage.otherAllowance | number: '1.2-2' }}
            </span>
          </td>
          <td>
            <span class="contributor-value">{{ ContributorTotalWage | number: '1.2-2' }} </span>
          </td>
          <td>
            <span class="contributor-value">
              {{ violationDetails?.wage?.requestedWage.occupation | bilingualText }}
            </span>
          </td>
        </tr>
        <tr *ngIf="isRouterDataToken">
          <td>{{ 'CONTRIBUTOR.COMPLIANCE.VALIDATOR-DATA' | translate }}</td>
          <td>
            <span>{{ violationDetails?.validatorData?.basicWage | number: '1.2-2' }} </span>
          </td>
          <td>
            <span>
              {{ violationDetails?.validatorData?.housingBenefit | number: '1.2-2' }}
            </span>
          </td>
          <td>
            <span>
              {{ violationDetails?.validatorData?.commission | number: '1.2-2' }}
            </span>
          </td>
          <td>
            <span>
              {{ violationDetails?.validatorData?.otherAllowance | number: '1.2-2' }}
            </span>
          </td>
          <td>
            <span>{{ ContributorValidatorTotalWage | number: '1.2-2' }} </span>
          </td>
          <td>
            <span>
              {{ violationDetails?.validatorData?.occupation | bilingualText }}
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="wage-card table-responsive">
    <table class="table-dd">
      <tbody>
        <tr>
          <th>{{ 'CONTRIBUTOR.WAGE.OCCUPATION' | translate }}</th>
          <td>
            <span *ngIf="violationDetails?.occupation?.english && violationDetails?.occupation?.arabic">
              {{ violationDetails?.occupation | bilingualText }}
            </span>
          </td>
        </tr>
        <tr>
          <th>{{ 'CONTRIBUTOR.WAGE.BASIC-WAGE' | translate }}</th>
          <td>
            <span *ngIf="violationDetails?.wage?.basicWage as value; else nullValue"
              >{{ value | number: '1.2-2' }}
            </span>
          </td>
        </tr>
        <tr>
          <th>{{ 'CONTRIBUTOR.WAGE.HOUSING' | translate }}</th>
          <td>
            <span *ngIf="violationDetails?.wage?.housingBenefit as value; else nullValue">
              {{ value | number: '1.2-2' }}
            </span>
          </td>
        </tr>
        <tr>
          <th>{{ 'CONTRIBUTOR.WAGE.COMMISSIONS' | translate }}</th>
          <td>
            <span *ngIf="violationDetails?.wage?.commission as value; else nullValue">
              {{ value | number: '1.2-2' }}
            </span>
          </td>
        </tr>
        <tr>
          <th>{{ 'CONTRIBUTOR.WAGE.OTHER-ALLOWANCE' | translate }}</th>
          <td>
            <span *ngIf="violationDetails?.wage?.otherAllowance as value; else nullValue">
              {{ value | number: '1.2-2' }}
            </span>
          </td>
        </tr>
        <tr>
          <th>{{ 'CONTRIBUTOR.WAGE.TOTAL-WAGE' | translate }}</th>
          <td>
            <span *ngIf="SystemTotalWage as value; else nullValue">{{ value | number: '1.2-2' }} </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div> -->

