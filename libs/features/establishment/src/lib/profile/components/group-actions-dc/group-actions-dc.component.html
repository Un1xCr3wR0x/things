<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<div class="d-flex flex-wrap align-items-center search-wrapper">
  <div class="branch-heading flex-grow-1" *ngIf="showBranchesHeading">
    <ng-container *ngTemplateOutlet="heading"></ng-container>
  </div>
  <div class="search-filter d-flex flex-nowrap pr-3 pl-0">
    <div class="search-cmp">
      <ng-container *ngTemplateOutlet="search"></ng-container>
    </div>
  </div>
  <div class="actions-cmp d-flex align-items-center">
    <div class="pl-0 pr-3">
      <ng-container *ngTemplateOutlet="filter"></ng-container>
    </div>
    <gosi-dropdown-dc
      *ngIf="actionDropDown.length > 0"
      class="mb-2"
      [list]="actionDropDown"
      (selectedItem)="actionType.emit($event)"
    >
      <gosi-button-dc class="gosi-button-wrapper" size="sm" type="primary" id="groupActions">
        {{ 'ESTABLISHMENT.ACTIONS' | translate }} <fa-icon class="options-icon" icon="ellipsis-v"></fa-icon>
      </gosi-button-dc>
      <p tooltip>
        {{ 'ESTABLISHMENT.MUST-BE-SUPERADMIN.MESSAGE' | translate }}
        <a [href]="getGPTLink()" target="_blank">{{ 'ESTABLISHMENT.MUST-BE-SUPERADMIN.HERE' | translate }}</a>
      </p>
    </gosi-dropdown-dc>
  </div>
  <div class="col-sm-12" *ngIf="branchFilters?.length > 0">
    <gosi-applied-filters-dc [filters]="branchFilters" (clearFilter)="apply.emit($event)"></gosi-applied-filters-dc>
  </div>
</div>

<ng-template #heading>
  <fa-icon class="icon-wrapper-branch" icon="code-branch" size="lg"></fa-icon>
  <span class="heading-value">
    {{ 'ESTABLISHMENT.EST-BRANCHES' | translate }} {{ noOfBranches ? '(' + noOfBranches + ')' : '' }}
  </span>
</ng-template>
<ng-template #search>
  <gosi-search-dc
    class="flex-grow-1"
    (search)="searchEstablishmentEvent.emit($event)"
    [placeholder]="'ESTABLISHMENT.ESTABLISHMENT-NAME-ID' | translate"
    [isLoading]="isLoading"
  >
  </gosi-search-dc>
</ng-template>
<ng-template #filter>
  <ng-content select="[filterComponent]"></ng-content>
</ng-template>
<ng-template #actions> </ng-template>
