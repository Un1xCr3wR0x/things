<div class="row">
  <div class="col-lg-12">
    <frm-content-heading-dc
      icon="user"
      heading="{{ 'BENEFITS.CONTRIBUTOR-DETAILS' | translate }}"
      [canEdit]="false"
      *ngIf="benefitDetails"
    >
    </frm-content-heading-dc>
  </div>
</div>
<div class="row pb-4">
  <div class="col-lg-12">
    <bnt-validator-adjustment-contributor-dc
      *ngIf="benefitDetails"
      [personDetails]="benefitDetails"
      [lang]="lang"
      (onContributorIdClicked)="viewContributorInfo()"
    >
    </bnt-validator-adjustment-contributor-dc>
  </div>
</div>

<!-- current Benefit details -->

<div class="row" *ngIf="benefitRecalculationDetails?.occRecalculationDetails?.benefitTypeChangeEligibility">
  <div class="col-lg-12">
    <frm-content-heading-dc
      icon="Benefits"
      [isSvg]="true"
      [canEdit]="false"
      heading="{{ 'BENEFITS.CURRENT-BENEFIT-DETAILS' | translate }}"
    >
    </frm-content-heading-dc>
  </div>
</div>
<div class="row pb-4" *ngIf="benefitRecalculationDetails?.occRecalculationDetails?.benefitTypeChangeEligibility">
  <div class="col-lg-12">
    <bnt-recalculation-benefit-details-dc
      [lumpsumToPension]="benefitRecalculationDetails?.occRecalculationDetails?.benefitTypeChangeEligibility"
      [benefitDetails]="benefitDetails"
      [currentBenefit]="true"
      [benefitRecalculationDetails]="benefitRecalculationDetails"
      [disabilityAssessment]="true"
      [disabilityAssessmentData]="disabilityAssessmentData"
      [lang]="lang"
      [assessmentDetails]="benefitRecalculationDetails?.occRecalculationDetails?.assessmentDetails"
      (onViewBenefitDetails)="onViewBenefitDetails()"
      (onViewPaymentHistoryClicked)="viewPaymentHistory($event, benefitDetails?.benefitType?.english)"
      (calculationDetails)="howToCalculate(null)"
    >
    </bnt-recalculation-benefit-details-dc>
  </div>
</div>

<!-- new benefit details -->

<div class="row" *ngIf="benefitRecalculationDetails?.occRecalculationDetails?.benefitTypeChangeEligibility">
  <div class="col-lg-12">
    <frm-content-heading-dc
      icon="Benefits"
      [isSvg]="true"
      [canEdit]="false"
      heading="{{ 'BENEFITS.NEW-BENEFIT-DETAILS' | translate }}"
    >
    </frm-content-heading-dc>
  </div>
</div>
<div class="row pb-4" *ngIf="benefitRecalculationDetails?.occRecalculationDetails?.benefitTypeChangeEligibility">
  <div class="col-lg-12">
    <bnt-recalculation-benefit-details-dc
      [lumpsumToPension]="benefitRecalculationDetails?.occRecalculationDetails?.benefitTypeChangeEligibility"
      [benefitDetails]="benefitDetails"
      [currentBenefit]="false"
      [benefitRecalculationDetails]="benefitRecalculationDetails"
      [disabilityAssessment]="true"
      [disabilityAssessmentData]="disabilityAssessmentData"
      [lang]="lang"
      [assessmentDetails]="benefitRecalculationDetails?.occRecalculationDetails?.assessmentDetails"
      (onViewBenefitDetails)="onViewBenefitDetails()"
      (onViewPaymentHistoryClicked)="viewPaymentHistory($event, benefitDetails?.benefitType?.english)"
      (calculationDetails)="howToCalculate(null)"
    >
    </bnt-recalculation-benefit-details-dc>
  </div>
</div>

<!--Benefit Details-->
<div class="row" *ngIf="!benefitRecalculationDetails?.occRecalculationDetails?.benefitTypeChangeEligibility">
  <div class="col-lg-12">
    <frm-content-heading-dc
      icon="Benefits"
      [isSvg]="true"
      [canEdit]="false"
      heading="{{ 'BENEFITS.BENEFIT-DETAIL' | translate }}"
    >
    </frm-content-heading-dc>
  </div>
</div>
<div class="row pb-4" *ngIf="!benefitRecalculationDetails?.occRecalculationDetails?.benefitTypeChangeEligibility">
  <div class="col-lg-12">
    <!-- payload?.subResource === 'Occ Disability Decision Change' -->
    <!-- payload is not available in transaction screen   -->
    <bnt-recalculation-benefit-details-dc
      *ngIf="benefitRecalculationDetails"
      [isBenefitDetails]="true"
      [benefitDetails]="benefitDetails"
      [benefitRecalculationDetails]="benefitRecalculationDetails"
      [recalculationDetails]="
        benefitRecalculationDetails?.occRecalculationDetails
          ? benefitRecalculationDetails?.occRecalculationDetails?.reCalculation
          : benefitRecalculationDetails?.nonOccRecalculationDetails?.reCalculation
      "
      [disabilityAssessmentData]="disabilityAssessmentData"
      [disabilityAssessment]="true"
      [isOcc]="
        payload?.subResource
          ? payload?.subResource === 'Occ Disability Decision Change'
          : benefitRecalculationDetails?.recalculationType === 'Occ Disability Change'
      "
      [lang]="lang"
      [assessmentDetails]="
        benefitRecalculationDetails?.occRecalculationDetails
          ? benefitRecalculationDetails?.occRecalculationDetails?.assessmentDetails
          : benefitRecalculationDetails?.nonOccRecalculationDetails?.assessmentDetails
      "
      (onViewBenefitDetails)="onViewBenefitDetails()"
      (onViewPaymentHistoryClicked)="viewPaymentHistory($event, benefitDetails?.benefitType)"
    >
    </bnt-recalculation-benefit-details-dc>
  </div>
</div>

<!--Assessment Details-->
<div class="row">
  <div class="col-lg-12">
    <frm-content-heading-dc icon="file-alt" [canEdit]="false" heading="{{ 'BENEFITS.ASSESSMENT-DETAILS' | translate }}">
    </frm-content-heading-dc>
  </div>
</div>
<div class="row pb-4">
  <div class="col-lg-12">
    <!-- payload?.subResource === 'Occ Disability Decision Change' -->
    <!-- payload is not available in transaction screen   -->
    <bnt-assessment-details-dc
      [isOcc]="
        payload?.subResource
          ? payload?.subResource === 'Occ Disability Decision Change'
          : benefitRecalculationDetails?.recalculationType === 'Occ Disability Change'
      "
      [assessmentDetails]="
        benefitRecalculationDetails?.occRecalculationDetails
          ? benefitRecalculationDetails?.occRecalculationDetails?.assessmentDetails
          : benefitRecalculationDetails?.nonOccRecalculationDetails?.assessmentDetails
      "
      [lang]="lang"
      [benefitDetails]="benefitDetails"
      (onAssessmentIdClicked)="viewChangeEngagement($event)"
      (onInjuryIdClicked)="viewInjuryDetails($event)"
    >
    </bnt-assessment-details-dc>
  </div>
</div>

<!--Adjustment details-->
<div class="row" *ngIf="benefitRecalculationDetails?.adjustments">
  <div class="col-lg-12">
    <frm-content-heading-dc
      icon="money-bill"
      [canEdit]="false"
      heading="{{ 'BENEFITS.ADJUSTMENT-DETAILS' | translate }}"
    >
    </frm-content-heading-dc>
  </div>
</div>
<div class="row pb-4" *ngIf="benefitRecalculationDetails?.adjustments">
  <div class="col-lg-12">
    <bnt-disability-adjustment-details-dc
      [benefitRecalculationDetails]="benefitRecalculationDetails"
      [checkForm]="payForm"
      [disableDirectPayment]="payload?.assignedRole === 'FC Approver' || isTransactionScreen"
      [lang]="lang"
      (onPreviousAdjustmentDetails)="viewMaintainAdjustment(recalculationConstants.DISABILITY_ASSESSMENT)"
    >
    </bnt-disability-adjustment-details-dc>
  </div>
</div>
<ng-container *ngIf="benefitRecalculationDetails?.occRecalculationDetails?.otherHoldReasons?.length > 0">
  <div class="row">
    <div class="col-12">
      <gosi-alert-dc
        [message]="'This benefit will not be restarted as there are other hold reasons available for this benefit'"
        [type]="'warning'"
      >
        <div
          actOnAlert
          class="pt-3"
          *ngFor="let reason of benefitRecalculationDetails?.occRecalculationDetails?.otherHoldReasons"
        >
          New reason for Hold : {{ reason | bilingualText }}
        </div>
      </gosi-alert-dc>
    </div>
  </div>
</ng-container>
<ng-container *ngIf="benefitRecalculationDetails?.nonOccRecalculationDetails?.otherHoldReasons?.length > 0">
  <div class="row">
    <div class="col-12">
      <gosi-alert-dc
        [message]="'This benefit will not be restarted as there are other hold reasons available for this benefit'"
        [type]="'warning'"
      >
        <div
          actOnAlert
          class="pt-3"
          *ngFor="let reason of benefitRecalculationDetails?.nonOccRecalculationDetails?.otherHoldReasons?.length > 0"
        >
          New reason for Hold : {{ reason | bilingualText }}
        </div>
      </gosi-alert-dc>
    </div>
  </div>
</ng-container>
