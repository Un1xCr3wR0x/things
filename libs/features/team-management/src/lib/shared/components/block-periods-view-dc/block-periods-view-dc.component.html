<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<div class="card">
  <div class="card-body">
    <div class="heading-wrapper d-flex align-items-center justify-content-between vtr-heading">
      <div class="custom-content-heading">{{ 'TEAM-MANAGEMENT.BLOCK_UNAVAILABLE_PERIODS' | translate }}</div>
      <div class="add-btn">
        <gosi-button-dc type="primary" size="sm" id="add-block" (click)="openModal(type.ADD_BLOCK)">{{
          'TEAM-MANAGEMENT.ADD' | translate | titlecase
        }}</gosi-button-dc>
      </div>
    </div>

    <div *ngIf="blockPeriods?.length > 0; else noBlockPeriods">
      <div class="header">
        <div class="head header-period">{{ 'TEAM-MANAGEMENT.PERIOD' | translate }}</div>
        <div class="head header-reason">{{ 'TEAM-MANAGEMENT.REASON' | translate }}</div>
        <div class="head header-toggle"></div>
      </div>
      <div class="item" *ngFor="let item of blockPeriods">
        <span class="item-period">
          {{ item.startDate | gosiDate }}
          <fa-icon class="item-period-icon" *ngIf="lang === 'en'" icon="arrow-right"></fa-icon>
          <fa-icon class="item-period-icon" *ngIf="lang === 'ar'" icon="arrow-left"></fa-icon>
          {{ item.endDate | gosiDate }}
        </span>
        <span class="item-reason">{{ item.reason }}</span>
        <span class="item-toggle">
          <div class="btn-group" *ngIf="item.channel === channel.FIELD_OFFICE" dropdown>
            <button
              id="button-actions"
              type="button"
              class="btn-actions"
              dropdownToggle
              aria-controls="dropdown-actions"
            >
              <fa-icon class="options-icon" icon="ellipsis-v"></fa-icon>
            </button>
            <ul id="dropdown-actions" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-actions">
              <li role="menuitem">
                <a class="dropdown-item" (click)="openModal(type.MODIFY_BLOCK, item)">
                  <span>{{ 'TEAM-MANAGEMENT.MODIFY' | translate | titlecase }}</span></a
                >
              </li>
              <li role="menuitem">
                <a class="dropdown-item" (click)="openModal(type.REMOVE_BLOCK, item)">
                  <span>{{ 'TEAM-MANAGEMENT.REMOVE' | translate | titlecase }}</span></a
                >
              </li>
            </ul>
          </div>
        </span>
      </div>
    </div>
    <ng-template #noBlockPeriods>
      <div class="d-flex justify-content-center no-block-period">
        {{ 'TEAM-MANAGEMENT.NO-BLOCK-PERIOD' | translate }}
      </div>
    </ng-template>
  </div>
</div>
