<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<gosi-breadcrumb-dc> </gosi-breadcrumb-dc>
<div class="content">
  <div class="row">
    <div class="col-md-12">
      <h4 class="main-heading">
        {{ 'ESTABLISHMENT.ADD-ESTABLISHMENT' | translate }}
      </h4>
    </div>
  </div>
  <gosi-alert-sc [noSpacing]="true"></gosi-alert-sc>
  <div class="row">
    <div class="col-md-12">
      <div class="card no-color">
        <div class="card-body">
          <est-establishment-type-dc
            #organisationTypeComp
            (next)="selectOrganizationType($event)"
            [establishmentTypeList]="organistaionTypeList$ | async"
          ></est-establishment-type-dc>
        </div>
      </div>
      <div *ngIf="establishment && establishment.organizationCategory !== null">
        <div
          *ngIf="establishment.organizationCategory !== null && establishment.organizationCategory.english !== 'GCC'"
        >
          <est-verify-establishment-dc
            #verifyEstDetailsComp
            *ngIf="establishment.organizationCategory.english"
            [establishment]="establishment"
            [licenseIssuingAuthorityList]="licenseIssuingAuthorityList$ | async"
            [establishmentBranchTypeList]="establishmentTypeList$ | async"
            [legalEntityList]="legalEntityList$ | async"
            [lawTypeList]="lawTypeList$ | async"
            (submit)="verifyEstablishmentDetails($event)"
            (invalidForm)="showFormInvalid()"
          >
          </est-verify-establishment-dc>
        </div>
        <div
          *ngIf="establishment.organizationCategory !== null && establishment.organizationCategory.english === 'GCC'"
        >
          <est-verify-gcc-establishment-dc
            #verifyGccEstDcComp
            *ngIf="establishment.organizationCategory.english"
            [gccCountryList]="gccCountryList$ | async"
            [legalEntityList]="legalEntityList$ | async"
            [lawTypeList]="lawTypeList$ | async"
            (submit)="verifyGCCEstablishmentDetails($event)"
            (invalidForm)="showFormInvalid()"
            (selectOrganizationType)="filterLegalEntityByLawType($event)"
          >
          </est-verify-gcc-establishment-dc>
        </div>
      </div>
    </div>
  </div>
</div>
