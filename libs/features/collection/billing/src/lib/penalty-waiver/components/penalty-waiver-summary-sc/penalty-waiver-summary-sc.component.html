<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->

<div class="content">
    <gosi-breadcrumb-dc> </gosi-breadcrumb-dc>
    <gosi-alert-sc></gosi-alert-sc>
    <div class="col-auto header">
        <div class="col-auto px- border-right align-self-center">
            <a (click)="navigateToSummary()">
                <fa-icon class="back-icon"
                    [icon]="['far', lang === 'ar' ? 'arrow-alt-circle-right' : 'arrow-alt-circle-left']"
                    size="1x"></fa-icon>
            </a>
        </div>
        <span> {{ 'BILLING.WAIVER-HISTORY' | translate }} </span>
    </div>
    <ng-container>
        <div class="table-effect">
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead class="table-header">
                        <tr>
                            <th class="align-top">{{ 'BILLING.WAIVER-PERIOD' | translate }}</th>
                            <th class="align-top">{{ 'BILLING.TRANSACTION-DATE' | translate }}</th>
                            <th class="align-top">{{ 'BILLING.PENALTY-TYPE' | translate }}</th>
                            <th class="align-top">{{ 'BILLING.WAIVER-PERCENTAGE' | translate }}(%)</th>
                            <th class="align-top">{{ 'BILLING.LATE-FEES-WAIVER-AMOUNT' | translate }}
                                <span class="currency">({{ 'BILLING.SAR' | translate }})</span>
                            </th>
                            <th class="align-top" *ngIf="isGosiInitiative">{{ 'BILLING.WAIVED-VIOLATIONS-PERCENTAGE' | translate }}(%)
                            </th>
                            <th class="align-top" *ngIf="isGosiInitiative">{{ 'BILLING.VIOLATION-WAIVER-AMOUNT' | translate }}
                                <span class="currency">({{ 'BILLING.SAR' | translate }})</span>
                            </th>
                            <th class="align-top" *ngIf="isGosiInitiative">{{ 'BILLING.TOTAL-WAIVER-AMOUNT' | translate }}
                                <span class="currency">({{ 'BILLING.SAR' | translate }})</span>
                            </th>
                            <th class="align-top">{{ 'BILLING.WAIVER-STATUS' | translate }}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <ng-container *ngFor="let items of waiverDetails?.penaltyWaiverHistoryDetails; let i = index">
                            <tr>
                                <td>{{ items.waiverStartMonth | bilingualText }}
                                    <fa-icon class="arrow-custom"
                                        [icon]="['fas', lang === 'ar' ? 'arrow-left' : 'arrow-right']">
                                    </fa-icon>
                                    {{ items.waiverEndMonth | bilingualText }}
                                </td>
                                <td>{{ items.txnDate | date: 'dd/MM/yyyy' }}</td>
                                <td>{{ items.waiveOffType | bilingualText }}</td>
                                <td>{{ items.waivedPenaltyPercentage }}</td>
                                <td>{{ items.waiverPeriodPenaltyAmount | number: '1.2-2' }} </td>   
                                <td *ngIf="isGosiInitiative">{{ items.waiverViolationsPercentage }} </td>
                                <td *ngIf="isGosiInitiative">{{ items.violationsWaiverAmount | number: '1.2-2' }} </td>
                                <td *ngIf="isGosiInitiative">{{ items.waiverPeriodPenaltyAmount +
                                    items.violationsWaiverAmount | number: '1.2-2' }}</td>
                                <td>{{ items.waiverStatus | bilingualText }}</td>
                            </tr>
                        </ng-container>
                    </tbody>
                </table>
            </div>
        </div>
    </ng-container>
</div>