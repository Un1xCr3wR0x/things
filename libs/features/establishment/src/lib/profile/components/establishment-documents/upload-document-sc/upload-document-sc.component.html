<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<gosi-breadcrumb-dc> </gosi-breadcrumb-dc>

<div class="content">
  <!-- header part -->
  <est-heading-dc [showBackArrow]="false" [showSeparator]="false">
    {{ 'ESTABLISHMENT.UPLOAD-DOC' | translate }}
  </est-heading-dc>

  <gosi-alert-sc></gosi-alert-sc>
  <div class="row">
    <div class="col-md-12">
      <gosi-card-dc type="secondary" [noMarginBottom]="true" [paddingBottom]="true">
        <div class="row">
          <div class="col-md-6">
            <gosi-input-select-dc
              id="document-type"
              [label]="'ESTABLISHMENT.DOCUMENT-TYPE' | translate"
              [list]="documentTypeList"
              [control]="uploadDocumentForm.get('documentType')"
              (select)="setDocType()"
            >
            </gosi-input-select-dc>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <gosi-input-text-area-dc
              gosiCharacterMask
              id="description"
              label="ESTABLISHMENT.DESCRIPTION"
              [maxLength]="descriptionMaxLength"
              [control]="uploadDocumentForm.get('description')"
              [rowSize]="rowSize"
              [helpText]="'ESTABLISHMENT.DESCRIPTION-HELP-TEXT' | translate"
              (blur)="setDescription()"
            >
            </gosi-input-text-area-dc>
          </div>
        </div>
        <ng-container>
          <est-documents-dc
            [uuid]="uuid"
            [documents]="documents"
            [businessKey]="estRegNo"
            [transactionId]="documentTransactionId"
            [showHeading]="false"
            [referenceNo]="referenceNo"
            [noPadding]="true"
            [noMarginBottom]="true"
            [negativeMobileMargin]="false"
            [parentForm]="uploadDocumentForm"
            (refreshDocument)="bindDocumentContent($event)"
          >
          </est-documents-dc>
        </ng-container>
      </gosi-card-dc>
    </div>
  </div>
  <div class="row footer-buttons">
    <div class="col-md-12">
      <div class="float-right">
        <gosi-button-dc type="primary" (click)="uploadDocuments()">
          {{ 'ESTABLISHMENT.SUBMIT' | translate }}
        </gosi-button-dc>
      </div>
      <div class="float-left">
        <gosi-button-dc type="secondary" (click)="showModal(cancelTemplate, false)">
          {{ 'ESTABLISHMENT.CANCEL' | translate }}</gosi-button-dc
        >
      </div>
    </div>
  </div>
</div>
<ng-template #cancelTemplate>
  <gosi-confirm-modal-dc
    iconName="warning"
    [message]="'ESTABLISHMENT.INFO-CANCEL'"
    (onConfirm)="cancelModal()"
    (onCancel)="hideModal()"
  >
  </gosi-confirm-modal-dc>
</ng-template>
