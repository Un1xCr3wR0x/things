<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<ng-container *ngIf="transaction?.transactionId === tnxId">
  <!-- establishment details -->
  <div class="row">
    <div class="col-md-12">
      <est-transactions-accordion-dc heading="{{ 'ESTABLISHMENT.ESTABLISHMENT-DETAILS' | translate }}">
        <est-transaction-establishment-details-dc
          [establishment]="establishment"
          (establishmentProfile)="goToEstProfile($event)"
        ></est-transaction-establishment-details-dc>
      </est-transactions-accordion-dc>
    </div>
  </div>
  <!-- Manage Owner change details -->

  <div class="row">
    <div class="col-md-12">
      <est-transactions-accordion-dc heading="{{ 'ESTABLISHMENT.EST-IDENTIFICATION-DETAILS' | translate }}">
        <div class="row">
          <ng-container *ngIf="estToValidate.license?.number !== establishment.license?.number">
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc label="ESTABLISHMENT.LICENSE-NUMBER" [control]="establishment.license?.number">
              </gosi-label-dc>
            </div>
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc label="ESTABLISHMENT.MODIFIED-LICENSE-NUMBER" [control]="estToValidate.license?.number">
              </gosi-label-dc>
            </div>
          </ng-container>
          <ng-container
            *ngIf="estToValidate.license?.issueDate?.gregorian !== establishment.license?.issueDate?.gregorian"
          >
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc
                [date]="true"
                label="ESTABLISHMENT.LICENSE-ISSUE-DATE"
                [control]="establishment.license?.issueDate?.gregorian"
              ></gosi-label-dc>
            </div>
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc
                [date]="true"
                label="ESTABLISHMENT.MODIFIED-LICENSE-ISSUE-DATE"
                [control]="estToValidate.license?.issueDate?.gregorian"
              ></gosi-label-dc>
            </div>
          </ng-container>

          <ng-container
            *ngIf="estToValidate.license?.expiryDate?.gregorian !== establishment.license?.expiryDate?.gregorian"
          >
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc
                [date]="true"
                label="ESTABLISHMENT.LICENSE-EXPIRY-DATE"
                [control]="establishment.license?.expiryDate?.gregorian"
              >
              </gosi-label-dc>
            </div>
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc
                [date]="true"
                label="ESTABLISHMENT.MODIFIED-LICENSE-EXPIRY-DATE"
                [control]="estToValidate.license?.expiryDate?.gregorian"
              >
              </gosi-label-dc>
            </div>
          </ng-container>
          <ng-container
            *ngIf="
              estToValidate.license?.issuingAuthorityCode?.english !==
              establishment.license?.issuingAuthorityCode?.english
            "
          >
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc
                label="ESTABLISHMENT.LICENSE-ISSUING-AUTHORITY"
                [control]="establishment.license?.issuingAuthorityCode"
              ></gosi-label-dc>
            </div>
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc
                label="ESTABLISHMENT.MODIFIED-LICENSE-ISSUING-AUTHORITY"
                [control]="estToValidate.license?.issuingAuthorityCode"
              ></gosi-label-dc>
            </div>
          </ng-container>
          <ng-container *ngIf="estToValidate.unifiedNationalNumber !== establishment.unifiedNationalNumber">
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc
                label="ESTABLISHMENT.UNIFIED-NATIONAL-NO"
                [control]="establishment.unifiedNationalNumber"
              ></gosi-label-dc>
            </div>
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc
                label="ESTABLISHMENT.MODIFIED-UNIFIED-NATIONAL-NO"
                [control]="estToValidate.unifiedNationalNumber"
              ></gosi-label-dc>
            </div>
          </ng-container>
          <ng-container *ngIf="estToValidate.recruitmentNo !== establishment.recruitmentNo">
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc
                label="ESTABLISHMENT.RECRUITMENT-NO"
                [control]="establishment.recruitmentNo"
              ></gosi-label-dc>
            </div>
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc
                label="ESTABLISHMENT.MODIFIED-RECRUITMENT-NO"
                [control]="estToValidate.recruitmentNo"
              ></gosi-label-dc>
            </div>
          </ng-container>
        </div>
        <div class="row">
          <div class="col-12" *ngIf="crnAndLicenseChanged">
            <div class="row ml-2 mr-2">
              <div class="col-12 sub-section"></div>
            </div>
          </div>
          <ng-container *ngIf="estToValidate.crn?.number !== establishment.crn?.number">
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc
                [date]="false"
                label="{{ 'ESTABLISHMENT.CRN-NUMBER' | translate }}"
                [control]="establishment.crn?.number"
              ></gosi-label-dc>
            </div>
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc
                [date]="false"
                label="{{ 'ESTABLISHMENT.MODIFIED-CRN-NUMBER' | translate }}"
                [control]="estToValidate.crn?.number"
              ></gosi-label-dc>
            </div>
          </ng-container>
          <ng-container *ngIf="estToValidate.crn?.issueDate?.gregorian !== establishment.crn?.issueDate?.gregorian">
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc
                [date]="true"
                label="ESTABLISHMENT.CRN-ISSUE-DATE"
                [control]="establishment.crn?.issueDate?.gregorian"
              ></gosi-label-dc>
            </div>
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc
                [date]="true"
                label="ESTABLISHMENT.MODIFIED-CRN-ISSUE-DATE"
                [control]="estToValidate.crn?.issueDate?.gregorian"
              ></gosi-label-dc>
            </div>
          </ng-container>
          <ng-container *ngIf="estToValidate.departmentNumber !== establishment.departmentNumber">
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc label="ESTABLISHMENT.DEPARTMENT-ID" [control]="establishment.departmentNumber">
              </gosi-label-dc>
            </div>
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc label="ESTABLISHMENT.MODIFIED-DEPARTMENT-NUMBER" [control]="estToValidate.departmentNumber">
              </gosi-label-dc>
            </div>
          </ng-container>
          <ng-container *ngIf="estToValidate.crn?.expiryDate?.gregorian !== establishment.crn?.expiryDate?.gregorian">
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc
                [date]="true"
                label="ESTABLISHMENT.CRN-EXPIRY-DATE"
                [control]="establishment.crn?.expiryDate?.gregorian"
              ></gosi-label-dc>
            </div>
            <div class="col-md-6 col-sm-12">
              <gosi-label-dc
                [date]="true"
                label="ESTABLISHMENT.MODIFIED-CRN-EXPIRY-DATE"
                [control]="estToValidate.crn?.expiryDate?.gregorian"
              ></gosi-label-dc>
            </div>
          </ng-container>
        </div>
        <!-- </div> -->
      </est-transactions-accordion-dc>
    </div>
  </div>

  <!-- Documents section -->
  <div class="row" *ngIf="documentList?.length > 0">
    <div class="col-md-12">
      <gosi-document-list-view-dc [documents]="documentList" [isAccordionView]="true"> </gosi-document-list-view-dc>
    </div>
  </div>
</ng-container>
