<!-- Copyright GOSI. All Rights Reserved.
This software is the proprietary information of GOSI.
Use is subject to license terms. -->

<div class="row" *ngIf="allowance">
  <div class="col-md-12">
    <ng-container *ngIf="showHeading">
      <frm-content-heading-dc
        icon="coins"
        [heading]="'OCCUPATIONAL-HAZARD.ALLOWANCE-DETAILS'"
        [canEdit]="canEdit"
        (onEdit)="injuryOnEdit()"
      >
      </frm-content-heading-dc>
    </ng-container>
    <div class="row">
      <div class="col-lg-6 ml-1 mr-1">
        <gosi-label-dc
          id="injuryId"
          [label]="idLabel"
          [value]="injuryid"
          isLink="true"
          noMargin="true"
          (select)="viewInjuryDetails(injuryid)"
        >
        </gosi-label-dc>
      </div>
      <div class="col-lg-4 ohDate" *ngIf="allowance">
        <div class="row" *ngIf="allowance.ohDate">
          <gosi-label-dc [label]="dateLabel" id="status" [value]="allowance.ohDate.gregorian | date: 'dd/MM/yyyy'">
          </gosi-label-dc>
        </div>
      </div>
    </div>
    <div class="row payee-details">
      <div class="col-lg-6 treatment-period-header" type="secondary" *ngIf="allowance">
        <label
          popover="{{ 'OCCUPATIONAL-HAZARD.ALLOWANCE.TREATMENT-PERIOD' | translate }}"
          placement="top"
          class="label-margin"
          triggers="mouseenter:mouseleave"
          >{{ 'OCCUPATIONAL-HAZARD.ALLOWANCE.TREATMENT-PERIOD' | translate }}
          <div class="row treatment-period" *ngIf="allowance.startDate && allowance.endDate">
            {{ allowance.startDate.gregorian | gosiDate }}
            <fa-icon *ngIf="lang === 'en'" [icon]="['fas', 'arrow-right']" class="treatment"></fa-icon>
            <fa-icon *ngIf="lang === 'ar'" class="treatment" [icon]="['fas', 'arrow-left']"></fa-icon>
            {{ allowance.endDate.gregorian | gosiDate }}
            <span class="view-details"> ({{ dateDiff }} {{ 'OCCUPATIONAL-HAZARD.DAYS' | translate }})</span>
          </div>
          <div class="row treatment-period" *ngIf="!allowance.startDate && !allowance.endDate">
            <span class="null-label"></span>{{ 'OCCUPATIONAL-HAZARD.NOT-AVAILABLE' | translate }}
          </div>
        </label>
      </div>
      <div class="col-lg-4 ohDate" *ngIf="!claims">
        <div class="row">
          <gosi-label-dc
            [label]="'OCCUPATIONAL-HAZARD.ALLOWANCE.TOTAL-ALLOWANCE'"
            id="totalAllowance"
            [value]="(repatriationWrapper !== undefined && repatriationWrapper !== null) ? getModifiedExpense() : getAllowanceAmount()"
          >
          </gosi-label-dc>
        </div>
      </div>
    </div>
    <div class="row" *ngIf="(rejectionReason?.english !== null) && (rejectionReason?.english !== undefined)">
      <div class="col-lg-6 ml-1 mr-1">
        <gosi-label-dc
          id="rejectionReason"
          [label]="'OCCUPATIONAL-HAZARD.REJECT-REASON'"
          [value]="rejectionReason | bilingualText"
        >
        </gosi-label-dc>
      </div>
    </div>
  </div>
</div>
