<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->

<blg-detailed-bill-header-dc
  [establishmentHeader]="establishmentHeader"
  [isGccCountry]="isGccCountry"
  (download)="downloadLatefeeDetailedBill($event)"
  (Print)="printLatefeeDetailedBill()"
></blg-detailed-bill-header-dc>

<div class="content">
  <div class="row">
    <div class="col-lg-12">
      <div class="row" *ngIf="currencyValue.english !== undefined">
        <div class="col-lg-12">
          <blg-itemized-bill-details-dc
            [itemizedBillDetails]="billDetails"
            (itemizedDate)="getLatefeeBillDetailsOnSelectedDate($event)"
            [isAdmin]="isAdmin"
            [exchangeRate]="exchangeRate"
            [isGccCountry]="isGccCountry"
            [currencyType]="currencyValue"
            (itemizedDetails)="getDashboardBillDetailsForLatefee()"
            [itemizedBillList]="itemizedBillList"
            [noOfDays]="noOfDays"
            [selectedDate]="selectedDate"
            [billStartDate]="billStartDate"
            [errorMessage]="errorMessage"
            [isBillNumber]="isBillNumber"
            [initialStartDate]="initialStartDate"
          >
          </blg-itemized-bill-details-dc>
          <ng-container *ngIf="!isBillNumber">
            <blg-itemized-bill-tabset-dc
              [selectedTab]="'BILLING.LATE-PAYMENT-FEES'"
              [exchangeRate]="exchangeRate"
              [currencyType]="currencyValue"
              [tabSet]="tabitemDetails"
              (tabSelected)="goToNewTab($event)"
            ></blg-itemized-bill-tabset-dc>
            <div class="billtables">
              <div *ngIf="lateFeeDetails.noOfRecords > 0">
                <blg-itemized-bill-late-fees-dc
                  [lateFeeDetails]="lateFeeDetails"
                  [exchangeRate]="exchangeRate"
                  [currencyType]="currencyValue"
                  (selectPage)="getselectPage($event)"
                  [pageNo]="pageNo"
                ></blg-itemized-bill-late-fees-dc>
              </div>
              <div *ngIf="showlateFeeEstDetails">
                <blg-itemized-bill-est-late-fees-dc
                  [lateFeeDetails]="lateFeeEstDetails"
                  [exchangeRate]="exchangeRate"
                  [currencyType]="currencyValue"
                ></blg-itemized-bill-est-late-fees-dc>
              </div>
              <div *ngIf="showCancelPaymentLateFeeDetails">
                <blg-itemized-cancel-payment-late-fee-dc
                  [showCancelPaymentLateFeeDetails]="showCancelPaymentLateFeeDetails"
                  [cancelPaymentlateFeeDetails]="cancelPaymentDetails"
                  [exchangeRate]="exchangeRate"
                  [currencyType]="currencyValue"
                ></blg-itemized-cancel-payment-late-fee-dc>
              </div>
            </div>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
</div>
