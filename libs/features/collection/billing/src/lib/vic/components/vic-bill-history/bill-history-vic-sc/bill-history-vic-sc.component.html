<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<gosi-breadcrumb-dc> </gosi-breadcrumb-dc>
<!--   Bill History Header Section-->
<div class="row header-section">
  <div class="col-auto heading-main border-right">
    {{ 'BILLING.BILL-HISTORY' | translate }}
  </div>
  <div class="col-auto heading-main mr-auto" *ngIf="lang === 'en'">
    {{
      billHistoryDetails?.contributorName?.english?.name
        ? billHistoryDetails?.contributorName?.english?.name
        : billHistoryDetails?.contributorName?.arabic?.firstName +
          ' ' +
          billHistoryDetails?.contributorName?.arabic?.secondName +
          ' ' +
          billHistoryDetails?.contributorName?.arabic?.thirdName +
          ' ' +
          billHistoryDetails?.contributorName?.arabic?.familyName
    }}
  </div>
  <div
    class="col-auto heading-main mr-auto"
    *ngIf="
      (lang === 'en' && !billHistoryDetails?.contributorName?.english) ||
      (lang === 'ar' && billHistoryDetails?.contributorName?.arabic)
    "
  >
    <span *ngIf="billHistoryDetails?.contributorName?.arabic?.firstName">{{
      billHistoryDetails?.contributorName?.arabic?.firstName
    }}</span>
    <span *ngIf="billHistoryDetails?.contributorName?.arabic?.secondName">{{
      billHistoryDetails?.contributorName?.arabic?.secondName
    }}</span>
    <span *ngIf="billHistoryDetails?.contributorName?.arabic?.thirdName">{{
      billHistoryDetails?.contributorName?.arabic?.thirdName
    }}</span>
    <span *ngIf="billHistoryDetails?.contributorName?.arabic?.familyName">{{
      billHistoryDetails?.contributorName?.arabic?.familyName
    }}</span>
  </div>
</div>
<div class="row">
  <div class="col-lg-12 reg-no-align">({{ 'BILLING.CONTRIBUTOR-NUMBER' | translate }}: {{ sin }})</div>
</div>
<ng-container *ngIf="billHistoryDetails; else noResultFound">
  <div class="content container-height">
    <!--   Bill History Details-->
    <blg-bill-history-header-dc [billHistoryDetails]="billHistoryDetails" (backNavigation)="routeToVicBillDashboard()">
    </blg-bill-history-header-dc>
    <!-- Bill History Table-->
    <blg-bill-history-vic-table-dc
      [mofBillHistoryDetails]="billHistoryDetails"
      [yesOrNoList]="yesOrNoList$ | async"
      [billPaymentStatus]="billPaymentStatus$ | async"
      [pageDetails]="pageDetails"
      (selectPageNo)="pageChangedValue($event)"
      (routeTo)="routeToMof($event)"
      (downLoadVic)="downLoadVicBill($event)"
      (SearchOfAmount)="applyVicSearchFilter($event)"
      (filterDetails)="applyVicSearchFilter($event)"
    >
    </blg-bill-history-vic-table-dc>
  </div>
</ng-container>
<ng-template #noResultFound>
  <div class="mt-5 text-center">
    <img src="assets/images/search-error.svg" alt="search-error" />
    <br />
    <p class="text-muted">{{ 'BILLING.NO-DATA' | translate | titlecase }}</p>
  </div>
</ng-template>
