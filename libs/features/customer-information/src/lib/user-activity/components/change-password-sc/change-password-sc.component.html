<!-- Copyright GOSI. All Rights Reserved.
This software is the proprietary information of GOSI.
Use is subject to license terms. -->
<gosi-breadcrumb-dc [noSpacing]="true"></gosi-breadcrumb-dc>
<div class="content pt-4 mt-0">
  <div class="row">
    <div class="col-md-12">
      <gosi-alert-sc></gosi-alert-sc>
    </div>
  </div>
  <div class="row d-flex justify-content-center">
    <div class="col-lg-6">
      <div class="sub-heading text-center">{{ 'CUSTOMER-INFORMATION.CHANGE-PASSWORD' | translate }}</div>
      <gosi-card-dc type="secondary" [isHeading]="false" [lessPadding]="true">
        <form [formGroup]="changePasswordForm" autocomplete="off">
          <input autocomplete="false" name="hidden" type="text" style="display: none" />
          <gosi-input-text-dc
            id="currentPassword"
            [placeholder]="'CUSTOMER-INFORMATION.PASSWORD' | translate"
            [label]="'CUSTOMER-INFORMATION.CURRENT-PASSWORD' | translate"
            [isPassword]="true"
            [control]="changePasswordForm.get('oldPassword')"
            (focus)="clearAlerts()"
            gosiEnglishMask
          >
          </gosi-input-text-dc>
          <div class="suggestion-wrapper">
            <gosi-input-text-dc
              id="newPassword"
              [isPassword]="true"
              [placeholder]="'CUSTOMER-INFORMATION.PASSWORD' | translate"
              [label]="'CUSTOMER-INFORMATION.NEW-PASSWORD' | translate"
              [control]="changePasswordForm.get('newPassword')"
              gosiEnglishMask
              (input)="newPasswordchanges($event.target.value)"
              (focus)="changeSuggestion(true)"
              (blur)="changeSuggestion(false)"
            >
            </gosi-input-text-dc>
            <div *ngIf="showSuggestion" class="suggestion">
              <cim-password-info-dc
                #newPassword
                [control]="changePasswordForm.get('newPassword')"
              ></cim-password-info-dc>
            </div>
          </div>
          <gosi-input-text-dc
            id="confirmPassword"
            [isPassword]="true"
            [placeholder]="'CUSTOMER-INFORMATION.PASSWORD' | translate"
            [label]="'CUSTOMER-INFORMATION.CONFIRM-NEW-PASSWORD' | translate"
            [control]="changePasswordForm.get('confirmPassword')"
            gosiEnglishMask
            (focus)="clearAlerts()"
          >
          </gosi-input-text-dc>

          <div class="form-action password-section">
            <div class="float-left btn-section">
              <gosi-button-dc class="password-value" id="cancel" (submit)="cancel(cancelTemplate)" type="secondary">{{
                'CUSTOMER-INFORMATION.CANCEL' | translate
              }}</gosi-button-dc>
            </div>
            <div class="float-right btn-section">
              <gosi-button-dc class="password-value" id="change" (submit)="changePassword()" type="primary">{{
                'CUSTOMER-INFORMATION.UPDATE' | translate
              }}</gosi-button-dc>
            </div>
          </div>
        </form>
      </gosi-card-dc>
    </div>
  </div>
</div>
<ng-template #cancelTemplate>
  <gosi-confirm-modal-dc
    message="CUSTOMER-INFORMATION.INFO-CANCEL"
    (onConfirm)="confirmCancel()"
    (onCancel)="decline()"
  >
  </gosi-confirm-modal-dc>
</ng-template>
