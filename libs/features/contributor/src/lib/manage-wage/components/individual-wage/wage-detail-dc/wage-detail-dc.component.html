<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->

<div>
  <div>
    <cnt-wage-content-heading-dc
      displayIcon="user-clock"
      headingLabel="CONTRIBUTOR.WAGE.CURRENT-MONTH-ENGAGEMENT-DETAILS"
      [canEdit]="canUserEdit ? (currentEngagement ? true : false) : false"
      [currentEngagement]="currentEngagement"
      (onEdit)="navigateToWageUpdate.emit()"
    >
    </cnt-wage-content-heading-dc>
    <div *ngIf="currentEngagement && currentEngagement.engagementPeriod[0]; else noActiveEngagement">
      <div class="row">
        <div class="col-md-4" *ngIf="!currentEngagement?.ppaIndicator">
          <gosi-label-dc
            id="occupation"
            [value]="currentEngagement?.engagementPeriod[0]?.occupation | bilingualText"
            label="CONTRIBUTOR.OCCUPATION"
          ></gosi-label-dc>
        </div>
        <div class="col-md-4">
          <gosi-label-dc
            id="name"
            [value]="
              currentEngagement?.establishmentName?.english === null
                ? currentEngagement?.establishmentName?.arabic
                : (currentEngagement?.establishmentName | bilingualText)
            "
            label="CONTRIBUTOR.ESTABLISHMENT-NAME"
          ></gosi-label-dc>
        </div>
        <div class="col-md-4">
          <gosi-label-dc
            id="date"
            [value]="currentEngagement?.joiningDate | dateType"
            label="CONTRIBUTOR.ENGAGEMENT-START-DATE"
          ></gosi-label-dc>
        </div>
        <div class="col-md-4" *ngIf="currentEngagement?.ppaIndicator">
          <gosi-label-dc
            id="job"
            [value]="currentEngagement?.engagementPeriod[0]?.jobClassName | bilingualText"
            label="CONTRIBUTOR.JOB-CLASS"
          ></gosi-label-dc>
        </div>
        <div class="col-md-4" *ngIf="currentEngagement?.ppaIndicator">
          <gosi-label-dc
            id="rank"
            [value]="currentEngagement?.engagementPeriod[0]?.jobRankName | bilingualText"
            label="CONTRIBUTOR.RANK"
          ></gosi-label-dc>
        </div>
        <div class="col-md-4" *ngIf="currentEngagement?.ppaIndicator">
          <gosi-label-dc
            id="grade"
            [value]="currentEngagement?.engagementPeriod[0]?.jobGradeName | bilingualText"
            label="CONTRIBUTOR.GRADE"
          ></gosi-label-dc>
        </div>
      </div>
      <cnt-wage-table-dc
        [showLastUpdate]="true"
        [engagementPeriod]="currentEngagement.engagementPeriod[0]"
        [isPpa]="currentEngagement.ppaIndicator"
      >
      </cnt-wage-table-dc>
    </div>
  </div>

  <!-- No Active engagement template-->
  <ng-template #noActiveEngagement>
    <div class="no-active-eng">
      <img src="assets/images/case.svg" alt="no active engagement" />
      <div class="p-5">{{ 'CONTRIBUTOR.WAGE.NO-ACTIVE-ENGAGEMENT' | translate }}</div>
    </div>
  </ng-template>
</div>
