<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->

<div class="content">
  <!-- Heading -->
  <cnt-header-section-dc
    heading="CONTRIBUTOR.TRANSFER-CON.TRANSFER-CONTRIBUTOR"
    (goBack)="checkForChanges(cancelTemplate)"
  ></cnt-header-section-dc>
  <!-- Contributor details banner -->
  <div class="row mt-4" *ngIf="contributor">
    <div class="col-lg-12">
      <cnt-contributor-banner-dc [contributor]="contributor"></cnt-contributor-banner-dc>
    </div>
  </div>

  <gosi-alert-sc></gosi-alert-sc>

  <div class="row mt-4">
    <div class="col-12">
      <cnt-transfer-details-dc
        [registrationNoList]="registrationNoList"
        [establishmentNameList]="establishmentNameList"
        [branchList]="branchList"
        [parentForm]="parentForm"
        [transferDetails]="transferDetails"
      ></cnt-transfer-details-dc>
    </div>
  </div>
  <div class="row" *ngIf="documents.length > 0 || !isAppPrivate">
    <div class="col-12">
      <cnt-document-upload-dc
        [documentList]="documents"
        [businessKey]="engagementId"
        [transactionId]="transactionId"
        [parentForm]="parentForm"
        [referenceNo]="referenceNo"
        [showDocuments]="isAppPrivate"
        [showComments]="true"
        [uuid]="uuid"
        (refresh)="refreshDocument($event)"
      ></cnt-document-upload-dc>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12">
      <cnt-action-area-dc
        primaryButtonLabel="CONTRIBUTOR.SUBMIT"
        [disablePrimary]="disablePrimary"
        (submit)="submitTransaction()"
        (cancel)="checkForChanges(cancelTemplate)"
      ></cnt-action-area-dc>
    </div>
  </div>
</div>

<ng-template #cancelTemplate>
  <gosi-confirm-modal-dc
    [message]="'CONTRIBUTOR.CONFIRM-CANCEL'"
    (onConfirm)="checkRevertRequired()"
    (onCancel)="hideModal()"
  >
  </gosi-confirm-modal-dc>
</ng-template>
