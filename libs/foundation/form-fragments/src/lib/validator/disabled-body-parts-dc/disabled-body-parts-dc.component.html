<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->

  <div class="row">
    <div class="col-md-12">
    <div class="custom-header">
      <h4 class="custom-heading">
        {{ 'OCCUPATIONAL-HAZARD.DISABLED-BODY-PARTS' | translate }}
      </h4>
      <div class="action-btn ml-auto" id="id">
        <div class="d-flex flex-row-reverse" *ngIf="!isReturn && !conveyanceRequired">
          <div class="btn-section">
          <gosi-button-dc
            type="primary"
            id="addButton"
            size="lg"
            [outlineOnly]="true"
            [disabled]="disabilities.valid ? false : true"
            (submit)="addBodyParts()"
          >
            {{ 'OCCUPATIONAL-HAZARD.ADD' | translate }}
          </gosi-button-dc>
        </div>
        </div>
      </div>
    </div>



<!-- <ng-container #mainContainer> -->
  <!-- <div class="row col-lg-12"> -->
    <!-- <div class="row"> -->
    <table class="table table-borderless">
      <thead class="thead-light">
        <tr>
          <th>
            {{ 'OCCUPATIONAL-HAZARD.BODY-PARTS-CATEGORY' | translate }}
          </th>
          <th>
            {{ 'OCCUPATIONAL-HAZARD.BODY-PARTS' | translate }}
          </th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <ng-container [formGroup]="bodyPartsForm">
          <ng-container formArrayName="disabilities">
            <ng-container *ngFor="let control of disabilities.controls; let i = index">
              <ng-container [formGroupName]="'control' + i">
                <tr class="border-bottom">
                  <td class="col-5">
                    <div class="selectHeight" ngClass="{{ isValidator ? 'select-width' : '' }}">
                      <gosi-input-select-dc
                        [id]="'category' + i"
                        [label]="'OCCUPATIONAL-HAZARD.BODY-PARTS-CATEGORY' | translate"
                        [placeholder]="'OCCUPATIONAL-HAZARD.BODY-PARTS-CATEGORY' | translate"
                        [control]="control?.get('category')"
                        [list]="bodyPartsCategoryList"
                        [ignoreLabel]="true"
                        [disabled]="isReturn || conveyanceRequired"
                        (selectLov)="onCategorySelected($event, i)"
                        (changeEvent)="onChange($event, i)"
                      >
                      </gosi-input-select-dc>
                    </div>
                  </td>
                  <td class="col-6">
                    <ng-container>
                      <div class="dropdown">
                        <gosi-input-multi-select-dropdown-dc
                          name="'bodyPart' + i"
                          [id]="'bodyPart' + i"
                          [label]="'OCCUPATIONAL-HAZARD.BODY-PARTS' | translate"
                          [control]="control?.get('bodyParts')"
                          [list]="bodyPartsCategoryList?.items[control?.get('bodyPartsIndex')?.value]"
                          (selected)="selectedBodyParts($event, i)"
                          [selectedValues]="bodyPartsArray[i]"
                          [ignoreLabel]="true"
                          [disabled]="isReturn || conveyanceRequired"
                        >
                        </gosi-input-multi-select-dropdown-dc>
                      </div>
                      <!-- [selectedValues]="
                            isReturn
                              ? disabilityDetails?.bodyPartsList[i]?.bodyParts
                              : injuredPerson?.injuredPerson[i]?.bodyParts
                          " -->
                    </ng-container>
                  </td>
                  <td>
                    <div class="delete-icon-align" *ngIf="!isReturn">
                      <a *ngIf="i > 0" [id]="'delete' + i" class="delete-icon" (click)="onDeleteField(i)">
                        <fa-icon size="lg" [icon]="['far', 'trash-alt']"></fa-icon>
                      </a>
                    </div>
                  </td>
                </tr>
              </ng-container>
            </ng-container>
          </ng-container>
        </ng-container>
      </tbody>
    </table>
  <!-- </div> -->
</div>
  <!-- </div> -->
<!-- </ng-container> -->
</div>
