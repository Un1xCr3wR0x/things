<h3 class="annuity-type">{{ 'BENEFITS.ADJUSTMENT-DETAILS' | translate }}</h3>
<div class="row">
  <div
    *ngIf="heirDetails?.benefitList?.length > 0 && heirDetails?.benefitList[0]?.adjustmentList?.length"
    class="col-10 align-items-center table-view"
  >
    <table class="table table-borderless w-100" [ngClass]="!isSmallScreen ? 'overflow-auto w-100' : 'table-responsive'">
      <thead>
        <tr>
          <th>{{ 'BENEFITS.ADJUSTMENT-REASON' | translate }}</th>
          <th>{{ 'BENEFITS.DEBIT-PERCENTAGE' | translate }}</th>
          <th>{{ 'BENEFITS.AMOUNT_ONLY' | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let adjustment of heirDetails?.benefitList[0]?.adjustmentList; let i = index">
          <tr class="data-row">
            <td>{{ adjustment?.adjustmentReason | bilingualText }}</td>
            <td>{{ adjustment?.percentage ? adjustment.percentage + '%' : '-' }}</td>
            <td [ngClass]="adjustment?.adjustmentAmount > 0 ? 'text-green' : 'text-red'">
              {{ adjustment?.adjustmentAmount | numToPositive | number: '1.2-2' }}
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
    <div class="d-flex justify-content-end">
      {{ 'BENEFITS.DIRECT-NET-PAYABLE-AMOUNT' | translate }} :
      <span [ngClass]="heirDetails?.netAmount > 0 ? 'text-green' : 'text-red'">{{
        heirDetails?.netAmount | numToPositive | number: '1.2-2'
      }}</span>
    </div>
    <div class="col-lg-12 col-md-12 col-sm-12">
      <a actOnAlert id="view-ineligible" (click)="viewAdjustmentDetails()"><u>{{ 'BENEFITS.VIEW-ADJUSTMENT-DETAILS' | translate }}</u></a>
     </div>
  </div>
  <div class="col-12">
    <bnt-payment-details-dc #paymentDetailsComponent
      [bankAccountList]="bankAccountList"
      [activeBenefit]="activeBenefit"
      [valNonsaudiBankDetails]="valNonsaudiBankDetails"
      [bankDetails]="bankAccountList"
      [bankName]="bankName"
      [hideSaveButton]="true"
      [parentForm]="parentForm"
      [payeeList]="payeeList"
      [listYesNo]="listYesNo"
      [paymentMethodList]="paymentMethodList"
      [attorneyDetailsWrapper]="attorneyDetailsWrapper"
      [listOfGuardians]="listOfGuardians"
      [newBankForm]="true"
      [personId]="heirDetails?.person?.personId"
      [showPaymentMethod]="false"
      [isValidator]="isEditMode"
      [preselctdAttorney]="heirDetails?.preSelectedAttorneys"
      [savedPayeType]="heirDetails?.agentType"
      [savedPayMethod]="savedPayMethod"
      [cityList$]="cityList$"
      [countryList$]="countryList$"
      [savedAddress]="savedAddress"
      [paymentIndex]="paymentIndex"
      [guardianPersonId]="heirDetails?.agentPersonId"
      (getAuthPerson)="getAttorneyByIdentifier($event)"
      (getGuardian)="getGuardianByIdentifier($event)"
      (loadBankInfoForId)="getBankDetails($event)"
      (getBankName)="getBankName($event)"
    ></bnt-payment-details-dc>
  </div>
</div>
