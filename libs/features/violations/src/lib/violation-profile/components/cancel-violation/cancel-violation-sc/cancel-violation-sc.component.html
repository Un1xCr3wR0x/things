<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<gosi-breadcrumb-dc></gosi-breadcrumb-dc>
<div class="content">
  <frm-main-heading-dc [heading]="'VIOLATIONS.CANCEL-VIOLATION' | translate | titlecase"></frm-main-heading-dc>
  <gosi-progress-wizard-dc
    [wizardItems]="cancelViolationWizardItems"
    (clickWizard)="selectWizard($event)"
    #cancelViolationWizard
  >
  </gosi-progress-wizard-dc>
  <!-- Alert Component -->
  <gosi-alert-sc></gosi-alert-sc>
  <div class="row">
    <div class="col-md-12">
      <div class="hide-tab">
        <tabset class="pills">
          <tab [active]="currentTab === 0">
            <div class="row">
              <div class="col-md-12">
                <vol-cancel-violation-dc
                  (save)="saveCancelVolationDetails($event)"
                  (cancel)="viewModal(cancelTemplate)"
                  (errorFlag)="showError()"
                  [cancelReasonList]="cancelReasonList$ | async"
                  [parentForm]="cancelDetailsForm"
                  [transactionDetails]="transactionDetails"
                  [editMode]="editMode"
                  [violationDetails]="violationDetails"
                ></vol-cancel-violation-dc>
              </div>
            </div>
          </tab>
          <tab [active]="currentTab === 1">
            <div class="row">
              <div class="col-md-12">
                <vol-document-upload-dc
                  [registrationNumber]="violationId"
                  [documentList]="documentList"
                  [isScan]="true"
                  (submit)="submitCancelVolations()"
                  (cancelBtn)="viewModal(cancelTemplate)"
                  (previous)="previousForm()"
                  [parentForm]="cancelDetailsForm"
                  (refresh)="refreshDocument($event)"
                  [transactionNo]="transactionNo"
                  [referenceNo]="transactionTraceId"
                  [editMode]="editMode"
                >
                </vol-document-upload-dc>
              </div>
            </div>
          </tab>
        </tabset>
      </div>
    </div>
  </div>
</div>
<ng-template #cancelTemplate>
  <gosi-confirm-modal-dc [message]="'VIOLATIONS.INFO-CANCEL'" (onConfirm)="confirmCancel()" (onCancel)="hideModal()">
  </gosi-confirm-modal-dc>
</ng-template>
