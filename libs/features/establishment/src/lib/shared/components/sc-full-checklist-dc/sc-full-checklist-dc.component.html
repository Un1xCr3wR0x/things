<!--
  ~ Copyright GOSI. All Rights Reserved.
  ~  This software is the proprietary information of GOSI.
  ~  Use is subject to license terms.
  -->
<!-- Heading-->
<div class="custom-modal">
  <gosi-modal-dc [modalHeader]="'ESTABLISHMENT.SAFETY-CHECK-LIST' | translate">
    <!-- ESTABLISHMENT.FULL-CHECKLIST-HEADING -->
    <div class="total" modalSubHeading>
      <!-- <fa-icon class="file-icon-fa file-pdf" [icon]="['far', 'file-pdf']" (click)="showPDF()"></fa-icon> -->

      <button type="button" class="close" aria-label="Close" (click)="hideModal()">
        <fa-icon icon="times"></fa-icon>
      </button>
    </div>
    <div modalContent>
      <div class="content">
        <!-- penalty Calculation Table  Details-->
        <div class="row d-flex align-items-center">
          <div class="col-md-12">
            <accordion *ngFor="let category of safetyChecklists; let catIndex = index">
              <accordion-group
                id="{{ 'checkList' + catIndex }}"
                class="accordion-group-class"
                (isOpenChange)="selectPanel($event, catIndex + 1)"
                [isOpen]="accordionPanel === catIndex + 1"
              >
                <div accordion-heading>
                  <span class="name-value">
                    {{ category?.mainCategory | bilingualText | titlecase }}
                  </span>
                </div>
                <div accordion-heading class="symbol-adjust">
                  <!-- <span accordion-heading>
                    <ng-container *ngIf="category?.selectedCount">
                      <span class="selected-item-count"> {{ category?.selectedCount }}</span>
                    </ng-container>
                  </span> -->
                  <span accordion-heading class="pl-2 pr-2">
                    <ng-container *ngIf="category?.selectedCount > 0">
                      <!-- icon section -->
                      <img alt="documentName" src="assets/icons/check-list.svg" />
                    </ng-container>
                  </span>
                  <span class="arrow-up-period arrow-color" accordion-heading>
                    <span>
                      <fa-icon class="icon-margin" icon="angle-up" size="lg"></fa-icon>
                    </span>
                  </span>
                  <span class="arrow-down-period arrow-color" accordion-heading>
                    <span>
                      <fa-icon class="icon-margin" icon="angle-down" size="lg"></fa-icon>
                    </span>
                  </span>
                </div>
                <ng-container *ngFor="let subCategory of category?.subCategory; let subIndex = index">
                  <ng-container *ngIf="subCategory?.valueType !== valueTypeSingle">
                    <div class="row pb-3">
                      <div class="col-lg-12">
                        <span class="value">{{ subIndex + 1 }}. </span>
                        <span class="value">{{ subCategory?.subCategory | bilingualText | titlecase }}</span>
                      </div>
                    </div>
                    <div class="mb-3" *ngFor="let guideLine of subCategory?.guideLines; let guideIndex = index">
                      <div class="checkbox">
                        <div>
                          <span class="guideLineValue">{{ subIndex + 1 }}.{{ guideIndex + 1 }} </span>
                          <span class="guideLineValue">{{ guideLine?.guideline | bilingualText }}</span>
                          <span *ngIf="guideLine?.selected === true">
                            <fa-icon
                              class="icon-margin float-right selected-guideline"
                              icon="check-square"
                              size="lg"
                            ></fa-icon>
                          </span>
                        </div>
                        <ng-container *ngIf="guideLine?.selected === true && guideLine?.additionalInfoList?.length > 0">
                          <div class="row add-info">
                            <ng-container
                              *ngFor="let addInfo of guideLine?.additionalInfoList; let addInfoIndex = index"
                            >
                              <div class="col-auto add-info-section" *ngIf="addInfo?.value">
                                {{ addInfo?.additionalInfo | bilingualText }} :
                                <span>{{ addInfo?.value }} {{ addInfo?.unit }}</span>
                              </div>
                            </ng-container>
                          </div>
                        </ng-container>
                      </div>
                    </div>
                  </ng-container>
                </ng-container>
              </accordion-group>
            </accordion>
          </div>
        </div>
      </div>
    </div>
  </gosi-modal-dc>
</div>
