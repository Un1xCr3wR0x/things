<!-- Copyright GOSI. All Rights Reserved.
This software is the proprietary information of GOSI.
Use is subject to license terms. -->
<gosi-breadcrumb-dc></gosi-breadcrumb-dc>
<div class="content">
  <gosi-main-heading-dc header="{{ 'MEDICAL-BOARD.CONTACT-DETAILS' | translate }}"> </gosi-main-heading-dc>
  <gosi-alert-sc></gosi-alert-sc>
  <gosi-card-dc type="secondary">
    <frm-contact-dc
      #contactDetails
      [isHeadingRequired]="false"
      [contactDetails]="person?.contactDetail"
      [defaultOnly]="false"
      [readOnlyAll]="false"
      [enableEmail]="true"
      [emailMandatory]="true"
    >
    </frm-contact-dc>

    <div class="d-flex flex-wrap form-action">
      <div class="btn-section order-2 order-md-0">
        <gosi-button-dc name="cancelSubmit" type="secondary" (submit)="popUpCancel(cancelTemplate)"
          >{{ 'MEDICAL-BOARD.CANCEL' | translate }}
        </gosi-button-dc>
      </div>
      <div class="btn-section order-0 order-md-2" [ngClass]="{ 'ml-auto': true }">
        <gosi-button-dc type="primary" (submit)="saveContactDetais()"
          >{{ 'MEDICAL-BOARD.SAVE' | translate }}
        </gosi-button-dc>
      </div>
    </div>
  </gosi-card-dc>
</div>
<!-- Modals -->
<ng-template #cancelTemplate>
  <gosi-confirm-modal-dc [message]="'MEDICAL-BOARD.INFO-CANCEL'" (onConfirm)="confirmCancel()" (onCancel)="decline()">
  </gosi-confirm-modal-dc>
</ng-template>
<!--OTP verification
<ng-container *ngIf="otpContract">
  <div class="content">
    <div class="row">
      <div class="col-lg-12">
        <div class="heading-prop">{{ 'MEDICAL-BOARD.VERIFY-OTP' | translate }}</div>
      </div>
    </div>
    <div class="col-md-12 col-lg-12 otpinfo mb-4" *ngIf="isResend === false && inCorrectOtp !== 3">
      <gosi-alert-dc [message]="'MEDICAL-BOARD.OTP-SENT-INFO' | translate" type="info" [dismissible]="false">
      </gosi-alert-dc>
    </div>
    <div *ngIf="isResend === true">
      <div *ngIf="noOfIncorrectOtp !== noOfResend">
        <gosi-alert-dc [message]="'MEDICAL-BOARD.OTP-RESEND-INFO' | translate" type="info" [dismissible]="false">
        </gosi-alert-dc>
      </div>
    </div>
    <ng-container *ngIf="showOtpError && isNullOtp === true">
      <gosi-alert-dc type="danger" [dismissible]="false" [message]="'MEDICAL-BOARD.ERROR.OTP_ERROR_NO_OTP' | translate">
      </gosi-alert-dc>
    </ng-container>
    <div *ngIf="inCorrectOtp >= 1 && inCorrectOtp % 3 === 0 && !isResend">
      <gosi-alert-dc type="info" [message]="'MEDICAL-BOARD.OTP-EXCEED-INFO' | translate" [dismissible]="false">
      </gosi-alert-dc>
    </div>
    <div>
      <gosi-alert-sc> </gosi-alert-sc>
    </div>
    <gosi-card-dc type="secondary">
      <div class="row">
        <div class="col-lg-12">
          <div class="col-lg-6">
            <div class="mb-3 lbl-prop mr-1 ml-1">
              <div class="d-inline-block">{{ 'MEDICAL-BOARD.OTP' | translate }}</div>
            </div>
            <gosi-input-otp-dc
              [componentId]="'bypassAuth'"
              (timerStopped)="hasRetriesExceeded()"
              [otpLength]="4"
              [isValid]="isOtpValid"
              [disabledOTP]="disabledOTP"
            >
            </gosi-input-otp-dc>
          </div>
          <div class="col-lg-6 d-flex justify-content-flex-end timer-wrapper">
            <gosi-timer-dc (timerStopped)="hasRetriesExceeded()" [min]="minutes"> </gosi-timer-dc>
          </div>
          <div class="col-lg-6 d-flex justify-content-flex-left">
            <div class="regen-otp p-2">
              <a id="resendOtp" class="resend-otp custom-wrap">
                {{ 'MEDICAL-BOARD.VERIFY-OTP.REGENERATEOTP' | translate }}
              </a>
            </div>
          </div>
        </div>
      </div>
    </gosi-card-dc>
    <div class="row form-action">
      <div class="col-lg-12 form-action">
        <div class="btn-section float-right">
          <gosi-button-dc id="verify" type="primary" (submit)="verifyOTP()">
            {{ 'MEDICAL-BOARD.VERIFY' | translate }}
          </gosi-button-dc>
        </div>
        <div class="btn-section float-left">
          <gosi-button-dc id="cancel" type="secondary">
            {{ 'MEDICAL-BOARD.CANCEL' | translate }}
          </gosi-button-dc>
        </div>
      </div>
    </div>
  </div>
 templates elTemplate>
    <gosi-confirm-modal-dc [message]="'MEDICAL-BOARD.INFO-CANCEL'"> </gosi-confirm-modal-dc>
  </ng-template>
</ng-container> -->
<ng-container *ngIf="otpContract">
  <div class="content">
    <div class="row">
      <div class="col-lg-12">
        <mb-contact-otp-dc
        (cancel)="popUpCancel(cancelTemplate)"
        (onVerifyClicked)="verifyOTP($event)"
        (onResendOTPClicked)="reSendOTP()"
        [mob_num]="mob"></mb-contact-otp-dc>
      </div>
    </div>
  </div>
</ng-container>
