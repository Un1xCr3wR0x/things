<!-- Copyright GOSI. All Rights Reserved.
This software is the proprietary information of GOSI.
Use is subject to license terms. -->
<cim-transaction-template-dc
  [transactionName]="'CUSTOMER-INFORMATION.ADD-BORDER'"
  [contributor]="contributor"
  [showInfo]="currentTab === 0 ? true : false"
  [showFeedback]="currentTab === 1 ? true : false"
  [feedbackMessage]="feedBackMessage"
  [showSubHeadings]="(editTransaction || manageService.isEdit) && currentTab === 0"
  [subHeadings]="subHeadings"
>
  <div id="transactionContent" *ngIf="currentTab === 0">
    <ng-container *ngIf="person">
      <div class="card">
        <cim-add-border-dc
          *ngIf="documents$"
          [uuid]="uuid"
          [parentForm]="borderForm"
          [personId]="person.personId"
          [documents]="documents$ | async"
          [comments]="comments$ | async"
          [referenceNo]="borderReferenceNo"
          [isCsr]="isAppPrivate"
          (refresh)="refreshDocument(true, $event)"
          [isComments]="editTransaction || manageService.isEdit"
        >
        </cim-add-border-dc>
      </div>
    </ng-container>
  </div>
  <div id="transactionAction" *ngIf="currentTab === 0">
    <cim-footer-button-dc
      *ngIf="showFeedback === false"
      primaryLabel="CUSTOMER-INFORMATION.SUBMIT"
      [showPrevious]="false"
      (submit)="saveBorder()"
      (cancel)="showModal(cancelTemplate)"
    >
    </cim-footer-button-dc>
  </div>
  <div id="transactionAction" *ngIf="currentTab === 1">
    <div class="d-flex flex-wrap justify-content-between">
      <div>
        <gosi-button-dc [id]="'cancel'" type="secondary" (submit)="navigateToPage()">
          {{ 'CUSTOMER-INFORMATION.HOME' | translate }}
        </gosi-button-dc>
      </div>
    </div>
  </div>
  <ng-template #cancelTemplate>
    <gosi-confirm-modal-dc
      iconName="warning"
      message="ESTABLISHMENT.INFO-CANCEL"
      (onConfirm)="cancelModal()"
      (onCancel)="decline()"
    >
    </gosi-confirm-modal-dc>
  </ng-template>
</cim-transaction-template-dc>
